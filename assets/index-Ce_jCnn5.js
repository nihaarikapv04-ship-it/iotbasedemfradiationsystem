(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function Jx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var tf={exports:{}},va={};var Q_;function $x(){if(Q_)return va;Q_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(l,a,r){var u=null;if(r!==void 0&&(u=""+r),a.key!==void 0&&(u=""+a.key),"key"in a){r={};for(var h in a)h!=="key"&&(r[h]=a[h])}else r=a;return a=r.ref,{$$typeof:i,type:l,key:u,ref:a!==void 0?a:null,props:r}}return va.Fragment=t,va.jsx=n,va.jsxs=n,va}var W_;function tE(){return W_||(W_=1,tf.exports=$x()),tf.exports}var tt=tE(),ef={exports:{}},rt={};var K_;function eE(){if(K_)return rt;K_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=v&&A[v]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function k(A,H,G){this.props=A,this.context=H,this.refs=M,this.updater=G||x}k.prototype.isReactComponent={},k.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function V(){}V.prototype=k.prototype;function Y(A,H,G){this.props=A,this.context=H,this.refs=M,this.updater=G||x}var P=Y.prototype=new V;P.constructor=Y,C(P,k.prototype),P.isPureReactComponent=!0;var j=Array.isArray;function Q(){}var U={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function et(A,H,G){var W=G.ref;return{$$typeof:i,type:A,key:H,ref:W!==void 0?W:null,props:G}}function ft(A,H){return et(A.type,H,A.props)}function lt(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function at(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(G){return H[G]})}var Pt=/\/+/g;function te(A,H){return typeof A=="object"&&A!==null&&A.key!=null?at(""+A.key):H.toString(36)}function xt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Q,Q):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,H,G,W,it){var ot=typeof A;(ot==="undefined"||ot==="boolean")&&(A=null);var wt=!1;if(A===null)wt=!0;else switch(ot){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(A.$$typeof){case i:case t:wt=!0;break;case p:return wt=A._init,N(wt(A._payload),H,G,W,it)}}if(wt)return it=it(A),wt=W===""?"."+te(A,0):W,j(it)?(G="",wt!=null&&(G=wt.replace(Pt,"$&/")+"/"),N(it,H,G,"",function(Al){return Al})):it!=null&&(lt(it)&&(it=ft(it,G+(it.key==null||A&&A.key===it.key?"":(""+it.key).replace(Pt,"$&/")+"/")+wt)),H.push(it)),1;wt=0;var xe=W===""?".":W+":";if(j(A))for(var Kt=0;Kt<A.length;Kt++)W=A[Kt],ot=xe+te(W,Kt),wt+=N(W,H,G,ot,it);else if(Kt=S(A),typeof Kt=="function")for(A=Kt.call(A),Kt=0;!(W=A.next()).done;)W=W.value,ot=xe+te(W,Kt++),wt+=N(W,H,G,ot,it);else if(ot==="object"){if(typeof A.then=="function")return N(xt(A),H,G,W,it);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return wt}function F(A,H,G){if(A==null)return A;var W=[],it=0;return N(A,W,"","",function(ot){return H.call(G,ot,it++)}),W}function $(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(G){(A._status===0||A._status===-1)&&(A._status=1,A._result=G)},function(G){(A._status===0||A._status===-1)&&(A._status=2,A._result=G)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var Et=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},bt={map:F,forEach:function(A,H,G){F(A,function(){H.apply(this,arguments)},G)},count:function(A){var H=0;return F(A,function(){H++}),H},toArray:function(A){return F(A,function(H){return H})||[]},only:function(A){if(!lt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return rt.Activity=y,rt.Children=bt,rt.Component=k,rt.Fragment=n,rt.Profiler=a,rt.PureComponent=Y,rt.StrictMode=l,rt.Suspense=d,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,rt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return U.H.useMemoCache(A)}},rt.cache=function(A){return function(){return A.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(A,H,G){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=C({},A.props),it=A.key;if(H!=null)for(ot in H.key!==void 0&&(it=""+H.key),H)!X.call(H,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&H.ref===void 0||(W[ot]=H[ot]);var ot=arguments.length-2;if(ot===1)W.children=G;else if(1<ot){for(var wt=Array(ot),xe=0;xe<ot;xe++)wt[xe]=arguments[xe+2];W.children=wt}return et(A.type,it,W)},rt.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:r,_context:A},A},rt.createElement=function(A,H,G){var W,it={},ot=null;if(H!=null)for(W in H.key!==void 0&&(ot=""+H.key),H)X.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(it[W]=H[W]);var wt=arguments.length-2;if(wt===1)it.children=G;else if(1<wt){for(var xe=Array(wt),Kt=0;Kt<wt;Kt++)xe[Kt]=arguments[Kt+2];it.children=xe}if(A&&A.defaultProps)for(W in wt=A.defaultProps,wt)it[W]===void 0&&(it[W]=wt[W]);return et(A,ot,it)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(A){return{$$typeof:h,render:A}},rt.isValidElement=lt,rt.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:$}},rt.memo=function(A,H){return{$$typeof:m,type:A,compare:H===void 0?null:H}},rt.startTransition=function(A){var H=U.T,G={};U.T=G;try{var W=A(),it=U.S;it!==null&&it(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Q,Et)}catch(ot){Et(ot)}finally{H!==null&&G.types!==null&&(H.types=G.types),U.T=H}},rt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},rt.use=function(A){return U.H.use(A)},rt.useActionState=function(A,H,G){return U.H.useActionState(A,H,G)},rt.useCallback=function(A,H){return U.H.useCallback(A,H)},rt.useContext=function(A){return U.H.useContext(A)},rt.useDebugValue=function(){},rt.useDeferredValue=function(A,H){return U.H.useDeferredValue(A,H)},rt.useEffect=function(A,H){return U.H.useEffect(A,H)},rt.useEffectEvent=function(A){return U.H.useEffectEvent(A)},rt.useId=function(){return U.H.useId()},rt.useImperativeHandle=function(A,H,G){return U.H.useImperativeHandle(A,H,G)},rt.useInsertionEffect=function(A,H){return U.H.useInsertionEffect(A,H)},rt.useLayoutEffect=function(A,H){return U.H.useLayoutEffect(A,H)},rt.useMemo=function(A,H){return U.H.useMemo(A,H)},rt.useOptimistic=function(A,H){return U.H.useOptimistic(A,H)},rt.useReducer=function(A,H,G){return U.H.useReducer(A,H,G)},rt.useRef=function(A){return U.H.useRef(A)},rt.useState=function(A){return U.H.useState(A)},rt.useSyncExternalStore=function(A,H,G){return U.H.useSyncExternalStore(A,H,G)},rt.useTransition=function(){return U.H.useTransition()},rt.version="19.2.0",rt}var Z_;function td(){return Z_||(Z_=1,ef.exports=eE()),ef.exports}var Ce=td();const nE=Jx(Ce);var nf={exports:{}},ba={},sf={exports:{}},lf={};var J_;function iE(){return J_||(J_=1,(function(i){function t(N,F){var $=N.length;N.push(F);t:for(;0<$;){var Et=$-1>>>1,bt=N[Et];if(0<a(bt,F))N[Et]=F,N[$]=bt,$=Et;else break t}}function n(N){return N.length===0?null:N[0]}function l(N){if(N.length===0)return null;var F=N[0],$=N.pop();if($!==F){N[0]=$;t:for(var Et=0,bt=N.length,A=bt>>>1;Et<A;){var H=2*(Et+1)-1,G=N[H],W=H+1,it=N[W];if(0>a(G,$))W<bt&&0>a(it,G)?(N[Et]=it,N[W]=$,Et=W):(N[Et]=G,N[H]=$,Et=H);else if(W<bt&&0>a(it,$))N[Et]=it,N[W]=$,Et=W;else break t}}return F}function a(N,F){var $=N.sortIndex-F.sortIndex;return $!==0?$:N.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var d=[],m=[],p=1,y=null,v=3,S=!1,x=!1,C=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function P(N){for(var F=n(m);F!==null;){if(F.callback===null)l(m);else if(F.startTime<=N)l(m),F.sortIndex=F.expirationTime,t(d,F);else break;F=n(m)}}function j(N){if(C=!1,P(N),!x)if(n(d)!==null)x=!0,Q||(Q=!0,at());else{var F=n(m);F!==null&&xt(j,F.startTime-N)}}var Q=!1,U=-1,X=5,et=-1;function ft(){return M?!0:!(i.unstable_now()-et<X)}function lt(){if(M=!1,Q){var N=i.unstable_now();et=N;var F=!0;try{t:{x=!1,C&&(C=!1,V(U),U=-1),S=!0;var $=v;try{e:{for(P(N),y=n(d);y!==null&&!(y.expirationTime>N&&ft());){var Et=y.callback;if(typeof Et=="function"){y.callback=null,v=y.priorityLevel;var bt=Et(y.expirationTime<=N);if(N=i.unstable_now(),typeof bt=="function"){y.callback=bt,P(N),F=!0;break e}y===n(d)&&l(d),P(N)}else l(d);y=n(d)}if(y!==null)F=!0;else{var A=n(m);A!==null&&xt(j,A.startTime-N),F=!1}}break t}finally{y=null,v=$,S=!1}F=void 0}}finally{F?at():Q=!1}}}var at;if(typeof Y=="function")at=function(){Y(lt)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,te=Pt.port2;Pt.port1.onmessage=lt,at=function(){te.postMessage(null)}}else at=function(){k(lt,0)};function xt(N,F){U=k(function(){N(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(N){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var $=v;v=F;try{return N()}finally{v=$}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=v;v=N;try{return F()}finally{v=$}},i.unstable_scheduleCallback=function(N,F,$){var Et=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Et+$:Et):$=Et,N){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=$+bt,N={id:p++,callback:F,priorityLevel:N,startTime:$,expirationTime:bt,sortIndex:-1},$>Et?(N.sortIndex=$,t(m,N),n(d)===null&&N===n(m)&&(C?(V(U),U=-1):C=!0,xt(j,$-Et))):(N.sortIndex=bt,t(d,N),x||S||(x=!0,Q||(Q=!0,at()))),N},i.unstable_shouldYield=ft,i.unstable_wrapCallback=function(N){var F=v;return function(){var $=v;v=F;try{return N.apply(this,arguments)}finally{v=$}}}})(lf)),lf}var $_;function sE(){return $_||($_=1,sf.exports=iE()),sf.exports}var af={exports:{}},ye={};var ty;function lE(){if(ty)return ye;ty=1;var i=td();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(d,m,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:p}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ye.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return r(d,m,null,p)},ye.flushSync=function(d){var m=u.T,p=l.p;try{if(u.T=null,l.p=2,d)return d()}finally{u.T=m,l.p=p,l.d.f()}},ye.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(d,m))},ye.prefetchDNS=function(d){typeof d=="string"&&l.d.D(d)},ye.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,y=h(p,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?l.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):p==="script"&&l.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ye.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=h(m.as,m.crossOrigin);l.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(d)},ye.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,y=h(p,m.crossOrigin);l.d.L(d,p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ye.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=h(m.as,m.crossOrigin);l.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(d)},ye.requestFormReset=function(d){l.d.r(d)},ye.unstable_batchedUpdates=function(d,m){return d(m)},ye.useFormState=function(d,m,p){return u.H.useFormState(d,m,p)},ye.useFormStatus=function(){return u.H.useHostTransitionStatus()},ye.version="19.2.0",ye}var ey;function aE(){if(ey)return af.exports;ey=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),af.exports=lE(),af.exports}var ny;function oE(){if(ny)return ba;ny=1;var i=sE(),t=td(),n=aE();function l(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function r(e){var s=e,o=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(o=s.return),e=s.return;while(e)}return s.tag===3?o:null}function u(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function h(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(r(e)!==e)throw Error(l(188))}function m(e){var s=e.alternate;if(!s){if(s=r(e),s===null)throw Error(l(188));return s!==e?null:e}for(var o=e,c=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),e;if(g===c)return d(f),s;g=g.sibling}throw Error(l(188))}if(o.return!==c.return)o=f,c=g;else{for(var _=!1,b=f.child;b;){if(b===o){_=!0,o=f,c=g;break}if(b===c){_=!0,c=f,o=g;break}b=b.sibling}if(!_){for(b=g.child;b;){if(b===o){_=!0,o=g,c=f;break}if(b===c){_=!0,c=g,o=f;break}b=b.sibling}if(!_)throw Error(l(189))}}if(o.alternate!==c)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?e:s}function p(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=p(e),s!==null)return s;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function at(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Pt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case j:return"Suspense";case Q:return"SuspenseList";case et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case Y:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case P:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return s=e.displayName||null,s!==null?s:te(e.type)||"Memo";case X:s=e._payload,e=e._init;try{return te(e(s))}catch{}}return null}var xt=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Et=[],bt=-1;function A(e){return{current:e}}function H(e){0>bt||(e.current=Et[bt],Et[bt]=null,bt--)}function G(e,s){bt++,Et[bt]=e.current,e.current=s}var W=A(null),it=A(null),ot=A(null),wt=A(null);function xe(e,s){switch(G(ot,s),G(it,e),G(W,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=__(s),e=y_(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(W),G(W,e)}function Kt(){H(W),H(it),H(ot)}function Al(e){e.memoizedState!==null&&G(wt,e);var s=W.current,o=y_(s,e.type);s!==o&&(G(it,e),G(W,o))}function mo(e){it.current===e&&(H(W),H(it)),wt.current===e&&(H(wt),ma._currentValue=$)}var Ic,Xd;function Hi(e){if(Ic===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ic=s&&s[1]||"",Xd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ic+e+Xd}var Hc=!1;function Bc(e,s){if(!e||Hc)return"";Hc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(z){var R=z}Reflect.construct(e,[],B)}else{try{B.call()}catch(z){R=z}e.call(B.prototype)}}else{try{throw Error()}catch(z){R=z}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(z){if(z&&R&&typeof z.stack=="string")return[z.stack,R.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],b=g[1];if(_&&b){var E=_.split(`
`),O=b.split(`
`);for(f=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(c===E.length||f===O.length)for(c=E.length-1,f=O.length-1;1<=c&&0<=f&&E[c]!==O[f];)f--;for(;1<=c&&0<=f;c--,f--)if(E[c]!==O[f]){if(c!==1||f!==1)do if(c--,f--,0>f||E[c]!==O[f]){var L=`
`+E[c].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=c&&0<=f);break}}}finally{Hc=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Hi(o):""}function w1(e,s){switch(e.tag){case 26:case 27:case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return e.child!==s&&s!==null?Hi("Suspense Fallback"):Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Bc(e.type,!1);case 11:return Bc(e.type.render,!1);case 1:return Bc(e.type,!0);case 31:return Hi("Activity");default:return""}}function Qd(e){try{var s="",o=null;do s+=w1(e,o),o=e,e=e.return;while(e);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Uc=Object.prototype.hasOwnProperty,jc=i.unstable_scheduleCallback,Vc=i.unstable_cancelCallback,O1=i.unstable_shouldYield,R1=i.unstable_requestPaint,Be=i.unstable_now,N1=i.unstable_getCurrentPriorityLevel,Wd=i.unstable_ImmediatePriority,Kd=i.unstable_UserBlockingPriority,po=i.unstable_NormalPriority,z1=i.unstable_LowPriority,Zd=i.unstable_IdlePriority,k1=i.log,L1=i.unstable_setDisableYieldValue,Ml=null,Ue=null;function ti(e){if(typeof k1=="function"&&L1(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ml,e)}catch{}}var je=Math.clz32?Math.clz32:B1,I1=Math.log,H1=Math.LN2;function B1(e){return e>>>=0,e===0?32:31-(I1(e)/H1|0)|0}var _o=256,yo=262144,vo=4194304;function Bi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bo(e,s,o){var c=e.pendingLanes;if(c===0)return 0;var f=0,g=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=c&134217727;return b!==0?(c=b&~g,c!==0?f=Bi(c):(_&=b,_!==0?f=Bi(_):o||(o=b&~e,o!==0&&(f=Bi(o))))):(b=c&~g,b!==0?f=Bi(b):_!==0?f=Bi(_):o||(o=c&~e,o!==0&&(f=Bi(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Dl(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function U1(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jd(){var e=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),e}function Fc(e){for(var s=[],o=0;31>o;o++)s.push(e);return s}function wl(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function j1(e,s,o,c,f,g){var _=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var b=e.entanglements,E=e.expirationTimes,O=e.hiddenUpdates;for(o=_&~o;0<o;){var L=31-je(o),B=1<<L;b[L]=0,E[L]=-1;var R=O[L];if(R!==null)for(O[L]=null,L=0;L<R.length;L++){var z=R[L];z!==null&&(z.lane&=-536870913)}o&=~B}c!==0&&$d(e,c,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(_&~s))}function $d(e,s,o){e.pendingLanes|=s,e.suspendedLanes&=~s;var c=31-je(s);e.entangledLanes|=s,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function tg(e,s){var o=e.entangledLanes|=s;for(e=e.entanglements;o;){var c=31-je(o),f=1<<c;f&s|e[c]&s&&(e[c]|=s),o&=~f}}function eg(e,s){var o=s&-s;return o=(o&42)!==0?1:Yc(o),(o&(e.suspendedLanes|s))!==0?0:o}function Yc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ng(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:V_(e.type))}function ig(e,s){var o=F.p;try{return F.p=e,s()}finally{F.p=o}}var ei=Math.random().toString(36).slice(2),fe="__reactFiber$"+ei,Te="__reactProps$"+ei,Ss="__reactContainer$"+ei,Gc="__reactEvents$"+ei,V1="__reactListeners$"+ei,F1="__reactHandles$"+ei,sg="__reactResources$"+ei,Ol="__reactMarker$"+ei;function Pc(e){delete e[fe],delete e[Te],delete e[Gc],delete e[V1],delete e[F1]}function xs(e){var s=e[fe];if(s)return s;for(var o=e.parentNode;o;){if(s=o[Ss]||o[fe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(e=T_(e);e!==null;){if(o=e[fe])return o;e=T_(e)}return s}e=o,o=e.parentNode}return null}function Es(e){if(e=e[fe]||e[Ss]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Rl(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(l(33))}function Cs(e){var s=e[sg];return s||(s=e[sg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function oe(e){e[Ol]=!0}var lg=new Set,ag={};function Ui(e,s){Ts(e,s),Ts(e+"Capture",s)}function Ts(e,s){for(ag[e]=s,e=0;e<s.length;e++)lg.add(s[e])}var Y1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),og={},rg={};function q1(e){return Uc.call(rg,e)?!0:Uc.call(og,e)?!1:Y1.test(e)?rg[e]=!0:(og[e]=!0,!1)}function So(e,s,o){if(q1(s))if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+o)}}function xo(e,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+o)}}function Mn(e,s,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(s,o,""+c)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cg(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function G1(e,s,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(e,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Xc(e){if(!e._valueTracker){var s=cg(e)?"checked":"value";e._valueTracker=G1(e,s,""+e[s])}}function ug(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return e&&(c=cg(e)?e.checked?"true":"false":e.value),e=c,e!==o?(s.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var P1=/[\n"\\]/g;function Ze(e){return e.replace(P1,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qc(e,s,o,c,f,g,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ke(s)):e.value!==""+Ke(s)&&(e.value=""+Ke(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?Wc(e,_,Ke(s)):o!=null?Wc(e,_,Ke(o)):c!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ke(b):e.removeAttribute("name")}function hg(e,s,o,c,f,g,_,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xc(e);return}o=o!=null?""+Ke(o):"",s=s!=null?""+Ke(s):o,b||s===e.value||(e.value=s),e.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=b?e.checked:!!c,e.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Xc(e)}function Wc(e,s,o){s==="number"&&Eo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function As(e,s,o,c){if(e=e.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=s.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Ke(o),s=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function fg(e,s,o){if(s!=null&&(s=""+Ke(s),s!==e.value&&(e.value=s),o==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=o!=null?""+Ke(o):""}function dg(e,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(l(92));if(xt(c)){if(1<c.length)throw Error(l(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Ke(s),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),Xc(e)}function Ms(e,s){if(s){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=s;return}}e.textContent=s}var X1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gg(e,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":c?e.setProperty(s,o):typeof o!="number"||o===0||X1.has(s)?s==="float"?e.cssFloat=o:e[s]=(""+o).trim():e[s]=o+"px"}function mg(e,s,o){if(s!=null&&typeof s!="object")throw Error(l(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&gg(e,f,c)}else for(var g in s)s.hasOwnProperty(g)&&gg(e,g,s[g])}function Kc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(e){return W1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Zc=null;function Jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,ws=null;function pg(e){var s=Es(e);if(s&&(e=s.stateNode)){var o=e[Te]||null;t:switch(e=s.stateNode,s.type){case"input":if(Qc(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ze(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==e&&c.form===e.form){var f=c[Te]||null;if(!f)throw Error(l(90));Qc(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===e.form&&ug(c)}break t;case"textarea":fg(e,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&As(e,!!o.multiple,s,!1)}}}var $c=!1;function _g(e,s,o){if($c)return e(s,o);$c=!0;try{var c=e(s);return c}finally{if($c=!1,(Ds!==null||ws!==null)&&(hr(),Ds&&(s=Ds,e=ws,ws=Ds=null,pg(s),e)))for(s=0;s<e.length;s++)pg(e[s])}}function Nl(e,s){var o=e.stateNode;if(o===null)return null;var c=o[Te]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(l(231,s,typeof o));return o}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=!1;if(wn)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){tu=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{tu=!1}var ni=null,eu=null,To=null;function yg(){if(To)return To;var e,s=eu,o=s.length,c,f="value"in ni?ni.value:ni.textContent,g=f.length;for(e=0;e<o&&s[e]===f[e];e++);var _=o-e;for(c=1;c<=_&&s[o-c]===f[g-c];c++);return To=f.slice(e,1<c?1-c:void 0)}function Ao(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function vg(){return!1}function Ae(e){function s(o,c,f,g,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(o=e[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Mo:vg,this.isPropagationStopped=vg,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),s}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Ae(ji),kl=y({},ji,{view:0,detail:0}),K1=Ae(kl),nu,iu,Ll,wo=y({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ll&&(Ll&&e.type==="mousemove"?(nu=e.screenX-Ll.screenX,iu=e.screenY-Ll.screenY):iu=nu=0,Ll=e),nu)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),bg=Ae(wo),Z1=y({},wo,{dataTransfer:0}),J1=Ae(Z1),$1=y({},kl,{relatedTarget:0}),su=Ae($1),tS=y({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=Ae(tS),nS=y({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iS=Ae(nS),sS=y({},ji,{data:0}),Sg=Ae(sS),lS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rS(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=oS[e])?!!s[e]:!1}function lu(){return rS}var cS=y({},kl,{key:function(e){if(e.key){var s=lS[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uS=Ae(cS),hS=y({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Ae(hS),fS=y({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),dS=Ae(fS),gS=y({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=Ae(gS),pS=y({},wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_S=Ae(pS),yS=y({},ji,{newState:0,oldState:0}),vS=Ae(yS),bS=[9,13,27,32],au=wn&&"CompositionEvent"in window,Il=null;wn&&"documentMode"in document&&(Il=document.documentMode);var SS=wn&&"TextEvent"in window&&!Il,Eg=wn&&(!au||Il&&8<Il&&11>=Il),Cg=" ",Tg=!1;function Ag(e,s){switch(e){case"keyup":return bS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function xS(e,s){switch(e){case"compositionend":return Mg(s);case"keypress":return s.which!==32?null:(Tg=!0,Cg);case"textInput":return e=s.data,e===Cg&&Tg?null:e;default:return null}}function ES(e,s){if(Os)return e==="compositionend"||!au&&Ag(e,s)?(e=yg(),To=eu=ni=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eg&&s.locale!=="ko"?null:s.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!CS[e.type]:s==="textarea"}function wg(e,s,o,c){Ds?ws?ws.push(c):ws=[c]:Ds=c,s=yr(s,"onChange"),0<s.length&&(o=new Do("onChange","change",null,o,c),e.push({event:o,listeners:s}))}var Hl=null,Bl=null;function TS(e){h_(e,0)}function Oo(e){var s=Rl(e);if(ug(s))return e}function Og(e,s){if(e==="change")return s}var Rg=!1;if(wn){var ou;if(wn){var ru="oninput"in document;if(!ru){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),ru=typeof Ng.oninput=="function"}ou=ru}else ou=!1;Rg=ou&&(!document.documentMode||9<document.documentMode)}function zg(){Hl&&(Hl.detachEvent("onpropertychange",kg),Bl=Hl=null)}function kg(e){if(e.propertyName==="value"&&Oo(Bl)){var s=[];wg(s,Bl,e,Jc(e)),_g(TS,s)}}function AS(e,s,o){e==="focusin"?(zg(),Hl=s,Bl=o,Hl.attachEvent("onpropertychange",kg)):e==="focusout"&&zg()}function MS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(Bl)}function DS(e,s){if(e==="click")return Oo(s)}function wS(e,s){if(e==="input"||e==="change")return Oo(s)}function OS(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Ve=typeof Object.is=="function"?Object.is:OS;function Ul(e,s){if(Ve(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var o=Object.keys(e),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Uc.call(s,f)||!Ve(e[f],s[f]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ig(e,s){var o=Lg(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=s&&c>=s)return{node:o,offset:s-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Lg(o)}}function Hg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Hg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Eo(e.document);s instanceof e.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)e=s.contentWindow;else break;s=Eo(e.document)}return s}function cu(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var RS=wn&&"documentMode"in document&&11>=document.documentMode,Rs=null,uu=null,jl=null,hu=!1;function Ug(e,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hu||Rs==null||Rs!==Eo(c)||(c=Rs,"selectionStart"in c&&cu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),jl&&Ul(jl,c)||(jl=c,c=yr(uu,"onSelect"),0<c.length&&(s=new Do("onSelect","select",null,s,o),e.push({event:s,listeners:c}),s.target=Rs)))}function Vi(e,s){var o={};return o[e.toLowerCase()]=s.toLowerCase(),o["Webkit"+e]="webkit"+s,o["Moz"+e]="moz"+s,o}var Ns={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},fu={},jg={};wn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Fi(e){if(fu[e])return fu[e];if(!Ns[e])return e;var s=Ns[e],o;for(o in s)if(s.hasOwnProperty(o)&&o in jg)return fu[e]=s[o];return e}var Vg=Fi("animationend"),Fg=Fi("animationiteration"),Yg=Fi("animationstart"),NS=Fi("transitionrun"),zS=Fi("transitionstart"),kS=Fi("transitioncancel"),qg=Fi("transitionend"),Gg=new Map,du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");du.push("scrollEnd");function un(e,s){Gg.set(e,s),Ui(s,[e])}var Ro=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Je=[],zs=0,gu=0;function No(){for(var e=zs,s=gu=zs=0;s<e;){var o=Je[s];Je[s++]=null;var c=Je[s];Je[s++]=null;var f=Je[s];Je[s++]=null;var g=Je[s];if(Je[s++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}g!==0&&Pg(o,f,g)}}function zo(e,s,o,c){Je[zs++]=e,Je[zs++]=s,Je[zs++]=o,Je[zs++]=c,gu|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function mu(e,s,o,c){return zo(e,s,o,c),ko(e)}function Yi(e,s){return zo(e,null,null,s),ko(e)}function Pg(e,s,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&s!==null&&(f=31-je(o),e=g.hiddenUpdates,c=e[f],c===null?e[f]=[s]:c.push(s),s.lane=o|536870912),g):null}function ko(e){if(50<ra)throw ra=0,Ch=null,Error(l(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ks={};function LS(e,s,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,s,o,c){return new LS(e,s,o,c)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,s){var o=e.alternate;return o===null?(o=Fe(e.tag,s,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=s,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Xg(e,s){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,s=o.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Lo(e,s,o,c,f,g){var _=0;if(c=e,typeof e=="function")pu(e)&&(_=1);else if(typeof e=="string")_=jx(e,o,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case et:return e=Fe(31,o,s,f),e.elementType=et,e.lanes=g,e;case C:return qi(o.children,f,g,s);case M:_=8,f|=24;break;case k:return e=Fe(12,o,s,f|2),e.elementType=k,e.lanes=g,e;case j:return e=Fe(13,o,s,f),e.elementType=j,e.lanes=g,e;case Q:return e=Fe(19,o,s,f),e.elementType=Q,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:_=10;break t;case V:_=9;break t;case P:_=11;break t;case U:_=14;break t;case X:_=16,c=null;break t}_=29,o=Error(l(130,e===null?"null":typeof e,"")),c=null}return s=Fe(_,o,s,f),s.elementType=e,s.type=c,s.lanes=g,s}function qi(e,s,o,c){return e=Fe(7,e,c,s),e.lanes=o,e}function _u(e,s,o){return e=Fe(6,e,null,s),e.lanes=o,e}function Qg(e){var s=Fe(18,null,null,0);return s.stateNode=e,s}function yu(e,s,o){return s=Fe(4,e.children!==null?e.children:[],e.key,s),s.lanes=o,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Wg=new WeakMap;function $e(e,s){if(typeof e=="object"&&e!==null){var o=Wg.get(e);return o!==void 0?o:(s={value:e,source:s,stack:Qd(s)},Wg.set(e,s),s)}return{value:e,source:s,stack:Qd(s)}}var Ls=[],Is=0,Io=null,Vl=0,tn=[],en=0,ii=null,vn=1,bn="";function Rn(e,s){Ls[Is++]=Vl,Ls[Is++]=Io,Io=e,Vl=s}function Kg(e,s,o){tn[en++]=vn,tn[en++]=bn,tn[en++]=ii,ii=e;var c=vn;e=bn;var f=32-je(c)-1;c&=~(1<<f),o+=1;var g=32-je(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,vn=1<<32-je(s)+f|o<<f|c,bn=g+e}else vn=1<<g|o<<f|c,bn=e}function vu(e){e.return!==null&&(Rn(e,1),Kg(e,1,0))}function bu(e){for(;e===Io;)Io=Ls[--Is],Ls[Is]=null,Vl=Ls[--Is],Ls[Is]=null;for(;e===ii;)ii=tn[--en],tn[en]=null,bn=tn[--en],tn[en]=null,vn=tn[--en],tn[en]=null}function Zg(e,s){tn[en++]=vn,tn[en++]=bn,tn[en++]=ii,vn=s.id,bn=s.overflow,ii=e}var de=null,Vt=null,vt=!1,si=null,nn=!1,Su=Error(l(519));function li(e){var s=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl($e(s,e)),Su}function Jg(e){var s=e.stateNode,o=e.type,c=e.memoizedProps;switch(s[fe]=e,s[Te]=c,o){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(o=0;o<ua.length;o++)gt(ua[o],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":gt("invalid",s),hg(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":gt("invalid",s);break;case"textarea":gt("invalid",s),dg(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||m_(s.textContent,o)?(c.popover!=null&&(gt("beforetoggle",s),gt("toggle",s)),c.onScroll!=null&&gt("scroll",s),c.onScrollEnd!=null&&gt("scrollend",s),c.onClick!=null&&(s.onclick=Dn),s=!0):s=!1,s||li(e,!0)}function $g(e){for(de=e.return;de;)switch(de.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:de=de.return}}function Hs(e){if(e!==de)return!1;if(!vt)return $g(e),vt=!0,!1;var s=e.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Uh(e.type,e.memoizedProps)),o=!o),o&&Vt&&li(e),$g(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Vt=C_(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Vt=C_(e)}else s===27?(s=Vt,vi(e.type)?(e=qh,qh=null,Vt=e):Vt=s):Vt=de?ln(e.stateNode.nextSibling):null;return!0}function Gi(){Vt=de=null,vt=!1}function xu(){var e=si;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),si=null),e}function Fl(e){si===null?si=[e]:si.push(e)}var Eu=A(null),Pi=null,Nn=null;function ai(e,s,o){G(Eu,s._currentValue),s._currentValue=o}function zn(e){e._currentValue=Eu.current,H(Eu)}function Cu(e,s,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===o)break;e=e.return}}function Tu(e,s,o,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var E=0;E<s.length;E++)if(b.context===s[E]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Cu(g.return,o,e),c||(_=null);break t}g=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(l(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),Cu(_,o,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Bs(e,s,o,c){e=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(l(387));if(_=_.memoizedProps,_!==null){var b=f.type;Ve(f.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(f===wt.current){if(_=f.alternate,_===null)throw Error(l(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ma):e=[ma])}f=f.return}e!==null&&Tu(s,e,o,c),s.flags|=262144}function Ho(e){for(e=e.firstContext;e!==null;){if(!Ve(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Pi=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ge(e){return tm(Pi,e)}function Bo(e,s){return Pi===null&&Xi(e),tm(e,s)}function tm(e,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Nn===null){if(e===null)throw Error(l(308));Nn=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Nn=Nn.next=s;return o}var IS=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){s.aborted=!0,e.forEach(function(o){return o()})}},HS=i.unstable_scheduleCallback,BS=i.unstable_NormalPriority,ee={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new IS,data:new Map,refCount:0}}function Yl(e){e.refCount--,e.refCount===0&&HS(BS,function(){e.controller.abort()})}var ql=null,Mu=0,Us=0,js=null;function US(e,s){if(ql===null){var o=ql=[];Mu=0,Us=Oh(),js={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Mu++,s.then(em,em),s}function em(){if(--Mu===0&&ql!==null){js!==null&&(js.status="fulfilled");var e=ql;ql=null,Us=0,js=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function jS(e,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var nm=N.S;N.S=function(e,s){Up=Be(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&US(e,s),nm!==null&&nm(e,s)};var Qi=A(null);function Du(){var e=Qi.current;return e!==null?e:It.pooledCache}function Uo(e,s){s===null?G(Qi,Qi.current):G(Qi,s.pool)}function im(){var e=Du();return e===null?null:{parent:ee._currentValue,pool:e}}var Vs=Error(l(460)),wu=Error(l(474)),jo=Error(l(542)),Vo={then:function(){}};function sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lm(e,s,o){switch(o=e[o],o===void 0?e.push(s):o!==s&&(s.then(Dn,Dn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,om(e),e;default:if(typeof s.status=="string")s.then(Dn,Dn);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=s,e.status="pending",e.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,om(e),e}throw Ki=s,Vs}}function Wi(e){try{var s=e._init;return s(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ki=o,Vs):o}}var Ki=null;function am(){if(Ki===null)throw Error(l(459));var e=Ki;return Ki=null,e}function om(e){if(e===Vs||e===jo)throw Error(l(483))}var Fs=null,Gl=0;function Fo(e){var s=Gl;return Gl+=1,Fs===null&&(Fs=[]),lm(Fs,e,s)}function Pl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Yo(e,s){throw s.$$typeof===v?Error(l(525)):(e=Object.prototype.toString.call(s),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function rm(e){function s(D,T){if(e){var w=D.deletions;w===null?(D.deletions=[T],D.flags|=16):w.push(T)}}function o(D,T){if(!e)return null;for(;T!==null;)s(D,T),T=T.sibling;return null}function c(D){for(var T=new Map;D!==null;)D.key!==null?T.set(D.key,D):T.set(D.index,D),D=D.sibling;return T}function f(D,T){return D=On(D,T),D.index=0,D.sibling=null,D}function g(D,T,w){return D.index=w,e?(w=D.alternate,w!==null?(w=w.index,w<T?(D.flags|=67108866,T):w):(D.flags|=67108866,T)):(D.flags|=1048576,T)}function _(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,T,w,I){return T===null||T.tag!==6?(T=_u(w,D.mode,I),T.return=D,T):(T=f(T,w),T.return=D,T)}function E(D,T,w,I){var J=w.type;return J===C?L(D,T,w.props.children,I,w.key):T!==null&&(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===X&&Wi(J)===T.type)?(T=f(T,w.props),Pl(T,w),T.return=D,T):(T=Lo(w.type,w.key,w.props,null,D.mode,I),Pl(T,w),T.return=D,T)}function O(D,T,w,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=yu(w,D.mode,I),T.return=D,T):(T=f(T,w.children||[]),T.return=D,T)}function L(D,T,w,I,J){return T===null||T.tag!==7?(T=qi(w,D.mode,I,J),T.return=D,T):(T=f(T,w),T.return=D,T)}function B(D,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=_u(""+T,D.mode,w),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return w=Lo(T.type,T.key,T.props,null,D.mode,w),Pl(w,T),w.return=D,w;case x:return T=yu(T,D.mode,w),T.return=D,T;case X:return T=Wi(T),B(D,T,w)}if(xt(T)||at(T))return T=qi(T,D.mode,w,null),T.return=D,T;if(typeof T.then=="function")return B(D,Fo(T),w);if(T.$$typeof===Y)return B(D,Bo(D,T),w);Yo(D,T)}return null}function R(D,T,w,I){var J=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return J!==null?null:b(D,T,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return w.key===J?E(D,T,w,I):null;case x:return w.key===J?O(D,T,w,I):null;case X:return w=Wi(w),R(D,T,w,I)}if(xt(w)||at(w))return J!==null?null:L(D,T,w,I,null);if(typeof w.then=="function")return R(D,T,Fo(w),I);if(w.$$typeof===Y)return R(D,T,Bo(D,w),I);Yo(D,w)}return null}function z(D,T,w,I,J){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return D=D.get(w)||null,b(T,D,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return D=D.get(I.key===null?w:I.key)||null,E(T,D,I,J);case x:return D=D.get(I.key===null?w:I.key)||null,O(T,D,I,J);case X:return I=Wi(I),z(D,T,w,I,J)}if(xt(I)||at(I))return D=D.get(w)||null,L(T,D,I,J,null);if(typeof I.then=="function")return z(D,T,w,Fo(I),J);if(I.$$typeof===Y)return z(D,T,w,Bo(T,I),J);Yo(T,I)}return null}function K(D,T,w,I){for(var J=null,Ct=null,Z=T,ut=T=0,yt=null;Z!==null&&ut<w.length;ut++){Z.index>ut?(yt=Z,Z=null):yt=Z.sibling;var Tt=R(D,Z,w[ut],I);if(Tt===null){Z===null&&(Z=yt);break}e&&Z&&Tt.alternate===null&&s(D,Z),T=g(Tt,T,ut),Ct===null?J=Tt:Ct.sibling=Tt,Ct=Tt,Z=yt}if(ut===w.length)return o(D,Z),vt&&Rn(D,ut),J;if(Z===null){for(;ut<w.length;ut++)Z=B(D,w[ut],I),Z!==null&&(T=g(Z,T,ut),Ct===null?J=Z:Ct.sibling=Z,Ct=Z);return vt&&Rn(D,ut),J}for(Z=c(Z);ut<w.length;ut++)yt=z(Z,D,ut,w[ut],I),yt!==null&&(e&&yt.alternate!==null&&Z.delete(yt.key===null?ut:yt.key),T=g(yt,T,ut),Ct===null?J=yt:Ct.sibling=yt,Ct=yt);return e&&Z.forEach(function(Ci){return s(D,Ci)}),vt&&Rn(D,ut),J}function nt(D,T,w,I){if(w==null)throw Error(l(151));for(var J=null,Ct=null,Z=T,ut=T=0,yt=null,Tt=w.next();Z!==null&&!Tt.done;ut++,Tt=w.next()){Z.index>ut?(yt=Z,Z=null):yt=Z.sibling;var Ci=R(D,Z,Tt.value,I);if(Ci===null){Z===null&&(Z=yt);break}e&&Z&&Ci.alternate===null&&s(D,Z),T=g(Ci,T,ut),Ct===null?J=Ci:Ct.sibling=Ci,Ct=Ci,Z=yt}if(Tt.done)return o(D,Z),vt&&Rn(D,ut),J;if(Z===null){for(;!Tt.done;ut++,Tt=w.next())Tt=B(D,Tt.value,I),Tt!==null&&(T=g(Tt,T,ut),Ct===null?J=Tt:Ct.sibling=Tt,Ct=Tt);return vt&&Rn(D,ut),J}for(Z=c(Z);!Tt.done;ut++,Tt=w.next())Tt=z(Z,D,ut,Tt.value,I),Tt!==null&&(e&&Tt.alternate!==null&&Z.delete(Tt.key===null?ut:Tt.key),T=g(Tt,T,ut),Ct===null?J=Tt:Ct.sibling=Tt,Ct=Tt);return e&&Z.forEach(function(Zx){return s(D,Zx)}),vt&&Rn(D,ut),J}function Lt(D,T,w,I){if(typeof w=="object"&&w!==null&&w.type===C&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case S:t:{for(var J=w.key;T!==null;){if(T.key===J){if(J=w.type,J===C){if(T.tag===7){o(D,T.sibling),I=f(T,w.props.children),I.return=D,D=I;break t}}else if(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===X&&Wi(J)===T.type){o(D,T.sibling),I=f(T,w.props),Pl(I,w),I.return=D,D=I;break t}o(D,T);break}else s(D,T);T=T.sibling}w.type===C?(I=qi(w.props.children,D.mode,I,w.key),I.return=D,D=I):(I=Lo(w.type,w.key,w.props,null,D.mode,I),Pl(I,w),I.return=D,D=I)}return _(D);case x:t:{for(J=w.key;T!==null;){if(T.key===J)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){o(D,T.sibling),I=f(T,w.children||[]),I.return=D,D=I;break t}else{o(D,T);break}else s(D,T);T=T.sibling}I=yu(w,D.mode,I),I.return=D,D=I}return _(D);case X:return w=Wi(w),Lt(D,T,w,I)}if(xt(w))return K(D,T,w,I);if(at(w)){if(J=at(w),typeof J!="function")throw Error(l(150));return w=J.call(w),nt(D,T,w,I)}if(typeof w.then=="function")return Lt(D,T,Fo(w),I);if(w.$$typeof===Y)return Lt(D,T,Bo(D,w),I);Yo(D,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(o(D,T.sibling),I=f(T,w),I.return=D,D=I):(o(D,T),I=_u(w,D.mode,I),I.return=D,D=I),_(D)):o(D,T)}return function(D,T,w,I){try{Gl=0;var J=Lt(D,T,w,I);return Fs=null,J}catch(Z){if(Z===Vs||Z===jo)throw Z;var Ct=Fe(29,Z,null,D.mode);return Ct.lanes=I,Ct.return=D,Ct}finally{}}}var Zi=rm(!0),cm=rm(!1),oi=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ci(e,s,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(At&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=ko(e),Pg(e,null,o),s}return zo(e,c,s,o),ko(e)}function Xl(e,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=e.pendingLanes,o|=c,s.lanes=o,tg(e,o)}}function Nu(e,s){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=s:e.next=s,o.lastBaseUpdate=s}var zu=!1;function Ql(){if(zu){var e=js;if(e!==null)throw e}}function Wl(e,s,o,c){zu=!1;var f=e.updateQueue;oi=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var E=b,O=E.next;E.next=null,_===null?g=O:_.next=O,_=E;var L=e.alternate;L!==null&&(L=L.updateQueue,b=L.lastBaseUpdate,b!==_&&(b===null?L.firstBaseUpdate=O:b.next=O,L.lastBaseUpdate=E))}if(g!==null){var B=f.baseState;_=0,L=O=E=null,b=g;do{var R=b.lane&-536870913,z=R!==b.lane;if(z?(_t&R)===R:(c&R)===R){R!==0&&R===Us&&(zu=!0),L!==null&&(L=L.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var K=e,nt=b;R=s;var Lt=o;switch(nt.tag){case 1:if(K=nt.payload,typeof K=="function"){B=K.call(Lt,B,R);break t}B=K;break t;case 3:K.flags=K.flags&-65537|128;case 0:if(K=nt.payload,R=typeof K=="function"?K.call(Lt,B,R):K,R==null)break t;B=y({},B,R);break t;case 2:oi=!0}}R=b.callback,R!==null&&(e.flags|=64,z&&(e.flags|=8192),z=f.callbacks,z===null?f.callbacks=[R]:z.push(R))}else z={lane:R,tag:b.tag,payload:b.payload,callback:b.callback,next:null},L===null?(O=L=z,E=B):L=L.next=z,_|=R;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;z=b,b=z.next,z.next=null,f.lastBaseUpdate=z,f.shared.pending=null}}while(!0);L===null&&(E=B),f.baseState=E,f.firstBaseUpdate=O,f.lastBaseUpdate=L,g===null&&(f.shared.lanes=0),gi|=_,e.lanes=_,e.memoizedState=B}}function um(e,s){if(typeof e!="function")throw Error(l(191,e));e.call(s)}function hm(e,s){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)um(o[e],s)}var Ys=A(null),qo=A(0);function fm(e,s){e=Fn,G(qo,e),G(Ys,s),Fn=e|s.baseLanes}function ku(){G(qo,Fn),G(Ys,Ys.current)}function Lu(){Fn=qo.current,H(Ys),H(qo)}var Ye=A(null),sn=null;function ui(e){var s=e.alternate;G(Zt,Zt.current&1),G(Ye,e),sn===null&&(s===null||Ys.current!==null||s.memoizedState!==null)&&(sn=e)}function Iu(e){G(Zt,Zt.current),G(Ye,e),sn===null&&(sn=e)}function dm(e){e.tag===22?(G(Zt,Zt.current),G(Ye,e),sn===null&&(sn=e)):hi()}function hi(){G(Zt,Zt.current),G(Ye,Ye.current)}function qe(e){H(Ye),sn===e&&(sn=null),H(Zt)}var Zt=A(0);function Go(e){for(var s=e;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fh(o)||Yh(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kn=0,ct=null,zt=null,ne=null,Po=!1,qs=!1,Ji=!1,Xo=0,Kl=0,Gs=null,VS=0;function Xt(){throw Error(l(321))}function Hu(e,s){if(s===null)return!1;for(var o=0;o<s.length&&o<e.length;o++)if(!Ve(e[o],s[o]))return!1;return!0}function Bu(e,s,o,c,f,g){return kn=g,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=e===null||e.memoizedState===null?Km:$u,Ji=!1,g=o(c,f),Ji=!1,qs&&(g=mm(s,o,c,f)),gm(e),g}function gm(e){N.H=$l;var s=zt!==null&&zt.next!==null;if(kn=0,ne=zt=ct=null,Po=!1,Kl=0,Gs=null,s)throw Error(l(300));e===null||ie||(e=e.dependencies,e!==null&&Ho(e)&&(ie=!0))}function mm(e,s,o,c){ct=e;var f=0;do{if(qs&&(Gs=null),Kl=0,qs=!1,25<=f)throw Error(l(301));if(f+=1,ne=zt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}N.H=Zm,g=s(o,c)}while(qs);return g}function FS(){var e=N.H,s=e.useState()[0];return s=typeof s.then=="function"?Zl(s):s,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(ct.flags|=1024),s}function Uu(){var e=Xo!==0;return Xo=0,e}function ju(e,s,o){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o}function Vu(e){if(Po){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Po=!1}kn=0,ne=zt=ct=null,qs=!1,Kl=Xo=0,Gs=null}function Ee(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?ct.memoizedState=ne=e:ne=ne.next=e,ne}function Jt(){if(zt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var s=ne===null?ct.memoizedState:ne.next;if(s!==null)ne=s,zt=e;else{if(e===null)throw ct.alternate===null?Error(l(467)):Error(l(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},ne===null?ct.memoizedState=ne=e:ne=ne.next=e}return ne}function Qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var s=Kl;return Kl+=1,Gs===null&&(Gs=[]),e=lm(Gs,e,s),s=ct,(ne===null?s.memoizedState:ne.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?Km:$u),e}function Wo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===Y)return ge(e)}throw Error(l(438,String(e)))}function Fu(e){var s=null,o=ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Qo(),ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(e),c=0;c<e;c++)o[c]=ft;return s.index++,o}function Ln(e,s){return typeof s=="function"?s(e):s}function Ko(e){var s=Jt();return Yu(s,zt,e)}function Yu(e,s,o){var c=e.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=o;var f=e.baseQueue,g=c.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}s.baseQueue=f=g,c.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{s=f.next;var b=_=null,E=null,O=s,L=!1;do{var B=O.lane&-536870913;if(B!==O.lane?(_t&B)===B:(kn&B)===B){var R=O.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),B===Us&&(L=!0);else if((kn&R)===R){O=O.next,R===Us&&(L=!0);continue}else B={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(b=E=B,_=g):E=E.next=B,ct.lanes|=R,gi|=R;B=O.action,Ji&&o(g,B),g=O.hasEagerState?O.eagerState:o(g,B)}else R={lane:B,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(b=E=R,_=g):E=E.next=R,ct.lanes|=B,gi|=B;O=O.next}while(O!==null&&O!==s);if(E===null?_=g:E.next=b,!Ve(g,e.memoizedState)&&(ie=!0,L&&(o=js,o!==null)))throw o;e.memoizedState=g,e.baseState=_,e.baseQueue=E,c.lastRenderedState=g}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function qu(e){var s=Jt(),o=s.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=e;var c=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=e(g,_.action),_=_.next;while(_!==f);Ve(g,s.memoizedState)||(ie=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function pm(e,s,o){var c=ct,f=Jt(),g=vt;if(g){if(o===void 0)throw Error(l(407));o=o()}else o=s();var _=!Ve((zt||f).memoizedState,o);if(_&&(f.memoizedState=o,ie=!0),f=f.queue,Xu(vm.bind(null,c,f,e),[e]),f.getSnapshot!==s||_||ne!==null&&ne.memoizedState.tag&1){if(c.flags|=2048,Ps(9,{destroy:void 0},ym.bind(null,c,f,o,s),null),It===null)throw Error(l(349));g||(kn&127)!==0||_m(c,s,o)}return o}function _m(e,s,o){e.flags|=16384,e={getSnapshot:s,value:o},s=ct.updateQueue,s===null?(s=Qo(),ct.updateQueue=s,s.stores=[e]):(o=s.stores,o===null?s.stores=[e]:o.push(e))}function ym(e,s,o,c){s.value=o,s.getSnapshot=c,bm(s)&&Sm(e)}function vm(e,s,o){return o(function(){bm(s)&&Sm(e)})}function bm(e){var s=e.getSnapshot;e=e.value;try{var o=s();return!Ve(e,o)}catch{return!0}}function Sm(e){var s=Yi(e,2);s!==null&&Re(s,e,2)}function Gu(e){var s=Ee();if(typeof e=="function"){var o=e;if(e=o(),Ji){ti(!0);try{o()}finally{ti(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},s}function xm(e,s,o,c){return e.baseState=o,Yu(e,zt,typeof c=="function"?c:Ln)}function YS(e,s,o,c,f){if($o(e))throw Error(l(485));if(e=s.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};N.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,Em(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Em(e,s){var o=s.action,c=s.payload,f=e.state;if(s.isTransition){var g=N.T,_={};N.T=_;try{var b=o(f,c),E=N.S;E!==null&&E(_,b),Cm(e,s,b)}catch(O){Pu(e,s,O)}finally{g!==null&&_.types!==null&&(g.types=_.types),N.T=g}}else try{g=o(f,c),Cm(e,s,g)}catch(O){Pu(e,s,O)}}function Cm(e,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Tm(e,s,c)},function(c){return Pu(e,s,c)}):Tm(e,s,o)}function Tm(e,s,o){s.status="fulfilled",s.value=o,Am(s),e.state=o,s=e.pending,s!==null&&(o=s.next,o===s?e.pending=null:(o=o.next,s.next=o,Em(e,o)))}function Pu(e,s,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Am(s),s=s.next;while(s!==c)}e.action=null}function Am(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Mm(e,s){return s}function Dm(e,s){if(vt){var o=It.formState;if(o!==null){t:{var c=ct;if(vt){if(Vt){e:{for(var f=Vt,g=nn;f.nodeType!==8;){if(!g){f=null;break e}if(f=ln(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Vt=ln(f.nextSibling),c=f.data==="F!";break t}}li(c)}c=!1}c&&(s=o[0])}}return o=Ee(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:s},o.queue=c,o=Xm.bind(null,ct,c),c.dispatch=o,c=Gu(!1),g=Ju.bind(null,ct,!1,c.queue),c=Ee(),f={state:s,dispatch:null,action:e,pending:null},c.queue=f,o=YS.bind(null,ct,f,g,o),f.dispatch=o,c.memoizedState=e,[s,o,!1]}function wm(e){var s=Jt();return Om(s,zt,e)}function Om(e,s,o){if(s=Yu(e,s,Mm)[0],e=Ko(Ln)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Zl(s)}catch(_){throw _===Vs?jo:_}else c=s;s=Jt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(ct.flags|=2048,Ps(9,{destroy:void 0},qS.bind(null,f,o),null)),[c,g,e]}function qS(e,s){e.action=s}function Rm(e){var s=Jt(),o=zt;if(o!==null)return Om(s,o,e);Jt(),s=s.memoizedState,o=Jt();var c=o.queue.dispatch;return o.memoizedState=e,[s,c,!1]}function Ps(e,s,o,c){return e={tag:e,create:o,deps:c,inst:s,next:null},s=ct.updateQueue,s===null&&(s=Qo(),ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,s.lastEffect=e),e}function Nm(){return Jt().memoizedState}function Zo(e,s,o,c){var f=Ee();ct.flags|=e,f.memoizedState=Ps(1|s,{destroy:void 0},o,c===void 0?null:c)}function Jo(e,s,o,c){var f=Jt();c=c===void 0?null:c;var g=f.memoizedState.inst;zt!==null&&c!==null&&Hu(c,zt.memoizedState.deps)?f.memoizedState=Ps(s,g,o,c):(ct.flags|=e,f.memoizedState=Ps(1|s,g,o,c))}function zm(e,s){Zo(8390656,8,e,s)}function Xu(e,s){Jo(2048,8,e,s)}function GS(e){ct.flags|=4;var s=ct.updateQueue;if(s===null)s=Qo(),ct.updateQueue=s,s.events=[e];else{var o=s.events;o===null?s.events=[e]:o.push(e)}}function km(e){var s=Jt().memoizedState;return GS({ref:s,nextImpl:e}),function(){if((At&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}function Lm(e,s){return Jo(4,2,e,s)}function Im(e,s){return Jo(4,4,e,s)}function Hm(e,s){if(typeof s=="function"){e=e();var o=s(e);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Bm(e,s,o){o=o!=null?o.concat([e]):null,Jo(4,4,Hm.bind(null,s,e),o)}function Qu(){}function Um(e,s){var o=Jt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Hu(s,c[1])?c[0]:(o.memoizedState=[e,s],e)}function jm(e,s){var o=Jt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Hu(s,c[1]))return c[0];if(c=e(),Ji){ti(!0);try{e()}finally{ti(!1)}}return o.memoizedState=[c,s],c}function Wu(e,s,o){return o===void 0||(kn&1073741824)!==0&&(_t&261930)===0?e.memoizedState=s:(e.memoizedState=o,e=Vp(),ct.lanes|=e,gi|=e,o)}function Vm(e,s,o,c){return Ve(o,s)?o:Ys.current!==null?(e=Wu(e,o,c),Ve(e,s)||(ie=!0),e):(kn&42)===0||(kn&1073741824)!==0&&(_t&261930)===0?(ie=!0,e.memoizedState=o):(e=Vp(),ct.lanes|=e,gi|=e,s)}function Fm(e,s,o,c,f){var g=F.p;F.p=g!==0&&8>g?g:8;var _=N.T,b={};N.T=b,Ju(e,!1,s,o);try{var E=f(),O=N.S;if(O!==null&&O(b,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var L=jS(E,c);Jl(e,s,L,Xe(e))}else Jl(e,s,c,Xe(e))}catch(B){Jl(e,s,{then:function(){},status:"rejected",reason:B},Xe())}finally{F.p=g,_!==null&&b.types!==null&&(_.types=b.types),N.T=_}}function PS(){}function Ku(e,s,o,c){if(e.tag!==5)throw Error(l(476));var f=Ym(e).queue;Fm(e,f,s,$,o===null?PS:function(){return qm(e),o(c)})}function Ym(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:$},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:o},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function qm(e){var s=Ym(e);s.next===null&&(s=e.alternate.memoizedState),Jl(e,s.next.queue,{},Xe())}function Zu(){return ge(ma)}function Gm(){return Jt().memoizedState}function Pm(){return Jt().memoizedState}function XS(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var o=Xe();e=ri(o);var c=ci(s,e,o);c!==null&&(Re(c,s,o),Xl(c,s,o)),s={cache:Au()},e.payload=s;return}s=s.return}}function QS(e,s,o){var c=Xe();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qm(s,o):(o=mu(e,s,o,c),o!==null&&(Re(o,e,c),Wm(o,s,c)))}function Xm(e,s,o){var c=Xe();Jl(e,s,o,c)}function Jl(e,s,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qm(s,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,b=g(_,o);if(f.hasEagerState=!0,f.eagerState=b,Ve(b,_))return zo(e,s,f,0),It===null&&No(),!1}catch{}finally{}if(o=mu(e,s,f,c),o!==null)return Re(o,e,c),Wm(o,s,c),!0}return!1}function Ju(e,s,o,c){if(c={lane:2,revertLane:Oh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(s)throw Error(l(479))}else s=mu(e,o,c,2),s!==null&&Re(s,e,2)}function $o(e){var s=e.alternate;return e===ct||s!==null&&s===ct}function Qm(e,s){qs=Po=!0;var o=e.pending;o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s}function Wm(e,s,o){if((o&4194048)!==0){var c=s.lanes;c&=e.pendingLanes,o|=c,s.lanes=o,tg(e,o)}}var $l={readContext:ge,use:Wo,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};$l.useEffectEvent=Xt;var Km={readContext:ge,use:Wo,useCallback:function(e,s){return Ee().memoizedState=[e,s===void 0?null:s],e},useContext:ge,useEffect:zm,useImperativeHandle:function(e,s,o){o=o!=null?o.concat([e]):null,Zo(4194308,4,Hm.bind(null,s,e),o)},useLayoutEffect:function(e,s){return Zo(4194308,4,e,s)},useInsertionEffect:function(e,s){Zo(4,2,e,s)},useMemo:function(e,s){var o=Ee();s=s===void 0?null:s;var c=e();if(Ji){ti(!0);try{e()}finally{ti(!1)}}return o.memoizedState=[c,s],c},useReducer:function(e,s,o){var c=Ee();if(o!==void 0){var f=o(s);if(Ji){ti(!0);try{o(s)}finally{ti(!1)}}}else f=s;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=QS.bind(null,ct,e),[c.memoizedState,e]},useRef:function(e){var s=Ee();return e={current:e},s.memoizedState=e},useState:function(e){e=Gu(e);var s=e.queue,o=Xm.bind(null,ct,s);return s.dispatch=o,[e.memoizedState,o]},useDebugValue:Qu,useDeferredValue:function(e,s){var o=Ee();return Wu(o,e,s)},useTransition:function(){var e=Gu(!1);return e=Fm.bind(null,ct,e.queue,!0,!1),Ee().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,o){var c=ct,f=Ee();if(vt){if(o===void 0)throw Error(l(407));o=o()}else{if(o=s(),It===null)throw Error(l(349));(_t&127)!==0||_m(c,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,zm(vm.bind(null,c,g,e),[e]),c.flags|=2048,Ps(9,{destroy:void 0},ym.bind(null,c,g,o,s),null),o},useId:function(){var e=Ee(),s=It.identifierPrefix;if(vt){var o=bn,c=vn;o=(c&~(1<<32-je(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Xo++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=VS++,s="_"+s+"r_"+o.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Zu,useFormState:Dm,useActionState:Dm,useOptimistic:function(e){var s=Ee();s.memoizedState=s.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ju.bind(null,ct,!0,o),o.dispatch=s,[e,s]},useMemoCache:Fu,useCacheRefresh:function(){return Ee().memoizedState=XS.bind(null,ct)},useEffectEvent:function(e){var s=Ee(),o={impl:e};return s.memoizedState=o,function(){if((At&2)!==0)throw Error(l(440));return o.impl.apply(void 0,arguments)}}},$u={readContext:ge,use:Wo,useCallback:Um,useContext:ge,useEffect:Xu,useImperativeHandle:Bm,useInsertionEffect:Lm,useLayoutEffect:Im,useMemo:jm,useReducer:Ko,useRef:Nm,useState:function(){return Ko(Ln)},useDebugValue:Qu,useDeferredValue:function(e,s){var o=Jt();return Vm(o,zt.memoizedState,e,s)},useTransition:function(){var e=Ko(Ln)[0],s=Jt().memoizedState;return[typeof e=="boolean"?e:Zl(e),s]},useSyncExternalStore:pm,useId:Gm,useHostTransitionStatus:Zu,useFormState:wm,useActionState:wm,useOptimistic:function(e,s){var o=Jt();return xm(o,zt,e,s)},useMemoCache:Fu,useCacheRefresh:Pm};$u.useEffectEvent=km;var Zm={readContext:ge,use:Wo,useCallback:Um,useContext:ge,useEffect:Xu,useImperativeHandle:Bm,useInsertionEffect:Lm,useLayoutEffect:Im,useMemo:jm,useReducer:qu,useRef:Nm,useState:function(){return qu(Ln)},useDebugValue:Qu,useDeferredValue:function(e,s){var o=Jt();return zt===null?Wu(o,e,s):Vm(o,zt.memoizedState,e,s)},useTransition:function(){var e=qu(Ln)[0],s=Jt().memoizedState;return[typeof e=="boolean"?e:Zl(e),s]},useSyncExternalStore:pm,useId:Gm,useHostTransitionStatus:Zu,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,s){var o=Jt();return zt!==null?xm(o,zt,e,s):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Fu,useCacheRefresh:Pm};Zm.useEffectEvent=km;function th(e,s,o,c){s=e.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var eh={enqueueSetState:function(e,s,o){e=e._reactInternals;var c=Xe(),f=ri(c);f.payload=s,o!=null&&(f.callback=o),s=ci(e,f,c),s!==null&&(Re(s,e,c),Xl(s,e,c))},enqueueReplaceState:function(e,s,o){e=e._reactInternals;var c=Xe(),f=ri(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ci(e,f,c),s!==null&&(Re(s,e,c),Xl(s,e,c))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var o=Xe(),c=ri(o);c.tag=2,s!=null&&(c.callback=s),s=ci(e,c,o),s!==null&&(Re(s,e,o),Xl(s,e,o))}};function Jm(e,s,o,c,f,g,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!Ul(o,c)||!Ul(f,g):!0}function $m(e,s,o,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==e&&eh.enqueueReplaceState(s,s.state,null)}function $i(e,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(e=e.defaultProps){o===s&&(o=y({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function tp(e){Ro(e)}function ep(e){console.error(e)}function np(e){Ro(e)}function tr(e,s){try{var o=e.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function ip(e,s,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nh(e,s,o){return o=ri(o),o.tag=3,o.payload={element:null},o.callback=function(){tr(e,s)},o}function sp(e){return e=ri(e),e.tag=3,e}function lp(e,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;e.payload=function(){return f(g)},e.callback=function(){ip(s,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ip(s,o,c),typeof f!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function WS(e,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Bs(s,o,f,!0),o=Ye.current,o!==null){switch(o.tag){case 31:case 13:return sn===null?fr():o.alternate===null&&Qt===0&&(Qt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Vo?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Mh(e,c,f)),!1;case 22:return o.flags|=65536,c===Vo?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Mh(e,c,f)),!1}throw Error(l(435,o.tag))}return Mh(e,c,f),fr(),!1}if(vt)return s=Ye.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Su&&(e=Error(l(422),{cause:c}),Fl($e(e,o)))):(c!==Su&&(s=Error(l(423),{cause:c}),Fl($e(s,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=$e(c,o),f=nh(e.stateNode,c,f),Nu(e,f),Qt!==4&&(Qt=2)),!1;var g=Error(l(520),{cause:c});if(g=$e(g,o),oa===null?oa=[g]:oa.push(g),Qt!==4&&(Qt=2),s===null)return!0;c=$e(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=nh(o.stateNode,c,e),Nu(o,e),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(mi===null||!mi.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=sp(f),lp(f,e,o,c),Nu(o,f),!1}o=o.return}while(o!==null);return!1}var ih=Error(l(461)),ie=!1;function me(e,s,o,c){s.child=e===null?cm(s,null,o,c):Zi(s,e.child,o,c)}function ap(e,s,o,c,f){o=o.render;var g=s.ref;if("ref"in c){var _={};for(var b in c)b!=="ref"&&(_[b]=c[b])}else _=c;return Xi(s),c=Bu(e,s,o,_,g,f),b=Uu(),e!==null&&!ie?(ju(e,s,f),In(e,s,f)):(vt&&b&&vu(s),s.flags|=1,me(e,s,c,f),s.child)}function op(e,s,o,c,f){if(e===null){var g=o.type;return typeof g=="function"&&!pu(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,rp(e,s,g,c,f)):(e=Lo(o.type,null,c,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(g=e.child,!hh(e,f)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(_,c)&&e.ref===s.ref)return In(e,s,f)}return s.flags|=1,e=On(g,c),e.ref=s.ref,e.return=s,s.child=e}function rp(e,s,o,c,f){if(e!==null){var g=e.memoizedProps;if(Ul(g,c)&&e.ref===s.ref)if(ie=!1,s.pendingProps=c=g,hh(e,f))(e.flags&131072)!==0&&(ie=!0);else return s.lanes=e.lanes,In(e,s,f)}return sh(e,s,o,c,f)}function cp(e,s,o,c){var f=c.children,g=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=s.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,s.child=null;return up(e,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uo(s,g!==null?g.cachePool:null),g!==null?fm(s,g):ku(),dm(s);else return c=s.lanes=536870912,up(e,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Uo(s,g.cachePool),fm(s,g),hi(),s.memoizedState=null):(e!==null&&Uo(s,null),ku(),hi());return me(e,s,f,o),s.child}function ta(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function up(e,s,o,c,f){var g=Du();return g=g===null?null:{parent:ee._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},e!==null&&Uo(s,null),ku(),dm(s),e!==null&&Bs(e,s,c,!0),s.childLanes=f,null}function er(e,s){return s=ir({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function hp(e,s,o){return Zi(s,e.child,null,o),e=er(s,s.pendingProps),e.flags|=2,qe(s),s.memoizedState=null,e}function KS(e,s,o){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(vt){if(c.mode==="hidden")return e=er(s,c),s.lanes=536870912,ta(null,e);if(Iu(s),(e=Vt)?(e=E_(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:ii!==null?{id:vn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},o=Qg(e),o.return=s,s.child=o,de=s,Vt=null)):e=null,e===null)throw li(s);return s.lanes=536870912,null}return er(s,c)}var g=e.memoizedState;if(g!==null){var _=g.dehydrated;if(Iu(s),f)if(s.flags&256)s.flags&=-257,s=hp(e,s,o);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(l(558));else if(ie||Bs(e,s,o,!1),f=(o&e.childLanes)!==0,ie||f){if(c=It,c!==null&&(_=eg(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,Yi(e,_),Re(c,e,_),ih;fr(),s=hp(e,s,o)}else e=g.treeContext,Vt=ln(_.nextSibling),de=s,vt=!0,si=null,nn=!1,e!==null&&Zg(s,e),s=er(s,c),s.flags|=4096;return s}return e=On(e.child,{mode:c.mode,children:c.children}),e.ref=s.ref,s.child=e,e.return=s,e}function nr(e,s){var o=s.ref;if(o===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(e===null||e.ref!==o)&&(s.flags|=4194816)}}function sh(e,s,o,c,f){return Xi(s),o=Bu(e,s,o,c,void 0,f),c=Uu(),e!==null&&!ie?(ju(e,s,f),In(e,s,f)):(vt&&c&&vu(s),s.flags|=1,me(e,s,o,f),s.child)}function fp(e,s,o,c,f,g){return Xi(s),s.updateQueue=null,o=mm(s,c,o,f),gm(e),c=Uu(),e!==null&&!ie?(ju(e,s,g),In(e,s,g)):(vt&&c&&vu(s),s.flags|=1,me(e,s,o,g),s.child)}function dp(e,s,o,c,f){if(Xi(s),s.stateNode===null){var g=ks,_=o.contextType;typeof _=="object"&&_!==null&&(g=ge(_)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=eh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Ou(s),_=o.contextType,g.context=typeof _=="object"&&_!==null?ge(_):ks,g.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(th(s,o,_,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&eh.enqueueReplaceState(g,g.state,null),Wl(s,c,g,f),Ql(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(e===null){g=s.stateNode;var b=s.memoizedProps,E=$i(o,b);g.props=E;var O=g.context,L=o.contextType;_=ks,typeof L=="object"&&L!==null&&(_=ge(L));var B=o.getDerivedStateFromProps;L=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,L||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||O!==_)&&$m(s,g,c,_),oi=!1;var R=s.memoizedState;g.state=R,Wl(s,c,g,f),Ql(),O=s.memoizedState,b||R!==O||oi?(typeof B=="function"&&(th(s,o,B,c),O=s.memoizedState),(E=oi||Jm(s,o,E,c,R,O,_))?(L||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=O),g.props=c,g.state=O,g.context=_,c=E):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Ru(e,s),_=s.memoizedProps,L=$i(o,_),g.props=L,B=s.pendingProps,R=g.context,O=o.contextType,E=ks,typeof O=="object"&&O!==null&&(E=ge(O)),b=o.getDerivedStateFromProps,(O=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==B||R!==E)&&$m(s,g,c,E),oi=!1,R=s.memoizedState,g.state=R,Wl(s,c,g,f),Ql();var z=s.memoizedState;_!==B||R!==z||oi||e!==null&&e.dependencies!==null&&Ho(e.dependencies)?(typeof b=="function"&&(th(s,o,b,c),z=s.memoizedState),(L=oi||Jm(s,o,L,c,R,z,E)||e!==null&&e.dependencies!==null&&Ho(e.dependencies))?(O||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,z,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,z,E)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=z),g.props=c,g.state=z,g.context=E,c=L):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(s.flags|=1024),c=!1)}return g=c,nr(e,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,e!==null&&c?(s.child=Zi(s,e.child,null,f),s.child=Zi(s,null,o,f)):me(e,s,o,f),s.memoizedState=g.state,e=s.child):e=In(e,s,f),e}function gp(e,s,o,c){return Gi(),s.flags|=256,me(e,s,o,c),s.child}var lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(e){return{baseLanes:e,cachePool:im()}}function oh(e,s,o){return e=e!==null?e.childLanes&~o:0,s&&(e|=Pe),e}function mp(e,s,o){var c=s.pendingProps,f=!1,g=(s.flags&128)!==0,_;if((_=g)||(_=e!==null&&e.memoizedState===null?!1:(Zt.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(vt){if(f?ui(s):hi(),(e=Vt)?(e=E_(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:ii!==null?{id:vn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},o=Qg(e),o.return=s,s.child=o,de=s,Vt=null)):e=null,e===null)throw li(s);return Yh(e)?s.lanes=32:s.lanes=536870912,null}var b=c.children;return c=c.fallback,f?(hi(),f=s.mode,b=ir({mode:"hidden",children:b},f),c=qi(c,f,o,null),b.return=s,c.return=s,b.sibling=c,s.child=b,c=s.child,c.memoizedState=ah(o),c.childLanes=oh(e,_,o),s.memoizedState=lh,ta(null,c)):(ui(s),rh(s,b))}var E=e.memoizedState;if(E!==null&&(b=E.dehydrated,b!==null)){if(g)s.flags&256?(ui(s),s.flags&=-257,s=ch(e,s,o)):s.memoizedState!==null?(hi(),s.child=e.child,s.flags|=128,s=null):(hi(),b=c.fallback,f=s.mode,c=ir({mode:"visible",children:c.children},f),b=qi(b,f,o,null),b.flags|=2,c.return=s,b.return=s,c.sibling=b,s.child=c,Zi(s,e.child,null,o),c=s.child,c.memoizedState=ah(o),c.childLanes=oh(e,_,o),s.memoizedState=lh,s=ta(null,c));else if(ui(s),Yh(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var O=_.dgst;_=O,c=Error(l(419)),c.stack="",c.digest=_,Fl({value:c,source:null,stack:null}),s=ch(e,s,o)}else if(ie||Bs(e,s,o,!1),_=(o&e.childLanes)!==0,ie||_){if(_=It,_!==null&&(c=eg(_,o),c!==0&&c!==E.retryLane))throw E.retryLane=c,Yi(e,c),Re(_,e,c),ih;Fh(b)||fr(),s=ch(e,s,o)}else Fh(b)?(s.flags|=192,s.child=e.child,s=null):(e=E.treeContext,Vt=ln(b.nextSibling),de=s,vt=!0,si=null,nn=!1,e!==null&&Zg(s,e),s=rh(s,c.children),s.flags|=4096);return s}return f?(hi(),b=c.fallback,f=s.mode,E=e.child,O=E.sibling,c=On(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,O!==null?b=On(O,b):(b=qi(b,f,o,null),b.flags|=2),b.return=s,c.return=s,c.sibling=b,s.child=c,ta(null,c),c=s.child,b=e.child.memoizedState,b===null?b=ah(o):(f=b.cachePool,f!==null?(E=ee._currentValue,f=f.parent!==E?{parent:E,pool:E}:f):f=im(),b={baseLanes:b.baseLanes|o,cachePool:f}),c.memoizedState=b,c.childLanes=oh(e,_,o),s.memoizedState=lh,ta(e.child,c)):(ui(s),o=e.child,e=o.sibling,o=On(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=o,s.memoizedState=null,o)}function rh(e,s){return s=ir({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function ir(e,s){return e=Fe(22,e,null,s),e.lanes=0,e}function ch(e,s,o){return Zi(s,e.child,null,o),e=rh(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function pp(e,s,o){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),Cu(e.return,s,o)}function uh(e,s,o,c,f,g){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=f,_.treeForkCount=g)}function _p(e,s,o){var c=s.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var _=Zt.current,b=(_&2)!==0;if(b?(_=_&1|2,s.flags|=128):_&=1,G(Zt,_),me(e,s,c,o),c=vt?Vl:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pp(e,o,s);else if(e.tag===19)pp(e,o,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)e=o.alternate,e!==null&&Go(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),uh(s,!1,f,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Go(e)===null){s.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}uh(s,!0,o,null,g,c);break;case"together":uh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function In(e,s,o){if(e!==null&&(s.dependencies=e.dependencies),gi|=s.lanes,(o&s.childLanes)===0)if(e!==null){if(Bs(e,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(l(153));if(s.child!==null){for(e=s.child,o=On(e,e.pendingProps),s.child=o,o.return=s;e.sibling!==null;)e=e.sibling,o=o.sibling=On(e,e.pendingProps),o.return=s;o.sibling=null}return s.child}function hh(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Ho(e)))}function ZS(e,s,o){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),ai(s,ee,e.memoizedState.cache),Gi();break;case 27:case 5:Al(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:ai(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Iu(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ui(s),s.flags|=128,null):(o&s.child.childLanes)!==0?mp(e,s,o):(ui(s),e=In(e,s,o),e!==null?e.sibling:null);ui(s);break;case 19:var f=(e.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Bs(e,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return _p(e,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),G(Zt,Zt.current),c)break;return null;case 22:return s.lanes=0,cp(e,s,o,s.pendingProps);case 24:ai(s,ee,e.memoizedState.cache)}return In(e,s,o)}function yp(e,s,o){if(e!==null)if(e.memoizedProps!==s.pendingProps)ie=!0;else{if(!hh(e,o)&&(s.flags&128)===0)return ie=!1,ZS(e,s,o);ie=(e.flags&131072)!==0}else ie=!1,vt&&(s.flags&1048576)!==0&&Kg(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(e=Wi(s.elementType),s.type=e,typeof e=="function")pu(e)?(c=$i(e,c),s.tag=1,s=dp(null,s,e,c,o)):(s.tag=0,s=sh(null,s,e,c,o));else{if(e!=null){var f=e.$$typeof;if(f===P){s.tag=11,s=ap(null,s,e,c,o);break t}else if(f===U){s.tag=14,s=op(null,s,e,c,o);break t}}throw s=te(e)||e,Error(l(306,s,""))}}return s;case 0:return sh(e,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=$i(c,s.pendingProps),dp(e,s,c,f,o);case 3:t:{if(xe(s,s.stateNode.containerInfo),e===null)throw Error(l(387));c=s.pendingProps;var g=s.memoizedState;f=g.element,Ru(e,s),Wl(s,c,null,o);var _=s.memoizedState;if(c=_.cache,ai(s,ee,c),c!==g.cache&&Tu(s,[ee],o,!0),Ql(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gp(e,s,c,o);break t}else if(c!==f){f=$e(Error(l(424)),s),Fl(f),s=gp(e,s,c,o);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Vt=ln(e.firstChild),de=s,vt=!0,si=null,nn=!0,o=cm(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Gi(),c===f){s=In(e,s,o);break t}me(e,s,c,o)}s=s.child}return s;case 26:return nr(e,s),e===null?(o=w_(s.type,null,s.pendingProps,null))?s.memoizedState=o:vt||(o=s.type,e=s.pendingProps,c=vr(ot.current).createElement(o),c[fe]=s,c[Te]=e,pe(c,o,e),oe(c),s.stateNode=c):s.memoizedState=w_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Al(s),e===null&&vt&&(c=s.stateNode=A_(s.type,s.pendingProps,ot.current),de=s,nn=!0,f=Vt,vi(s.type)?(qh=f,Vt=ln(c.firstChild)):Vt=f),me(e,s,s.pendingProps.children,o),nr(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&vt&&((f=c=Vt)&&(c=Mx(c,s.type,s.pendingProps,nn),c!==null?(s.stateNode=c,de=s,Vt=ln(c.firstChild),nn=!1,f=!0):f=!1),f||li(s)),Al(s),f=s.type,g=s.pendingProps,_=e!==null?e.memoizedProps:null,c=g.children,Uh(f,g)?c=null:_!==null&&Uh(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Bu(e,s,FS,null,null,o),ma._currentValue=f),nr(e,s),me(e,s,c,o),s.child;case 6:return e===null&&vt&&((e=o=Vt)&&(o=Dx(o,s.pendingProps,nn),o!==null?(s.stateNode=o,de=s,Vt=null,e=!0):e=!1),e||li(s)),null;case 13:return mp(e,s,o);case 4:return xe(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=Zi(s,null,c,o):me(e,s,c,o),s.child;case 11:return ap(e,s,s.type,s.pendingProps,o);case 7:return me(e,s,s.pendingProps,o),s.child;case 8:return me(e,s,s.pendingProps.children,o),s.child;case 12:return me(e,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ai(s,s.type,c.value),me(e,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Xi(s),f=ge(f),c=c(f),s.flags|=1,me(e,s,c,o),s.child;case 14:return op(e,s,s.type,s.pendingProps,o);case 15:return rp(e,s,s.type,s.pendingProps,o);case 19:return _p(e,s,o);case 31:return KS(e,s,o);case 22:return cp(e,s,o,s.pendingProps);case 24:return Xi(s),c=ge(ee),e===null?(f=Du(),f===null&&(f=It,g=Au(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:c,cache:f},Ou(s),ai(s,ee,f)):((e.lanes&o)!==0&&(Ru(e,s),Wl(s,null,null,o),Ql()),f=e.memoizedState,g=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ai(s,ee,c)):(c=g.cache,ai(s,ee,c),c!==f.cache&&Tu(s,[ee],o,!0))),me(e,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function Hn(e){e.flags|=4}function fh(e,s,o,c,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Gp())e.flags|=8192;else throw Ki=Vo,wu}else e.flags&=-16777217}function vp(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!k_(s))if(Gp())e.flags|=8192;else throw Ki=Vo,wu}function sr(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Jd():536870912,e.lanes|=s,Ks|=s)}function ea(e,s){if(!vt)switch(e.tailMode){case"hidden":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ft(e){var s=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(s)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=o,s}function JS(e,s,o){var c=s.pendingProps;switch(bu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Ft(s),null;case 3:return o=s.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),zn(ee),Kt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Hs(s)?Hn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xu())),Ft(s),null;case 26:var f=s.type,g=s.memoizedState;return e===null?(Hn(s),g!==null?(Ft(s),vp(s,g)):(Ft(s),fh(s,f,null,c,o))):g?g!==e.memoizedState?(Hn(s),Ft(s),vp(s,g)):(Ft(s),s.flags&=-16777217):(e=e.memoizedProps,e!==c&&Hn(s),Ft(s),fh(s,f,e,c,o)),null;case 27:if(mo(s),o=ot.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Hn(s);else{if(!c){if(s.stateNode===null)throw Error(l(166));return Ft(s),null}e=W.current,Hs(s)?Jg(s):(e=A_(f,c,o),s.stateNode=e,Hn(s))}return Ft(s),null;case 5:if(mo(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Hn(s);else{if(!c){if(s.stateNode===null)throw Error(l(166));return Ft(s),null}if(g=W.current,Hs(s))Jg(s);else{var _=vr(ot.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}g[fe]=s,g[Te]=c;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=g;t:switch(pe(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Hn(s)}}return Ft(s),fh(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,o),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==c&&Hn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(l(166));if(e=ot.current,Hs(s)){if(e=s.stateNode,o=s.memoizedProps,c=null,f=de,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[fe]=s,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||m_(e.nodeValue,o)),e||li(s,!0)}else e=vr(e).createTextNode(c),e[fe]=s,s.stateNode=e}return Ft(s),null;case 31:if(o=s.memoizedState,e===null||e.memoizedState!==null){if(c=Hs(s),o!==null){if(e===null){if(!c)throw Error(l(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[fe]=s}else Gi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),e=!1}else o=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return s.flags&256?(qe(s),s):(qe(s),null);if((s.flags&128)!==0)throw Error(l(558))}return Ft(s),null;case 13:if(c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Hs(s),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(l(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[fe]=s}else Gi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),f=!1}else f=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qe(s),s):(qe(s),null)}return qe(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),o!==e&&o&&(s.child.flags|=8192),sr(s,s.updateQueue),Ft(s),null);case 4:return Kt(),e===null&&kh(s.stateNode.containerInfo),Ft(s),null;case 10:return zn(s.type),Ft(s),null;case 19:if(H(Zt),c=s.memoizedState,c===null)return Ft(s),null;if(f=(s.flags&128)!==0,g=c.rendering,g===null)if(f)ea(c,!1);else{if(Qt!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(g=Go(e),g!==null){for(s.flags|=128,ea(c,!1),e=g.updateQueue,s.updateQueue=e,sr(s,e),s.subtreeFlags=0,e=o,o=s.child;o!==null;)Xg(o,e),o=o.sibling;return G(Zt,Zt.current&1|2),vt&&Rn(s,c.treeForkCount),s.child}e=e.sibling}c.tail!==null&&Be()>cr&&(s.flags|=128,f=!0,ea(c,!1),s.lanes=4194304)}else{if(!f)if(e=Go(g),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,sr(s,e),ea(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!vt)return Ft(s),null}else 2*Be()-c.renderingStartTime>cr&&o!==536870912&&(s.flags|=128,f=!0,ea(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(e=c.last,e!==null?e.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Be(),e.sibling=null,o=Zt.current,G(Zt,f?o&1|2:o&1),vt&&Rn(s,c.treeForkCount),e):(Ft(s),null);case 22:case 23:return qe(s),Lu(),c=s.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),o=s.updateQueue,o!==null&&sr(s,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),e!==null&&H(Qi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),zn(ee),Ft(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function $S(e,s){switch(bu(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zn(ee),Kt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return mo(s),null;case 31:if(s.memoizedState!==null){if(qe(s),s.alternate===null)throw Error(l(340));Gi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(qe(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(l(340));Gi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return H(Zt),null;case 4:return Kt(),null;case 10:return zn(s.type),null;case 22:case 23:return qe(s),Lu(),e!==null&&H(Qi),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return zn(ee),null;case 25:return null;default:return null}}function bp(e,s){switch(bu(s),s.tag){case 3:zn(ee),Kt();break;case 26:case 27:case 5:mo(s);break;case 4:Kt();break;case 31:s.memoizedState!==null&&qe(s);break;case 13:qe(s);break;case 19:H(Zt);break;case 10:zn(s.type);break;case 22:case 23:qe(s),Lu(),e!==null&&H(Qi);break;case 24:zn(ee)}}function na(e,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==f)}}catch(b){Rt(s,s.return,b)}}function fi(e,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&e)===e){var _=c.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=s;var E=o,O=b;try{O()}catch(L){Rt(f,E,L)}}}c=c.next}while(c!==g)}}catch(L){Rt(s,s.return,L)}}function Sp(e){var s=e.updateQueue;if(s!==null){var o=e.stateNode;try{hm(s,o)}catch(c){Rt(e,e.return,c)}}}function xp(e,s,o){o.props=$i(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Rt(e,s,c)}}function ia(e,s){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(f){Rt(e,s,f)}}function Sn(e,s){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Rt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Rt(e,s,f)}else o.current=null}function Ep(e){var s=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Rt(e,e.return,f)}}function dh(e,s,o){try{var c=e.stateNode;Sx(c,e.type,o,s),c[Te]=s}catch(f){Rt(e,e.return,f)}}function Cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vi(e.type)||e.tag===4}function gh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,s,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(e),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Dn));else if(c!==4&&(c===27&&vi(e.type)&&(o=e.stateNode,s=null),e=e.child,e!==null))for(mh(e,s,o),e=e.sibling;e!==null;)mh(e,s,o),e=e.sibling}function lr(e,s,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?o.insertBefore(e,s):o.appendChild(e);else if(c!==4&&(c===27&&vi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(lr(e,s,o),e=e.sibling;e!==null;)lr(e,s,o),e=e.sibling}function Tp(e){var s=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);pe(s,c,o),s[fe]=e,s[Te]=o}catch(g){Rt(e,e.return,g)}}var Bn=!1,se=!1,ph=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,re=null;function tx(e,s){if(e=e.containerInfo,Hh=Ar,e=Bg(e),cu(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var _=0,b=-1,E=-1,O=0,L=0,B=e,R=null;e:for(;;){for(var z;B!==o||f!==0&&B.nodeType!==3||(b=_+f),B!==g||c!==0&&B.nodeType!==3||(E=_+c),B.nodeType===3&&(_+=B.nodeValue.length),(z=B.firstChild)!==null;)R=B,B=z;for(;;){if(B===e)break e;if(R===o&&++O===f&&(b=_),R===g&&++L===c&&(E=_),(z=B.nextSibling)!==null)break;B=R,R=B.parentNode}B=z}o=b===-1||E===-1?null:{start:b,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bh={focusedElem:e,selectionRange:o},Ar=!1,re=s;re!==null;)if(s=re,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,re=e;else for(;re!==null;){switch(s=re,g=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var K=$i(o.type,f);e=c.getSnapshotBeforeUpdate(K,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(nt){Rt(o,o.return,nt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,o=e.nodeType,o===9)Vh(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=s.sibling,e!==null){e.return=s.return,re=e;break}re=s.return}}function Mp(e,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:jn(e,o),c&4&&na(5,o);break;case 1:if(jn(e,o),c&4)if(e=o.stateNode,s===null)try{e.componentDidMount()}catch(_){Rt(o,o.return,_)}else{var f=$i(o.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Rt(o,o.return,_)}}c&64&&Sp(o),c&512&&ia(o,o.return);break;case 3:if(jn(e,o),c&64&&(e=o.updateQueue,e!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{hm(e,s)}catch(_){Rt(o,o.return,_)}}break;case 27:s===null&&c&4&&Tp(o);case 26:case 5:jn(e,o),s===null&&c&4&&Ep(o),c&512&&ia(o,o.return);break;case 12:jn(e,o);break;case 31:jn(e,o),c&4&&Op(e,o);break;case 13:jn(e,o),c&4&&Rp(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=cx.bind(null,o),wx(e,o))));break;case 22:if(c=o.memoizedState!==null||Bn,!c){s=s!==null&&s.memoizedState!==null||se,f=Bn;var g=se;Bn=c,(se=s)&&!g?Vn(e,o,(o.subtreeFlags&8772)!==0):jn(e,o),Bn=f,se=g}break;case 30:break;default:jn(e,o)}}function Dp(e){var s=e.alternate;s!==null&&(e.alternate=null,Dp(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Pc(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,Me=!1;function Un(e,s,o){for(o=o.child;o!==null;)wp(e,s,o),o=o.sibling}function wp(e,s,o){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ml,o)}catch{}switch(o.tag){case 26:se||Sn(o,s),Un(e,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:se||Sn(o,s);var c=Gt,f=Me;vi(o.type)&&(Gt=o.stateNode,Me=!1),Un(e,s,o),fa(o.stateNode),Gt=c,Me=f;break;case 5:se||Sn(o,s);case 6:if(c=Gt,f=Me,Gt=null,Un(e,s,o),Gt=c,Me=f,Gt!==null)if(Me)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(g){Rt(o,s,g)}else try{Gt.removeChild(o.stateNode)}catch(g){Rt(o,s,g)}break;case 18:Gt!==null&&(Me?(e=Gt,S_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),sl(e)):S_(Gt,o.stateNode));break;case 4:c=Gt,f=Me,Gt=o.stateNode.containerInfo,Me=!0,Un(e,s,o),Gt=c,Me=f;break;case 0:case 11:case 14:case 15:fi(2,o,s),se||fi(4,o,s),Un(e,s,o);break;case 1:se||(Sn(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&xp(o,s,c)),Un(e,s,o);break;case 21:Un(e,s,o);break;case 22:se=(c=se)||o.memoizedState!==null,Un(e,s,o),se=c;break;default:Un(e,s,o)}}function Op(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{sl(e)}catch(o){Rt(s,s.return,o)}}}function Rp(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sl(e)}catch(o){Rt(s,s.return,o)}}function ex(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Ap),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Ap),s;default:throw Error(l(435,e.tag))}}function ar(e,s){var o=ex(e);s.forEach(function(c){if(!o.has(c)){o.add(c);var f=ux.bind(null,e,c);c.then(f,f)}})}function De(e,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=e,_=s,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(vi(b.type)){Gt=b.stateNode,Me=!1;break t}break;case 5:Gt=b.stateNode,Me=!1;break t;case 3:case 4:Gt=b.stateNode.containerInfo,Me=!0;break t}b=b.return}if(Gt===null)throw Error(l(160));wp(g,_,f),Gt=null,Me=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Np(s,e),s=s.sibling}var hn=null;function Np(e,s){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:De(s,e),we(e),c&4&&(fi(3,e,e.return),na(3,e),fi(5,e,e.return));break;case 1:De(s,e),we(e),c&512&&(se||o===null||Sn(o,o.return)),c&64&&Bn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=hn;if(De(s,e),we(e),c&512&&(se||o===null||Sn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ol]||g[fe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),pe(g,c,o),g[fe]=e,oe(g),c=g;break t;case"link":var _=N_("link","href",f).get(c+(o.href||""));if(_){for(var b=0;b<_.length;b++)if(g=_[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(b,1);break e}}g=f.createElement(c),pe(g,c,o),f.head.appendChild(g);break;case"meta":if(_=N_("meta","content",f).get(c+(o.content||""))){for(b=0;b<_.length;b++)if(g=_[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(b,1);break e}}g=f.createElement(c),pe(g,c,o),f.head.appendChild(g);break;default:throw Error(l(468,c))}g[fe]=e,oe(g),c=g}e.stateNode=c}else z_(f,e.type,e.stateNode);else e.stateNode=R_(f,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?z_(f,e.type,e.stateNode):R_(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&dh(e,e.memoizedProps,o.memoizedProps)}break;case 27:De(s,e),we(e),c&512&&(se||o===null||Sn(o,o.return)),o!==null&&c&4&&dh(e,e.memoizedProps,o.memoizedProps);break;case 5:if(De(s,e),we(e),c&512&&(se||o===null||Sn(o,o.return)),e.flags&32){f=e.stateNode;try{Ms(f,"")}catch(K){Rt(e,e.return,K)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,dh(e,f,o!==null?o.memoizedProps:f)),c&1024&&(ph=!0);break;case 6:if(De(s,e),we(e),c&4){if(e.stateNode===null)throw Error(l(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(K){Rt(e,e.return,K)}}break;case 3:if(xr=null,f=hn,hn=br(s.containerInfo),De(s,e),hn=f,we(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sl(s.containerInfo)}catch(K){Rt(e,e.return,K)}ph&&(ph=!1,zp(e));break;case 4:c=hn,hn=br(e.stateNode.containerInfo),De(s,e),we(e),hn=c;break;case 12:De(s,e),we(e);break;case 31:De(s,e),we(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ar(e,c)));break;case 13:De(s,e),we(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rr=Be()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ar(e,c)));break;case 22:f=e.memoizedState!==null;var E=o!==null&&o.memoizedState!==null,O=Bn,L=se;if(Bn=O||f,se=L||E,De(s,e),se=L,Bn=O,we(e),c&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||E||Bn||se||ts(e)),o=null,s=e;;){if(s.tag===5||s.tag===26){if(o===null){E=o=s;try{if(g=E.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=E.stateNode;var B=E.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null;b.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(K){Rt(E,E.return,K)}}}else if(s.tag===6){if(o===null){E=s;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(K){Rt(E,E.return,K)}}}else if(s.tag===18){if(o===null){E=s;try{var z=E.stateNode;f?x_(z,!0):x_(E.stateNode,!1)}catch(K){Rt(E,E.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ar(e,o))));break;case 19:De(s,e),we(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ar(e,c)));break;case 30:break;case 21:break;default:De(s,e),we(e)}}function we(e){var s=e.flags;if(s&2){try{for(var o,c=e.return;c!==null;){if(Cp(c)){o=c;break}c=c.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var f=o.stateNode,g=gh(e);lr(e,g,f);break;case 5:var _=o.stateNode;o.flags&32&&(Ms(_,""),o.flags&=-33);var b=gh(e);lr(e,b,_);break;case 3:case 4:var E=o.stateNode.containerInfo,O=gh(e);mh(e,O,E);break;default:throw Error(l(161))}}catch(L){Rt(e,e.return,L)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;zp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function jn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Mp(e,s.alternate,s),s=s.sibling}function ts(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:fi(4,s,s.return),ts(s);break;case 1:Sn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&xp(s,s.return,o),ts(s);break;case 27:fa(s.stateNode);case 26:case 5:Sn(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}e=e.sibling}}function Vn(e,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=e,g=s,_=g.flags;switch(g.tag){case 0:case 11:case 15:Vn(f,g,o),na(4,g);break;case 1:if(Vn(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){Rt(c,c.return,O)}if(c=g,f=c.updateQueue,f!==null){var b=c.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)um(E[f],b)}catch(O){Rt(c,c.return,O)}}o&&_&64&&Sp(g),ia(g,g.return);break;case 27:Tp(g);case 26:case 5:Vn(f,g,o),o&&c===null&&_&4&&Ep(g),ia(g,g.return);break;case 12:Vn(f,g,o);break;case 31:Vn(f,g,o),o&&_&4&&Op(f,g);break;case 13:Vn(f,g,o),o&&_&4&&Rp(f,g);break;case 22:g.memoizedState===null&&Vn(f,g,o),ia(g,g.return);break;case 30:break;default:Vn(f,g,o)}s=s.sibling}}function _h(e,s){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Yl(o))}function yh(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Yl(e))}function fn(e,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kp(e,s,o,c),s=s.sibling}function kp(e,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:fn(e,s,o,c),f&2048&&na(9,s);break;case 1:fn(e,s,o,c);break;case 3:fn(e,s,o,c),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Yl(e)));break;case 12:if(f&2048){fn(e,s,o,c),e=s.stateNode;try{var g=s.memoizedProps,_=g.id,b=g.onPostCommit;typeof b=="function"&&b(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Rt(s,s.return,E)}}else fn(e,s,o,c);break;case 31:fn(e,s,o,c);break;case 13:fn(e,s,o,c);break;case 23:break;case 22:g=s.stateNode,_=s.alternate,s.memoizedState!==null?g._visibility&2?fn(e,s,o,c):sa(e,s):g._visibility&2?fn(e,s,o,c):(g._visibility|=2,Xs(e,s,o,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&_h(_,s);break;case 24:fn(e,s,o,c),f&2048&&yh(s.alternate,s);break;default:fn(e,s,o,c)}}function Xs(e,s,o,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=e,_=s,b=o,E=c,O=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(g,_,b,E,f),na(8,_);break;case 23:break;case 22:var L=_.stateNode;_.memoizedState!==null?L._visibility&2?Xs(g,_,b,E,f):sa(g,_):(L._visibility|=2,Xs(g,_,b,E,f)),f&&O&2048&&_h(_.alternate,_);break;case 24:Xs(g,_,b,E,f),f&&O&2048&&yh(_.alternate,_);break;default:Xs(g,_,b,E,f)}s=s.sibling}}function sa(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=e,c=s,f=c.flags;switch(c.tag){case 22:sa(o,c),f&2048&&_h(c.alternate,c);break;case 24:sa(o,c),f&2048&&yh(c.alternate,c);break;default:sa(o,c)}s=s.sibling}}var la=8192;function Qs(e,s,o){if(e.subtreeFlags&la)for(e=e.child;e!==null;)Lp(e,s,o),e=e.sibling}function Lp(e,s,o){switch(e.tag){case 26:Qs(e,s,o),e.flags&la&&e.memoizedState!==null&&Vx(o,hn,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,s,o);break;case 3:case 4:var c=hn;hn=br(e.stateNode.containerInfo),Qs(e,s,o),hn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=la,la=16777216,Qs(e,s,o),la=c):Qs(e,s,o));break;default:Qs(e,s,o)}}function Ip(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function aa(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];re=c,Bp(c,e)}Ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hp(e),e=e.sibling}function Hp(e){switch(e.tag){case 0:case 11:case 15:aa(e),e.flags&2048&&fi(9,e,e.return);break;case 3:aa(e);break;case 12:aa(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,or(e)):aa(e);break;default:aa(e)}}function or(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];re=c,Bp(c,e)}Ip(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:fi(8,s,s.return),or(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,or(s));break;default:or(s)}e=e.sibling}}function Bp(e,s){for(;re!==null;){var o=re;switch(o.tag){case 0:case 11:case 15:fi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,re=c;else t:for(o=e;re!==null;){c=re;var f=c.sibling,g=c.return;if(Dp(c),c===o){re=null;break t}if(f!==null){f.return=g,re=f;break t}re=g}}}var nx={getCacheForType:function(e){var s=ge(ee),o=s.data.get(e);return o===void 0&&(o=e(),s.data.set(e,o)),o},cacheSignal:function(){return ge(ee).controller.signal}},ix=typeof WeakMap=="function"?WeakMap:Map,At=0,It=null,dt=null,_t=0,Ot=0,Ge=null,di=!1,Ws=!1,vh=!1,Fn=0,Qt=0,gi=0,es=0,bh=0,Pe=0,Ks=0,oa=null,Oe=null,Sh=!1,rr=0,Up=0,cr=1/0,ur=null,mi=null,le=0,pi=null,Zs=null,Yn=0,xh=0,Eh=null,jp=null,ra=0,Ch=null;function Xe(){return(At&2)!==0&&_t!==0?_t&-_t:N.T!==null?Oh():ng()}function Vp(){if(Pe===0)if((_t&536870912)===0||vt){var e=yo;yo<<=1,(yo&3932160)===0&&(yo=262144),Pe=e}else Pe=536870912;return e=Ye.current,e!==null&&(e.flags|=32),Pe}function Re(e,s,o){(e===It&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(Js(e,0),_i(e,_t,Pe,!1)),wl(e,o),((At&2)===0||e!==It)&&(e===It&&((At&2)===0&&(es|=o),Qt===4&&_i(e,_t,Pe,!1)),xn(e))}function Fp(e,s,o){if((At&6)!==0)throw Error(l(327));var c=!o&&(s&127)===0&&(s&e.expiredLanes)===0||Dl(e,s),f=c?ax(e,s):Ah(e,s,!0),g=c;do{if(f===0){Ws&&!c&&_i(e,s,0,!1);break}else{if(o=e.current.alternate,g&&!sx(o)){f=Ah(e,s,!1),g=!1;continue}if(f===2){if(g=s,e.errorRecoveryDisabledLanes&g)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var b=e;f=oa;var E=b.current.memoizedState.isDehydrated;if(E&&(Js(b,_).flags|=256),_=Ah(b,_,!1),_!==2){if(vh&&!E){b.errorRecoveryDisabledLanes|=g,es|=g,f=4;break t}g=Oe,Oe=f,g!==null&&(Oe===null?Oe=g:Oe.push.apply(Oe,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){Js(e,0),_i(e,s,0,!0);break}t:{switch(c=e,g=f,g){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:_i(c,s,Pe,!di);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(f=rr+300-Be(),10<f)){if(_i(c,s,Pe,!di),bo(c,0,!0)!==0)break t;Yn=s,c.timeoutHandle=v_(Yp.bind(null,c,o,Oe,ur,Sh,s,Pe,es,Ks,di,g,"Throttled",-0,0),f);break t}Yp(c,o,Oe,ur,Sh,s,Pe,es,Ks,di,g,null,-0,0)}}break}while(!0);xn(e)}function Yp(e,s,o,c,f,g,_,b,E,O,L,B,R,z){if(e.timeoutHandle=-1,B=s.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},Lp(s,g,B);var K=(g&62914560)===g?rr-Be():(g&4194048)===g?Up-Be():0;if(K=Fx(B,K),K!==null){Yn=g,e.cancelPendingCommit=K(Zp.bind(null,e,s,g,o,c,f,_,b,E,L,B,null,R,z)),_i(e,g,_,!O);return}}Zp(e,s,g,o,c,f,_,b,E)}function sx(e){for(var s=e;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!Ve(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(e,s,o,c){s&=~bh,s&=~es,e.suspendedLanes|=s,e.pingedLanes&=~s,c&&(e.warmLanes|=s),c=e.expirationTimes;for(var f=s;0<f;){var g=31-je(f),_=1<<g;c[g]=-1,f&=~_}o!==0&&$d(e,o,s)}function hr(){return(At&6)===0?(ca(0),!1):!0}function Th(){if(dt!==null){if(Ot===0)var e=dt.return;else e=dt,Nn=Pi=null,Vu(e),Fs=null,Gl=0,e=dt;for(;e!==null;)bp(e.alternate,e),e=e.return;dt=null}}function Js(e,s){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Cx(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Yn=0,Th(),It=e,dt=o=On(e.current,null),_t=s,Ot=0,Ge=null,di=!1,Ws=Dl(e,s),vh=!1,Ks=Pe=bh=es=gi=Qt=0,Oe=oa=null,Sh=!1,(s&8)!==0&&(s|=s&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=s;0<c;){var f=31-je(c),g=1<<f;s|=e[f],c&=~g}return Fn=s,No(),o}function qp(e,s){ct=null,N.H=$l,s===Vs||s===jo?(s=am(),Ot=3):s===wu?(s=am(),Ot=4):Ot=s===ih?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ge=s,dt===null&&(Qt=1,tr(e,$e(s,e.current)))}function Gp(){var e=Ye.current;return e===null?!0:(_t&4194048)===_t?sn===null:(_t&62914560)===_t||(_t&536870912)!==0?e===sn:!1}function Pp(){var e=N.H;return N.H=$l,e===null?$l:e}function Xp(){var e=N.A;return N.A=nx,e}function fr(){Qt=4,di||(_t&4194048)!==_t&&Ye.current!==null||(Ws=!0),(gi&134217727)===0&&(es&134217727)===0||It===null||_i(It,_t,Pe,!1)}function Ah(e,s,o){var c=At;At|=2;var f=Pp(),g=Xp();(It!==e||_t!==s)&&(ur=null,Js(e,s)),s=!1;var _=Qt;t:do try{if(Ot!==0&&dt!==null){var b=dt,E=Ge;switch(Ot){case 8:Th(),_=6;break t;case 3:case 2:case 9:case 6:Ye.current===null&&(s=!0);var O=Ot;if(Ot=0,Ge=null,$s(e,b,E,O),o&&Ws){_=0;break t}break;default:O=Ot,Ot=0,Ge=null,$s(e,b,E,O)}}lx(),_=Qt;break}catch(L){qp(e,L)}while(!0);return s&&e.shellSuspendCounter++,Nn=Pi=null,At=c,N.H=f,N.A=g,dt===null&&(It=null,_t=0,No()),_}function lx(){for(;dt!==null;)Qp(dt)}function ax(e,s){var o=At;At|=2;var c=Pp(),f=Xp();It!==e||_t!==s?(ur=null,cr=Be()+500,Js(e,s)):Ws=Dl(e,s);t:do try{if(Ot!==0&&dt!==null){s=dt;var g=Ge;e:switch(Ot){case 1:Ot=0,Ge=null,$s(e,s,g,1);break;case 2:case 9:if(sm(g)){Ot=0,Ge=null,Wp(s);break}s=function(){Ot!==2&&Ot!==9||It!==e||(Ot=7),xn(e)},g.then(s,s);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:sm(g)?(Ot=0,Ge=null,Wp(s)):(Ot=0,Ge=null,$s(e,s,g,7));break;case 5:var _=null;switch(dt.tag){case 26:_=dt.memoizedState;case 5:case 27:var b=dt;if(_?k_(_):b.stateNode.complete){Ot=0,Ge=null;var E=b.sibling;if(E!==null)dt=E;else{var O=b.return;O!==null?(dt=O,dr(O)):dt=null}break e}}Ot=0,Ge=null,$s(e,s,g,5);break;case 6:Ot=0,Ge=null,$s(e,s,g,6);break;case 8:Th(),Qt=6;break t;default:throw Error(l(462))}}ox();break}catch(L){qp(e,L)}while(!0);return Nn=Pi=null,N.H=c,N.A=f,At=o,dt!==null?0:(It=null,_t=0,No(),Qt)}function ox(){for(;dt!==null&&!O1();)Qp(dt)}function Qp(e){var s=yp(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,s===null?dr(e):dt=s}function Wp(e){var s=e,o=s.alternate;switch(s.tag){case 15:case 0:s=fp(o,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=fp(o,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:Vu(s);default:bp(o,s),s=dt=Xg(s,Fn),s=yp(o,s,Fn)}e.memoizedProps=e.pendingProps,s===null?dr(e):dt=s}function $s(e,s,o,c){Nn=Pi=null,Vu(s),Fs=null,Gl=0;var f=s.return;try{if(WS(e,f,s,o,_t)){Qt=1,tr(e,$e(o,e.current)),dt=null;return}}catch(g){if(f!==null)throw dt=f,g;Qt=1,tr(e,$e(o,e.current)),dt=null;return}s.flags&32768?(vt||c===1?e=!0:Ws||(_t&536870912)!==0?e=!1:(di=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ye.current,c!==null&&c.tag===13&&(c.flags|=16384))),Kp(s,e)):dr(s)}function dr(e){var s=e;do{if((s.flags&32768)!==0){Kp(s,di);return}e=s.return;var o=JS(s.alternate,s,Fn);if(o!==null){dt=o;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=e}while(s!==null);Qt===0&&(Qt=5)}function Kp(e,s){do{var o=$S(e.alternate,e);if(o!==null){o.flags&=32767,dt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(e=e.sibling,e!==null)){dt=e;return}dt=e=o}while(e!==null);Qt=6,dt=null}function Zp(e,s,o,c,f,g,_,b,E){e.cancelPendingCommit=null;do gr();while(le!==0);if((At&6)!==0)throw Error(l(327));if(s!==null){if(s===e.current)throw Error(l(177));if(g=s.lanes|s.childLanes,g|=gu,j1(e,o,g,_,b,E),e===It&&(dt=It=null,_t=0),Zs=s,pi=e,Yn=o,xh=g,Eh=f,jp=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hx(po,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=N.T,N.T=null,f=F.p,F.p=2,_=At,At|=4;try{tx(e,s,o)}finally{At=_,F.p=f,N.T=c}}le=1,Jp(),$p(),t_()}}function Jp(){if(le===1){le=0;var e=pi,s=Zs,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=N.T,N.T=null;var c=F.p;F.p=2;var f=At;At|=4;try{Np(s,e);var g=Bh,_=Bg(e.containerInfo),b=g.focusedElem,E=g.selectionRange;if(_!==b&&b&&b.ownerDocument&&Hg(b.ownerDocument.documentElement,b)){if(E!==null&&cu(b)){var O=E.start,L=E.end;if(L===void 0&&(L=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(L,b.value.length);else{var B=b.ownerDocument||document,R=B&&B.defaultView||window;if(R.getSelection){var z=R.getSelection(),K=b.textContent.length,nt=Math.min(E.start,K),Lt=E.end===void 0?nt:Math.min(E.end,K);!z.extend&&nt>Lt&&(_=Lt,Lt=nt,nt=_);var D=Ig(b,nt),T=Ig(b,Lt);if(D&&T&&(z.rangeCount!==1||z.anchorNode!==D.node||z.anchorOffset!==D.offset||z.focusNode!==T.node||z.focusOffset!==T.offset)){var w=B.createRange();w.setStart(D.node,D.offset),z.removeAllRanges(),nt>Lt?(z.addRange(w),z.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),z.addRange(w))}}}}for(B=[],z=b;z=z.parentNode;)z.nodeType===1&&B.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<B.length;b++){var I=B[b];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Ar=!!Hh,Bh=Hh=null}finally{At=f,F.p=c,N.T=o}}e.current=s,le=2}}function $p(){if(le===2){le=0;var e=pi,s=Zs,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=N.T,N.T=null;var c=F.p;F.p=2;var f=At;At|=4;try{Mp(e,s.alternate,s)}finally{At=f,F.p=c,N.T=o}}le=3}}function t_(){if(le===4||le===3){le=0,R1();var e=pi,s=Zs,o=Yn,c=jp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?le=5:(le=0,Zs=pi=null,e_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(mi=null),qc(o),s=s.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ml,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=N.T,f=F.p,F.p=2,N.T=null;try{for(var g=e.onRecoverableError,_=0;_<c.length;_++){var b=c[_];g(b.value,{componentStack:b.stack})}}finally{N.T=s,F.p=f}}(Yn&3)!==0&&gr(),xn(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===Ch?ra++:(ra=0,Ch=e):ra=0,ca(0)}}function e_(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Yl(s)))}function gr(){return Jp(),$p(),t_(),n_()}function n_(){if(le!==5)return!1;var e=pi,s=xh;xh=0;var o=qc(Yn),c=N.T,f=F.p;try{F.p=32>o?32:o,N.T=null,o=Eh,Eh=null;var g=pi,_=Yn;if(le=0,Zs=pi=null,Yn=0,(At&6)!==0)throw Error(l(331));var b=At;if(At|=4,Hp(g.current),kp(g,g.current,_,o),At=b,ca(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ml,g)}catch{}return!0}finally{F.p=f,N.T=c,e_(e,s)}}function i_(e,s,o){s=$e(o,s),s=nh(e.stateNode,s,2),e=ci(e,s,2),e!==null&&(wl(e,2),xn(e))}function Rt(e,s,o){if(e.tag===3)i_(e,e,o);else for(;s!==null;){if(s.tag===3){i_(s,e,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mi===null||!mi.has(c))){e=$e(o,e),o=sp(2),c=ci(s,o,2),c!==null&&(lp(o,c,s,e),wl(c,2),xn(c));break}}s=s.return}}function Mh(e,s,o){var c=e.pingCache;if(c===null){c=e.pingCache=new ix;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(vh=!0,f.add(o),e=rx.bind(null,e,s,o),s.then(e,e))}function rx(e,s,o){var c=e.pingCache;c!==null&&c.delete(s),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,It===e&&(_t&o)===o&&(Qt===4||Qt===3&&(_t&62914560)===_t&&300>Be()-rr?(At&2)===0&&Js(e,0):bh|=o,Ks===_t&&(Ks=0)),xn(e)}function s_(e,s){s===0&&(s=Jd()),e=Yi(e,s),e!==null&&(wl(e,s),xn(e))}function cx(e){var s=e.memoizedState,o=0;s!==null&&(o=s.retryLane),s_(e,o)}function ux(e,s){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(s),s_(e,o)}function hx(e,s){return jc(e,s)}var mr=null,tl=null,Dh=!1,pr=!1,wh=!1,yi=0;function xn(e){e!==tl&&e.next===null&&(tl===null?mr=tl=e:tl=tl.next=e),pr=!0,Dh||(Dh=!0,dx())}function ca(e,s){if(!wh&&pr){wh=!0;do for(var o=!1,c=mr;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var _=c.suspendedLanes,b=c.pingedLanes;g=(1<<31-je(42|e)+1)-1,g&=f&~(_&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,r_(c,g))}else g=_t,g=bo(c,c===It?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Dl(c,g)||(o=!0,r_(c,g));c=c.next}while(o);wh=!1}}function fx(){l_()}function l_(){pr=Dh=!1;var e=0;yi!==0&&Ex()&&(e=yi);for(var s=Be(),o=null,c=mr;c!==null;){var f=c.next,g=a_(c,s);g===0?(c.next=null,o===null?mr=f:o.next=f,f===null&&(tl=o)):(o=c,(e!==0||(g&3)!==0)&&(pr=!0)),c=f}le!==0&&le!==5||ca(e),yi!==0&&(yi=0)}function a_(e,s){for(var o=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var _=31-je(g),b=1<<_,E=f[_];E===-1?((b&o)===0||(b&c)!==0)&&(f[_]=U1(b,s)):E<=s&&(e.expiredLanes|=b),g&=~b}if(s=It,o=_t,o=bo(e,e===s?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===s&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Vc(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Dl(e,o)){if(s=o&-o,s===e.callbackPriority)return s;switch(c!==null&&Vc(c),qc(o)){case 2:case 8:o=Kd;break;case 32:o=po;break;case 268435456:o=Zd;break;default:o=po}return c=o_.bind(null,e),o=jc(o,c),e.callbackPriority=s,e.callbackNode=o,s}return c!==null&&c!==null&&Vc(c),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,s){if(le!==0&&le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(gr()&&e.callbackNode!==o)return null;var c=_t;return c=bo(e,e===It?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Fp(e,c,s),a_(e,Be()),e.callbackNode!=null&&e.callbackNode===o?o_.bind(null,e):null)}function r_(e,s){if(gr())return null;Fp(e,s,!0)}function dx(){Tx(function(){(At&6)!==0?jc(Wd,fx):l_()})}function Oh(){if(yi===0){var e=Us;e===0&&(e=_o,_o<<=1,(_o&261888)===0&&(_o=256)),yi=e}return yi}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Co(""+e)}function u_(e,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,e.id&&o.setAttribute("form",e.id),s.parentNode.insertBefore(o,s),e=new FormData(e),o.parentNode.removeChild(o),e}function gx(e,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var g=c_((f[Te]||null).action),_=c.submitter;_&&(s=(s=_[Te]||null)?c_(s.formAction):_.getAttribute("formAction"),s!==null&&(g=s,_=null));var b=new Do("action","action",null,c,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yi!==0){var E=_?u_(f,_):new FormData(f);Ku(o,{pending:!0,data:E,method:f.method,action:g},null,E)}}else typeof g=="function"&&(b.preventDefault(),E=_?u_(f,_):new FormData(f),Ku(o,{pending:!0,data:E,method:f.method,action:g},g,E))},currentTarget:f}]})}}for(var Rh=0;Rh<du.length;Rh++){var Nh=du[Rh],mx=Nh.toLowerCase(),px=Nh[0].toUpperCase()+Nh.slice(1);un(mx,"on"+px)}un(Vg,"onAnimationEnd"),un(Fg,"onAnimationIteration"),un(Yg,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(NS,"onTransitionRun"),un(zS,"onTransitionStart"),un(kS,"onTransitionCancel"),un(qg,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_x=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ua));function h_(e,s){s=(s&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],f=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var b=c[_],E=b.instance,O=b.currentTarget;if(b=b.listener,E!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=O;try{g(f)}catch(L){Ro(L)}f.currentTarget=null,g=E}else for(_=0;_<c.length;_++){if(b=c[_],E=b.instance,O=b.currentTarget,b=b.listener,E!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=O;try{g(f)}catch(L){Ro(L)}f.currentTarget=null,g=E}}}}function gt(e,s){var o=s[Gc];o===void 0&&(o=s[Gc]=new Set);var c=e+"__bubble";o.has(c)||(f_(s,e,2,!1),o.add(c))}function zh(e,s,o){var c=0;s&&(c|=4),f_(o,e,c,s)}var _r="_reactListening"+Math.random().toString(36).slice(2);function kh(e){if(!e[_r]){e[_r]=!0,lg.forEach(function(o){o!=="selectionchange"&&(_x.has(o)||zh(o,!1,e),zh(o,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[_r]||(s[_r]=!0,zh("selectionchange",!1,s))}}function f_(e,s,o,c){switch(V_(s)){case 2:var f=Gx;break;case 8:f=Px;break;default:f=Wh}o=f.bind(null,s,o,e),f=void 0,!tu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(s,o,{capture:!0,passive:f}):e.addEventListener(s,o,!0):f!==void 0?e.addEventListener(s,o,{passive:f}):e.addEventListener(s,o,!1)}function Lh(e,s,o,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var b=c.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=c.return;_!==null;){var E=_.tag;if((E===3||E===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=xs(b),_===null)return;if(E=_.tag,E===5||E===6||E===26||E===27){c=g=_;continue t}b=b.parentNode}}c=c.return}_g(function(){var O=g,L=Jc(o),B=[];t:{var R=Gg.get(e);if(R!==void 0){var z=Do,K=e;switch(e){case"keypress":if(Ao(o)===0)break t;case"keydown":case"keyup":z=uS;break;case"focusin":K="focus",z=su;break;case"focusout":K="blur",z=su;break;case"beforeblur":case"afterblur":z=su;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=dS;break;case Vg:case Fg:case Yg:z=eS;break;case qg:z=mS;break;case"scroll":case"scrollend":z=K1;break;case"wheel":z=_S;break;case"copy":case"cut":case"paste":z=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=xg;break;case"toggle":case"beforetoggle":z=vS}var nt=(s&4)!==0,Lt=!nt&&(e==="scroll"||e==="scrollend"),D=nt?R!==null?R+"Capture":null:R;nt=[];for(var T=O,w;T!==null;){var I=T;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||D===null||(I=Nl(T,D),I!=null&&nt.push(ha(T,I,w))),Lt)break;T=T.return}0<nt.length&&(R=new z(R,K,null,o,L),B.push({event:R,listeners:nt}))}}if((s&7)===0){t:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&o!==Zc&&(K=o.relatedTarget||o.fromElement)&&(xs(K)||K[Ss]))break t;if((z||R)&&(R=L.window===L?L:(R=L.ownerDocument)?R.defaultView||R.parentWindow:window,z?(K=o.relatedTarget||o.toElement,z=O,K=K?xs(K):null,K!==null&&(Lt=r(K),nt=K.tag,K!==Lt||nt!==5&&nt!==27&&nt!==6)&&(K=null)):(z=null,K=O),z!==K)){if(nt=bg,I="onMouseLeave",D="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(nt=xg,I="onPointerLeave",D="onPointerEnter",T="pointer"),Lt=z==null?R:Rl(z),w=K==null?R:Rl(K),R=new nt(I,T+"leave",z,o,L),R.target=Lt,R.relatedTarget=w,I=null,xs(L)===O&&(nt=new nt(D,T+"enter",K,o,L),nt.target=w,nt.relatedTarget=Lt,I=nt),Lt=I,z&&K)e:{for(nt=yx,D=z,T=K,w=0,I=D;I;I=nt(I))w++;I=0;for(var J=T;J;J=nt(J))I++;for(;0<w-I;)D=nt(D),w--;for(;0<I-w;)T=nt(T),I--;for(;w--;){if(D===T||T!==null&&D===T.alternate){nt=D;break e}D=nt(D),T=nt(T)}nt=null}else nt=null;z!==null&&d_(B,R,z,nt,!1),K!==null&&Lt!==null&&d_(B,Lt,K,nt,!0)}}t:{if(R=O?Rl(O):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var Ct=Og;else if(Dg(R))if(Rg)Ct=wS;else{Ct=MS;var Z=AS}else z=R.nodeName,!z||z.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&Kc(O.elementType)&&(Ct=Og):Ct=DS;if(Ct&&(Ct=Ct(e,O))){wg(B,Ct,o,L);break t}Z&&Z(e,R,O),e==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&Wc(R,"number",R.value)}switch(Z=O?Rl(O):window,e){case"focusin":(Dg(Z)||Z.contentEditable==="true")&&(Rs=Z,uu=O,jl=null);break;case"focusout":jl=uu=Rs=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Ug(B,o,L);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":Ug(B,o,L)}var ut;if(au)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Os?Ag(e,o)&&(yt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(yt="onCompositionStart");yt&&(Eg&&o.locale!=="ko"&&(Os||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Os&&(ut=yg()):(ni=L,eu="value"in ni?ni.value:ni.textContent,Os=!0)),Z=yr(O,yt),0<Z.length&&(yt=new Sg(yt,e,null,o,L),B.push({event:yt,listeners:Z}),ut?yt.data=ut:(ut=Mg(o),ut!==null&&(yt.data=ut)))),(ut=SS?xS(e,o):ES(e,o))&&(yt=yr(O,"onBeforeInput"),0<yt.length&&(Z=new Sg("onBeforeInput","beforeinput",null,o,L),B.push({event:Z,listeners:yt}),Z.data=ut)),gx(B,e,O,o,L)}h_(B,s)})}function ha(e,s,o){return{instance:e,listener:s,currentTarget:o}}function yr(e,s){for(var o=s+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Nl(e,o),f!=null&&c.unshift(ha(e,f,g)),f=Nl(e,s),f!=null&&c.push(ha(e,f,g))),e.tag===3)return c;e=e.return}return[]}function yx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,s,o,c,f){for(var g=s._reactName,_=[];o!==null&&o!==c;){var b=o,E=b.alternate,O=b.stateNode;if(b=b.tag,E!==null&&E===c)break;b!==5&&b!==26&&b!==27||O===null||(E=O,f?(O=Nl(o,g),O!=null&&_.unshift(ha(o,O,E))):f||(O=Nl(o,g),O!=null&&_.push(ha(o,O,E)))),o=o.return}_.length!==0&&e.push({event:s,listeners:_})}var vx=/\r\n?/g,bx=/\u0000|\uFFFD/g;function g_(e){return(typeof e=="string"?e:""+e).replace(vx,`
`).replace(bx,"")}function m_(e,s){return s=g_(s),g_(e)===s}function kt(e,s,o,c,f,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ms(e,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ms(e,""+c);break;case"className":xo(e,"class",c);break;case"tabIndex":xo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(e,o,c);break;case"style":mg(e,c,g);break;case"data":if(s!=="object"){xo(e,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Co(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&kt(e,s,"name",f.name,f,null),kt(e,s,"formEncType",f.formEncType,f,null),kt(e,s,"formMethod",f.formMethod,f,null),kt(e,s,"formTarget",f.formTarget,f,null)):(kt(e,s,"encType",f.encType,f,null),kt(e,s,"method",f.method,f,null),kt(e,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Co(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"onScroll":c!=null&&gt("scroll",e);break;case"onScrollEnd":c!=null&&gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Co(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":gt("beforetoggle",e),gt("toggle",e),So(e,"popover",c);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":So(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Q1.get(o)||o,So(e,o,c))}}function Ih(e,s,o,c,f,g){switch(o){case"style":mg(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=o}}break;case"children":typeof c=="string"?Ms(e,c):(typeof c=="number"||typeof c=="bigint")&&Ms(e,""+c);break;case"onScroll":c!=null&&gt("scroll",e);break;case"onScrollEnd":c!=null&&gt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ag.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=e[Te]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(s,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(s,c,f);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):So(e,o,c)}}}function pe(e,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",e),gt("load",e);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:kt(e,s,g,_,o,null)}}f&&kt(e,s,"srcSet",o.srcSet,o,null),c&&kt(e,s,"src",o.src,o,null);return;case"input":gt("invalid",e);var b=g=_=f=null,E=null,O=null;for(c in o)if(o.hasOwnProperty(c)){var L=o[c];if(L!=null)switch(c){case"name":f=L;break;case"type":_=L;break;case"checked":E=L;break;case"defaultChecked":O=L;break;case"value":g=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,s));break;default:kt(e,s,c,L,o,null)}}hg(e,g,b,E,O,_,f,!1);return;case"select":gt("invalid",e),c=_=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":_=b;break;case"multiple":c=b;default:kt(e,s,f,b,o,null)}s=g,o=_,e.multiple=!!c,s!=null?As(e,!!c,s,!1):o!=null&&As(e,!!c,o,!0);return;case"textarea":gt("invalid",e),g=f=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(b=o[_],b!=null))switch(_){case"value":c=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:kt(e,s,_,b,o,null)}dg(e,c,f,g);return;case"option":for(E in o)if(o.hasOwnProperty(E)&&(c=o[E],c!=null))switch(E){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:kt(e,s,E,c,o,null)}return;case"dialog":gt("beforetoggle",e),gt("toggle",e),gt("cancel",e),gt("close",e);break;case"iframe":case"object":gt("load",e);break;case"video":case"audio":for(c=0;c<ua.length;c++)gt(ua[c],e);break;case"image":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"embed":case"source":case"link":gt("error",e),gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:kt(e,s,O,c,o,null)}return;default:if(Kc(s)){for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!==void 0&&Ih(e,s,L,c,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(c=o[b],c!=null&&kt(e,s,b,c,o,null))}function Sx(e,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,b=null,E=null,O=null,L=null;for(z in o){var B=o[z];if(o.hasOwnProperty(z)&&B!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":E=B;default:c.hasOwnProperty(z)||kt(e,s,z,null,c,B)}}for(var R in c){var z=c[R];if(B=o[R],c.hasOwnProperty(R)&&(z!=null||B!=null))switch(R){case"type":g=z;break;case"name":f=z;break;case"checked":O=z;break;case"defaultChecked":L=z;break;case"value":_=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,s));break;default:z!==B&&kt(e,s,R,z,c,B)}}Qc(e,_,b,E,O,L,g,f);return;case"select":z=_=b=R=null;for(g in o)if(E=o[g],o.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":z=E;default:c.hasOwnProperty(g)||kt(e,s,g,null,c,E)}for(f in c)if(g=c[f],E=o[f],c.hasOwnProperty(f)&&(g!=null||E!=null))switch(f){case"value":R=g;break;case"defaultValue":b=g;break;case"multiple":_=g;default:g!==E&&kt(e,s,f,g,c,E)}s=b,o=_,c=z,R!=null?As(e,!!o,R,!1):!!c!=!!o&&(s!=null?As(e,!!o,s,!0):As(e,!!o,o?[]:"",!1));return;case"textarea":z=R=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:kt(e,s,b,null,c,f)}for(_ in c)if(f=c[_],g=o[_],c.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":R=f;break;case"defaultValue":z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==g&&kt(e,s,_,f,c,g)}fg(e,R,z);return;case"option":for(var K in o)if(R=o[K],o.hasOwnProperty(K)&&R!=null&&!c.hasOwnProperty(K))switch(K){case"selected":e.selected=!1;break;default:kt(e,s,K,null,c,R)}for(E in c)if(R=c[E],z=o[E],c.hasOwnProperty(E)&&R!==z&&(R!=null||z!=null))switch(E){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:kt(e,s,E,R,c,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in o)R=o[nt],o.hasOwnProperty(nt)&&R!=null&&!c.hasOwnProperty(nt)&&kt(e,s,nt,null,c,R);for(O in c)if(R=c[O],z=o[O],c.hasOwnProperty(O)&&R!==z&&(R!=null||z!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,s));break;default:kt(e,s,O,R,c,z)}return;default:if(Kc(s)){for(var Lt in o)R=o[Lt],o.hasOwnProperty(Lt)&&R!==void 0&&!c.hasOwnProperty(Lt)&&Ih(e,s,Lt,void 0,c,R);for(L in c)R=c[L],z=o[L],!c.hasOwnProperty(L)||R===z||R===void 0&&z===void 0||Ih(e,s,L,R,c,z);return}}for(var D in o)R=o[D],o.hasOwnProperty(D)&&R!=null&&!c.hasOwnProperty(D)&&kt(e,s,D,null,c,R);for(B in c)R=c[B],z=o[B],!c.hasOwnProperty(B)||R===z||R==null&&z==null||kt(e,s,B,R,c,z)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],g=f.transferSize,_=f.initiatorType,b=f.duration;if(g&&b&&p_(_)){for(_=0,b=f.responseEnd,c+=1;c<o.length;c++){var E=o[c],O=E.startTime;if(O>b)break;var L=E.transferSize,B=E.initiatorType;L&&p_(B)&&(E=E.responseEnd,_+=L*(E<b?1:(b-O)/(E-O)))}if(--c,s+=8*(g+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hh=null,Bh=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Uh(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jh=null;function Ex(){var e=window.event;return e&&e.type==="popstate"?e===jh?!1:(jh=e,!0):(jh=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(Ax)}:v_;function Ax(e){setTimeout(function(){throw e})}function vi(e){return e==="head"}function S_(e,s){var o=s,c=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(f),sl(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")fa(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,fa(o);for(var g=o.firstChild;g;){var _=g.nextSibling,b=g.nodeName;g[Ol]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&fa(e.ownerDocument.body);o=f}while(o);sl(s)}function x_(e,s){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Vh(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vh(o),Pc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Mx(e,s,o,c){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ol])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function Dx(e,s,o){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ln(e.nextSibling),e===null))return null;return e}function E_(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ln(e.nextSibling),e===null))return null;return e}function Fh(e){return e.data==="$?"||e.data==="$~"}function Yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wx(e,s){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ln(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var qh=null;function C_(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(s===0)return ln(e.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return e;s--}else o!=="/$"&&o!=="/&"||s++}e=e.previousSibling}return null}function A_(e,s,o){switch(s=vr(o),e){case"html":if(e=s.documentElement,!e)throw Error(l(452));return e;case"head":if(e=s.head,!e)throw Error(l(453));return e;case"body":if(e=s.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function fa(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Pc(e)}var an=new Map,M_=new Set;function br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=F.d;F.d={f:Ox,r:Rx,D:Nx,C:zx,L:kx,m:Lx,X:Hx,S:Ix,M:Bx};function Ox(){var e=qn.f(),s=hr();return e||s}function Rx(e){var s=Es(e);s!==null&&s.tag===5&&s.type==="form"?qm(s):qn.r(e)}var el=typeof document>"u"?null:document;function D_(e,s,o){var c=el;if(c&&typeof s=="string"&&s){var f=Ze(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),M_.has(f)||(M_.add(f),e={rel:e,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),pe(s,"link",e),oe(s),c.head.appendChild(s)))}}function Nx(e){qn.D(e),D_("dns-prefetch",e,null)}function zx(e,s){qn.C(e,s),D_("preconnect",e,s)}function kx(e,s,o){qn.L(e,s,o);var c=el;if(c&&e&&s){var f='link[rel="preload"][as="'+Ze(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ze(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ze(o.imageSizes)+'"]')):f+='[href="'+Ze(e)+'"]';var g=f;switch(s){case"style":g=nl(e);break;case"script":g=il(e)}an.has(g)||(e=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:e,as:s},o),an.set(g,e),c.querySelector(f)!==null||s==="style"&&c.querySelector(da(g))||s==="script"&&c.querySelector(ga(g))||(s=c.createElement("link"),pe(s,"link",e),oe(s),c.head.appendChild(s)))}}function Lx(e,s){qn.m(e,s);var o=el;if(o&&e){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ze(c)+'"][href="'+Ze(e)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=il(e)}if(!an.has(g)&&(e=y({rel:"modulepreload",href:e},s),an.set(g,e),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ga(g)))return}c=o.createElement("link"),pe(c,"link",e),oe(c),o.head.appendChild(c)}}}function Ix(e,s,o){qn.S(e,s,o);var c=el;if(c&&e){var f=Cs(c).hoistableStyles,g=nl(e);s=s||"default";var _=f.get(g);if(!_){var b={loading:0,preload:null};if(_=c.querySelector(da(g)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":s},o),(o=an.get(g))&&Gh(e,o);var E=_=c.createElement("link");oe(E),pe(E,"link",e),E._p=new Promise(function(O,L){E.onload=O,E.onerror=L}),E.addEventListener("load",function(){b.loading|=1}),E.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Sr(_,s,c)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(g,_)}}}function Hx(e,s){qn.X(e,s);var o=el;if(o&&e){var c=Cs(o).hoistableScripts,f=il(e),g=c.get(f);g||(g=o.querySelector(ga(f)),g||(e=y({src:e,async:!0},s),(s=an.get(f))&&Ph(e,s),g=o.createElement("script"),oe(g),pe(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function Bx(e,s){qn.M(e,s);var o=el;if(o&&e){var c=Cs(o).hoistableScripts,f=il(e),g=c.get(f);g||(g=o.querySelector(ga(f)),g||(e=y({src:e,async:!0,type:"module"},s),(s=an.get(f))&&Ph(e,s),g=o.createElement("script"),oe(g),pe(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function w_(e,s,o,c){var f=(f=ot.current)?br(f):null;if(!f)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=nl(o.href),o=Cs(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=nl(o.href);var g=Cs(f).hoistableStyles,_=g.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,_),(g=f.querySelector(da(e)))&&!g._p&&(_.instance=g,_.state.loading=5),an.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},an.set(e,o),g||Ux(f,e,o,_.state))),s&&c===null)throw Error(l(528,""));return _}if(s&&c!==null)throw Error(l(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=il(o),o=Cs(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function nl(e){return'href="'+Ze(e)+'"'}function da(e){return'link[rel="stylesheet"]['+e+"]"}function O_(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Ux(e,s,o,c){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=e.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),pe(s,"link",o),oe(s),e.head.appendChild(s))}function il(e){return'[src="'+Ze(e)+'"]'}function ga(e){return"script[async]"+e}function R_(e,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+Ze(o.href)+'"]');if(c)return s.instance=c,oe(c),c;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),oe(c),pe(c,"style",f),Sr(c,o.precedence,e),s.instance=c;case"stylesheet":f=nl(o.href);var g=e.querySelector(da(f));if(g)return s.state.loading|=4,s.instance=g,oe(g),g;c=O_(o),(f=an.get(f))&&Gh(c,f),g=(e.ownerDocument||e).createElement("link"),oe(g);var _=g;return _._p=new Promise(function(b,E){_.onload=b,_.onerror=E}),pe(g,"link",c),s.state.loading|=4,Sr(g,o.precedence,e),s.instance=g;case"script":return g=il(o.src),(f=e.querySelector(ga(g)))?(s.instance=f,oe(f),f):(c=o,(f=an.get(g))&&(c=y({},o),Ph(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),oe(f),pe(f,"link",c),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Sr(c,o.precedence,e));return s.instance}function Sr(e,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,_=0;_<c.length;_++){var b=c[_];if(b.dataset.precedence===s)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(e,s.firstChild))}function Gh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Ph(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var xr=null;function N_(e,s,o){if(xr===null){var c=new Map,f=xr=new Map;f.set(o,c)}else f=xr,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var g=o[f];if(!(g[Ol]||g[fe]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(s)||"";_=e+_;var b=c.get(_);b?b.push(g):c.set(_,[g])}}return c}function z_(e,s,o){e=e.ownerDocument||e,e.head.insertBefore(o,s==="title"?e.querySelector("head > title"):null)}function jx(e,s,o){if(o===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vx(e,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=nl(c.href),g=s.querySelector(da(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Er.bind(e),s.then(e,e)),o.state.loading|=4,o.instance=g,oe(g);return}g=s.ownerDocument||s,c=O_(c),(f=an.get(f))&&Gh(c,f),g=g.createElement("link"),oe(g);var _=g;_._p=new Promise(function(b,E){_.onload=b,_.onerror=E}),pe(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Er.bind(e),s.addEventListener("load",o),s.addEventListener("error",o))}}var Xh=0;function Fx(e,s){return e.stylesheets&&e.count===0&&Tr(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Tr(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+s);0<e.imgBytes&&Xh===0&&(Xh=62500*xx());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tr(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Xh?50:800)+s);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Er(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cr=null;function Tr(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cr=new Map,s.forEach(Yx,e),Cr=null,Er.call(e))}function Yx(e,s){if(!(s.state.loading&4)){var o=Cr.get(e);if(o)var c=o.get(null);else{o=new Map,Cr.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}f=s.instance,_=f.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,f),o.set(_,f),this.count++,c=Er.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var ma={$$typeof:Y,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function qx(e,s,o,c,f,g,_,b,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function L_(e,s,o,c,f,g,_,b,E,O,L,B){return e=new qx(e,s,o,_,E,O,L,B,b),s=1,g===!0&&(s|=24),g=Fe(3,null,null,s),e.current=g,g.stateNode=e,s=Au(),s.refCount++,e.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Ou(g),e}function I_(e){return e?(e=ks,e):ks}function H_(e,s,o,c,f,g){f=I_(f),c.context===null?c.context=f:c.pendingContext=f,c=ri(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ci(e,c,s),o!==null&&(Re(o,e,s),Xl(o,e,s))}function B_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<s?o:s}}function Qh(e,s){B_(e,s),(e=e.alternate)&&B_(e,s)}function U_(e){if(e.tag===13||e.tag===31){var s=Yi(e,67108864);s!==null&&Re(s,e,67108864),Qh(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var s=Xe();s=Yc(s);var o=Yi(e,s);o!==null&&Re(o,e,s),Qh(e,s)}}var Ar=!0;function Gx(e,s,o,c){var f=N.T;N.T=null;var g=F.p;try{F.p=2,Wh(e,s,o,c)}finally{F.p=g,N.T=f}}function Px(e,s,o,c){var f=N.T;N.T=null;var g=F.p;try{F.p=8,Wh(e,s,o,c)}finally{F.p=g,N.T=f}}function Wh(e,s,o,c){if(Ar){var f=Kh(c);if(f===null)Lh(e,s,c,Mr,o),F_(e,c);else if(Qx(f,e,s,o,c))c.stopPropagation();else if(F_(e,c),s&4&&-1<Xx.indexOf(e)){for(;f!==null;){var g=Es(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Bi(g.pendingLanes);if(_!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var E=1<<31-je(_);b.entanglements[1]|=E,_&=~E}xn(g),(At&6)===0&&(cr=Be()+500,ca(0))}}break;case 31:case 13:b=Yi(g,2),b!==null&&Re(b,g,2),hr(),Qh(g,2)}if(g=Kh(c),g===null&&Lh(e,s,c,Mr,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else Lh(e,s,c,null,o)}}function Kh(e){return e=Jc(e),Zh(e)}var Mr=null;function Zh(e){if(Mr=null,e=xs(e),e!==null){var s=r(e);if(s===null)e=null;else{var o=s.tag;if(o===13){if(e=u(s),e!==null)return e;e=null}else if(o===31){if(e=h(s),e!==null)return e;e=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Mr=e,null}function V_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N1()){case Wd:return 2;case Kd:return 8;case po:case z1:return 32;case Zd:return 268435456;default:return 32}default:return 32}}var Jh=!1,bi=null,Si=null,xi=null,pa=new Map,_a=new Map,Ei=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,s){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":pa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(s.pointerId)}}function ya(e,s,o,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Es(s),s!==null&&U_(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function Qx(e,s,o,c,f){switch(s){case"focusin":return bi=ya(bi,e,s,o,c,f),!0;case"dragenter":return Si=ya(Si,e,s,o,c,f),!0;case"mouseover":return xi=ya(xi,e,s,o,c,f),!0;case"pointerover":var g=f.pointerId;return pa.set(g,ya(pa.get(g)||null,e,s,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,_a.set(g,ya(_a.get(g)||null,e,s,o,c,f)),!0}return!1}function Y_(e){var s=xs(e.target);if(s!==null){var o=r(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){e.blockedOn=s,ig(e.priority,function(){j_(o)});return}}else if(s===31){if(s=h(o),s!==null){e.blockedOn=s,ig(e.priority,function(){j_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dr(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var o=Kh(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);Zc=c,o.target.dispatchEvent(c),Zc=null}else return s=Es(o),s!==null&&U_(s),e.blockedOn=o,!1;s.shift()}return!0}function q_(e,s,o){Dr(e)&&o.delete(s)}function Wx(){Jh=!1,bi!==null&&Dr(bi)&&(bi=null),Si!==null&&Dr(Si)&&(Si=null),xi!==null&&Dr(xi)&&(xi=null),pa.forEach(q_),_a.forEach(q_)}function wr(e,s){e.blockedOn===s&&(e.blockedOn=null,Jh||(Jh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wx)))}var Or=null;function G_(e){Or!==e&&(Or=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Or===e&&(Or=null);for(var s=0;s<e.length;s+=3){var o=e[s],c=e[s+1],f=e[s+2];if(typeof c!="function"){if(Zh(c||o)===null)continue;break}var g=Es(o);g!==null&&(e.splice(s,3),s-=3,Ku(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function sl(e){function s(E){return wr(E,e)}bi!==null&&wr(bi,e),Si!==null&&wr(Si,e),xi!==null&&wr(xi,e),pa.forEach(s),_a.forEach(s);for(var o=0;o<Ei.length;o++){var c=Ei[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ei.length&&(o=Ei[0],o.blockedOn===null);)Y_(o),o.blockedOn===null&&Ei.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],_=f[Te]||null;if(typeof g=="function")_||G_(o);else if(_){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[Te]||null)b=_.formAction;else if(Zh(f)!==null)continue}else b=_.action;typeof b=="function"?o[c+1]=b:(o.splice(c,3),c-=3),G_(o)}}}function P_(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function $h(e){this._internalRoot=e}Rr.prototype.render=$h.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(l(409));var o=s.current,c=Xe();H_(o,c,e,s,null,null)},Rr.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;H_(e.current,2,null,e,null,null),hr(),s[Ss]=null}};function Rr(e){this._internalRoot=e}Rr.prototype.unstable_scheduleHydration=function(e){if(e){var s=ng();e={blockedOn:null,target:e,priority:s};for(var o=0;o<Ei.length&&s!==0&&s<Ei[o].priority;o++);Ei.splice(o,0,e),o===0&&Y_(e)}};var X_=t.version;if(X_!=="19.2.0")throw Error(l(527,X_,"19.2.0"));F.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(s),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Kx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nr.isDisabled&&Nr.supportsFiber)try{Ml=Nr.inject(Kx),Ue=Nr}catch{}}return ba.createRoot=function(e,s){if(!a(e))throw Error(l(299));var o=!1,c="",f=tp,g=ep,_=np;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=L_(e,1,!1,null,null,o,c,null,f,g,_,P_),e[Ss]=s.current,kh(e),new $h(s)},ba.hydrateRoot=function(e,s,o){if(!a(e))throw Error(l(299));var c=!1,f="",g=tp,_=ep,b=np,E=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(E=o.formState)),s=L_(e,1,!0,s,o??null,c,f,E,g,_,b,P_),s.context=I_(null),o=s.current,c=Xe(),c=Yc(c),f=ri(c),f.callback=null,ci(o,f,c),o=c,s.current.lanes=o,wl(s,o),xn(s),e[Ss]=s.current,kh(e),new Rr(s)},ba.version="19.2.0",ba}var iy;function rE(){if(iy)return nf.exports;iy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),nf.exports=oE(),nf.exports}var cE=rE();const uE=()=>{};var sy={};const fb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const q=function(i,t){if(!i)throw Sl(t)},Sl=function(i){return new Error("Firebase Database ("+fb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};const db=function(i){const t=[];let n=0;for(let l=0;l<i.length;l++){let a=i.charCodeAt(l);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&l+1<i.length&&(i.charCodeAt(l+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++l)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},hE=function(i){const t=[];let n=0,l=0;for(;n<i.length;){const a=i[n++];if(a<128)t[l++]=String.fromCharCode(a);else if(a>191&&a<224){const r=i[n++];t[l++]=String.fromCharCode((a&31)<<6|r&63)}else if(a>239&&a<365){const r=i[n++],u=i[n++],h=i[n++],d=((a&7)<<18|(r&63)<<12|(u&63)<<6|h&63)-65536;t[l++]=String.fromCharCode(55296+(d>>10)),t[l++]=String.fromCharCode(56320+(d&1023))}else{const r=i[n++],u=i[n++];t[l++]=String.fromCharCode((a&15)<<12|(r&63)<<6|u&63)}}return t.join("")},ed={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let a=0;a<i.length;a+=3){const r=i[a],u=a+1<i.length,h=u?i[a+1]:0,d=a+2<i.length,m=d?i[a+2]:0,p=r>>2,y=(r&3)<<4|h>>4;let v=(h&15)<<2|m>>6,S=m&63;d||(S=64,u||(v=64)),l.push(n[p],n[y],n[v],n[S])}return l.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(db(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):hE(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let a=0;a<i.length;){const r=n[i.charAt(a++)],h=a<i.length?n[i.charAt(a)]:0;++a;const m=a<i.length?n[i.charAt(a)]:64;++a;const y=a<i.length?n[i.charAt(a)]:64;if(++a,r==null||h==null||m==null||y==null)throw new fE;const v=r<<2|h>>4;if(l.push(v),m!==64){const S=h<<4&240|m>>2;if(l.push(S),y!==64){const x=m<<6&192|y;l.push(x)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class fE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gb=function(i){const t=db(i);return ed.encodeByteArray(t,!0)},Zr=function(i){return gb(i).replace(/\./g,"")},Mf=function(i){try{return ed.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dE(i){return mb(void 0,i)}function mb(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!gE(n)||(i[n]=mb(i[n],t[n]));return i}function gE(i){return i!=="__proto__"}function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pE=()=>mE().__FIREBASE_DEFAULTS__,_E=()=>{if(typeof process>"u"||typeof sy>"u")return;const i=sy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Mf(i[1]);return t&&JSON.parse(t)},pb=()=>{try{return uE()||pE()||_E()||yE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},vE=i=>pb()?.emulatorHosts?.[i],bE=i=>{const t=vE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),l]:[t.substring(0,n),l]},_b=()=>pb()?.config;class nd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,l)=>{n?this.reject(n):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,l))}}}function id(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SE(i){return(await fetch(i,{credentials:"include"})).ok}function xE(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},l=t||"demo-project",a=i.iat||0,r=i.sub||i.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${l}`,aud:l,iat:a,exp:a+3600,auth_time:a,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Zr(JSON.stringify(n)),Zr(JSON.stringify(u)),""].join(".")}const ka={};function EE(){const i={prod:[],emulator:[]};for(const t of Object.keys(ka))ka[t]?i.emulator.push(t):i.prod.push(t);return i}function CE(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let ly=!1;function TE(i,t){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||ka[i]===t||ka[i]||ly)return;ka[i]=t;function n(v){return`__firebase__banner__${v}`}const l="__firebase__banner",r=EE().prod.length>0;function u(){const v=document.getElementById(l);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ly=!0,u()},v}function p(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=CE(l),S=n("text"),x=document.getElementById(S)||document.createElement("span"),C=n("learnmore"),M=document.getElementById(C)||document.createElement("a"),k=n("preprendIcon"),V=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const Y=v.element;h(Y),p(M,C);const P=m();d(V,k),Y.append(V,x,M,P),document.body.appendChild(Y)}r?(x.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function AE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(AE())}function ME(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DE(){return fb.NODE_ADMIN===!0}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function OE(){return new Promise((i,t)=>{try{let n=!0;const l="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(l);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(l),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const RE="FirebaseError";class lo extends Error{constructor(t,n,l){super(n),this.code=t,this.customData=l,this.name=RE,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vb.prototype.create)}}class vb{constructor(t,n,l){this.service=t,this.serviceName=n,this.errors=l}create(t,...n){const l=n[0]||{},a=`${this.service}/${t}`,r=this.errors[t],u=r?NE(r,l):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new lo(a,h,l)}}function NE(i,t){return i.replace(zE,(n,l)=>{const a=t[l];return a!=null?String(a):`<${l}?>`})}const zE=/\{\$([^}]+)}/g;function Ga(i){return JSON.parse(i)}function he(i){return JSON.stringify(i)}const bb=function(i){let t={},n={},l={},a="";try{const r=i.split(".");t=Ga(Mf(r[0])||""),n=Ga(Mf(r[1])||""),a=r[2],l=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:l,signature:a}},kE=function(i){const t=bb(i),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LE=function(i){const t=bb(i).claims;return typeof t=="object"&&t.admin===!0};function $n(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function gl(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function ay(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Jr(i,t,n){const l={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(l[a]=t.call(n,i[a],a,i));return l}function $r(i,t){if(i===t)return!0;const n=Object.keys(i),l=Object.keys(t);for(const a of n){if(!l.includes(a))return!1;const r=i[a],u=t[a];if(oy(r)&&oy(u)){if(!$r(r,u))return!1}else if(r!==u)return!1}for(const a of l)if(!n.includes(a))return!1;return!0}function oy(i){return i!==null&&typeof i=="object"}function IE(i){const t=[];for(const[n,l]of Object.entries(i))Array.isArray(l)?l.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class HE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)l[y]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let y=16;y<80;y++){const v=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],r=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,p;for(let y=0;y<80;y++){y<40?y<20?(m=h^r&(u^h),p=1518500249):(m=r^u^h,p=1859775393):y<60?(m=r&u|h&(r|u),p=2400959708):(m=r^u^h,p=3395469782);const v=(a<<5|a>>>27)+m+d+p+l[y]&4294967295;d=h,h=u,u=(r<<30|r>>>2)&4294967295,r=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const l=n-this.blockSize;let a=0;const r=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=l;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<n;)if(r[u]=t.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(r),u=0;break}}else for(;a<n;)if(r[u]=t[a],++u,++a,u===this.blockSize){this.compress_(r),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let l=0;for(let a=0;a<5;a++)for(let r=24;r>=0;r-=8)t[l]=this.chain_[a]>>r&255,++l;return t}}function Sb(i,t){return`${i} failed: ${t} argument `}const BE=function(i){const t=[];let n=0;for(let l=0;l<i.length;l++){let a=i.charCodeAt(l);if(a>=55296&&a<=56319){const r=a-55296;l++,q(l<i.length,"Surrogate pair missing trail surrogate.");const u=i.charCodeAt(l)-56320;a=65536+(r<<10)+u}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Ec=function(i){let t=0;for(let n=0;n<i.length;n++){const l=i.charCodeAt(n);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,n++):t+=3}return t};function ao(i){return i&&i._delegate?i._delegate:i}class Pa{constructor(t,n,l){this.name=t,this.instanceFactory=n,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ls="[DEFAULT]";class UE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const l=new nd;if(this.instancesDeferred.set(n,l),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&l.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(l)return null;throw a}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VE(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:a});l.resolve(r)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:l,options:n});for(const[r,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);l===h&&u.resolve(a)}return a}onInit(t,n){const l=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(l)??new Set;a.add(t),this.onInitCallbacks.set(l,a);const r=this.instances.get(l);return r&&t(r,l),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const l=this.onInitCallbacks.get(n);if(l)for(const a of l)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:jE(t),options:n}),this.instances.set(t,l),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jE(i){return i===ls?void 0:i}function VE(i){return i.instantiationMode==="EAGER"}class FE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const YE={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},qE=Bt.INFO,GE={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},PE=(i,t,...n)=>{if(t<i.logLevel)return;const l=new Date().toISOString(),a=GE[t];if(a)console[a](`[${l}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xb{constructor(t){this.name=t,this._logLevel=qE,this._logHandler=PE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const XE=(i,t)=>t.some(n=>i instanceof n);let ry,cy;function QE(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eb=new WeakMap,Df=new WeakMap,Cb=new WeakMap,of=new WeakMap,sd=new WeakMap;function KE(i){const t=new Promise((n,l)=>{const a=()=>{i.removeEventListener("success",r),i.removeEventListener("error",u)},r=()=>{n(wi(i.result)),a()},u=()=>{l(i.error),a()};i.addEventListener("success",r),i.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&Eb.set(n,i)}).catch(()=>{}),sd.set(t,i),t}function ZE(i){if(Df.has(i))return;const t=new Promise((n,l)=>{const a=()=>{i.removeEventListener("complete",r),i.removeEventListener("error",u),i.removeEventListener("abort",u)},r=()=>{n(),a()},u=()=>{l(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",r),i.addEventListener("error",u),i.addEventListener("abort",u)});Df.set(i,t)}let wf={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Df.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Cb.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function JE(i){wf=i(wf)}function $E(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const l=i.call(rf(this),t,...n);return Cb.set(l,t.sort?t.sort():[t]),wi(l)}:WE().includes(i)?function(...t){return i.apply(rf(this),t),wi(Eb.get(this))}:function(...t){return wi(i.apply(rf(this),t))}}function tC(i){return typeof i=="function"?$E(i):(i instanceof IDBTransaction&&ZE(i),XE(i,QE())?new Proxy(i,wf):i)}function wi(i){if(i instanceof IDBRequest)return KE(i);if(of.has(i))return of.get(i);const t=tC(i);return t!==i&&(of.set(i,t),sd.set(t,i)),t}const rf=i=>sd.get(i);function eC(i,t,{blocked:n,upgrade:l,blocking:a,terminated:r}={}){const u=indexedDB.open(i,t),h=wi(u);return l&&u.addEventListener("upgradeneeded",d=>{l(wi(u.result),d.oldVersion,d.newVersion,wi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{r&&d.addEventListener("close",()=>r()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const nC=["get","getKey","getAll","getAllKeys","count"],iC=["put","add","delete","clear"],cf=new Map;function uy(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(cf.get(t))return cf.get(t);const n=t.replace(/FromIndex$/,""),l=t!==n,a=iC.includes(n);if(!(n in(l?IDBIndex:IDBObjectStore).prototype)||!(a||nC.includes(n)))return;const r=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return l&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return cf.set(t,r),r}JE(i=>({...i,get:(t,n,l)=>uy(t,n)||i.get(t,n,l),has:(t,n)=>!!uy(t,n)||i.has(t,n)}));class sC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lC(n)){const l=n.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(n=>n).join(" ")}}function lC(i){return i.getComponent()?.type==="VERSION"}const Of="@firebase/app",hy="0.14.5";const Zn=new xb("@firebase/app"),aC="@firebase/app-compat",oC="@firebase/analytics-compat",rC="@firebase/analytics",cC="@firebase/app-check-compat",uC="@firebase/app-check",hC="@firebase/auth",fC="@firebase/auth-compat",dC="@firebase/database",gC="@firebase/data-connect",mC="@firebase/database-compat",pC="@firebase/functions",_C="@firebase/functions-compat",yC="@firebase/installations",vC="@firebase/installations-compat",bC="@firebase/messaging",SC="@firebase/messaging-compat",xC="@firebase/performance",EC="@firebase/performance-compat",CC="@firebase/remote-config",TC="@firebase/remote-config-compat",AC="@firebase/storage",MC="@firebase/storage-compat",DC="@firebase/firestore",wC="@firebase/ai",OC="@firebase/firestore-compat",RC="firebase",NC="12.5.0";const Rf="[DEFAULT]",zC={[Of]:"fire-core",[aC]:"fire-core-compat",[rC]:"fire-analytics",[oC]:"fire-analytics-compat",[uC]:"fire-app-check",[cC]:"fire-app-check-compat",[hC]:"fire-auth",[fC]:"fire-auth-compat",[dC]:"fire-rtdb",[gC]:"fire-data-connect",[mC]:"fire-rtdb-compat",[pC]:"fire-fn",[_C]:"fire-fn-compat",[yC]:"fire-iid",[vC]:"fire-iid-compat",[bC]:"fire-fcm",[SC]:"fire-fcm-compat",[xC]:"fire-perf",[EC]:"fire-perf-compat",[CC]:"fire-rc",[TC]:"fire-rc-compat",[AC]:"fire-gcs",[MC]:"fire-gcs-compat",[DC]:"fire-fst",[OC]:"fire-fst-compat",[wC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};const tc=new Map,kC=new Map,Nf=new Map;function fy(i,t){try{i.container.addComponent(t)}catch(n){Zn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function ec(i){const t=i.name;if(Nf.has(t))return Zn.debug(`There were multiple attempts to register component ${t}.`),!1;Nf.set(t,i);for(const n of tc.values())fy(n,i);for(const n of kC.values())fy(n,i);return!0}function LC(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function IC(i){return i==null?!1:i.settings!==void 0}const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new vb("app","Firebase",HC);class BC{constructor(t,n,l){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const UC=NC;function Tb(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const l={name:Rf,automaticDataCollectionEnabled:!0,...t},a=l.name;if(typeof a!="string"||!a)throw Oi.create("bad-app-name",{appName:String(a)});if(n||(n=_b()),!n)throw Oi.create("no-options");const r=tc.get(a);if(r){if($r(n,r.options)&&$r(l,r.config))return r;throw Oi.create("duplicate-app",{appName:a})}const u=new FE(a);for(const d of Nf.values())u.addComponent(d);const h=new BC(n,l,u);return tc.set(a,h),h}function jC(i=Rf){const t=tc.get(i);if(!t&&i===Rf&&_b())return Tb();if(!t)throw Oi.create("no-app",{appName:i});return t}function cl(i,t,n){let l=zC[i]??i;n&&(l+=`-${n}`);const a=l.match(/\s|\//),r=t.match(/\s|\//);if(a||r){const u=[`Unable to register library "${l}" with version "${t}":`];a&&u.push(`library name "${l}" contains illegal characters (whitespace or "/")`),a&&r&&u.push("and"),r&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zn.warn(u.join(" "));return}ec(new Pa(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const VC="firebase-heartbeat-database",FC=1,Xa="firebase-heartbeat-store";let uf=null;function Ab(){return uf||(uf=eC(VC,FC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Oi.create("idb-open",{originalErrorMessage:i.message})})),uf}async function YC(i){try{const n=(await Ab()).transaction(Xa),l=await n.objectStore(Xa).get(Mb(i));return await n.done,l}catch(t){if(t instanceof lo)Zn.warn(t.message);else{const n=Oi.create("idb-get",{originalErrorMessage:t?.message});Zn.warn(n.message)}}}async function dy(i,t){try{const l=(await Ab()).transaction(Xa,"readwrite");await l.objectStore(Xa).put(t,Mb(i)),await l.done}catch(n){if(n instanceof lo)Zn.warn(n.message);else{const l=Oi.create("idb-set",{originalErrorMessage:n?.message});Zn.warn(l.message)}}}function Mb(i){return`${i.name}!${i.options.appId}`}const qC=1024,GC=30;class PC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QC(n),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=gy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(a=>a.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:n}),this._heartbeatsCache.heartbeats.length>GC){const a=WC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gy(),{heartbeatsToSend:n,unsentEntries:l}=XC(this._heartbeatsCache.heartbeats),a=Zr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zn.warn(t),""}}}function gy(){return new Date().toISOString().substring(0,10)}function XC(i,t=qC){const n=[];let l=i.slice();for(const a of i){const r=n.find(u=>u.agent===a.agent);if(r){if(r.dates.push(a.date),my(n)>t){r.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),my(n)>t){n.pop();break}l=l.slice(1)}return{heartbeatsToSend:n,unsentEntries:l}}class QC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?OE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return dy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return dy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function my(i){return Zr(JSON.stringify({version:2,heartbeats:i})).length}function WC(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let l=1;l<i.length;l++)i[l].date<n&&(n=i[l].date,t=l);return t}function KC(i){ec(new Pa("platform-logger",t=>new sC(t),"PRIVATE")),ec(new Pa("heartbeat",t=>new PC(t),"PRIVATE")),cl(Of,hy,i),cl(Of,hy,"esm2020"),cl("fire-js","")}KC("");var py={};const _y="@firebase/database",yy="1.1.0";let Db="";function ZC(i){Db=i}class JC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),he(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ga(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class $C{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return $n(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const wb=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new JC(t)}}catch{}return new $C},cs=wb("localStorage"),tT=wb("sessionStorage");const ul=new xb("@firebase/database"),eT=(function(){let i=1;return function(){return i++}})(),Ob=function(i){const t=BE(i),n=new HE;n.update(t);const l=n.digest();return ed.encodeByteArray(l)},oo=function(...i){let t="";for(let n=0;n<i.length;n++){const l=i[n];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=oo.apply(null,l):typeof l=="object"?t+=he(l):t+=l,t+=" "}return t};let La=null,vy=!0;const nT=function(i,t){q(!0,"Can't turn on custom loggers persistently."),ul.logLevel=Bt.VERBOSE,La=ul.log.bind(ul)},ve=function(...i){if(vy===!0&&(vy=!1,La===null&&tT.get("logging_enabled")===!0&&nT()),La){const t=oo.apply(null,i);La(t)}},ro=function(i){return function(...t){ve(i,...t)}},zf=function(...i){const t="FIREBASE INTERNAL ERROR: "+oo(...i);ul.error(t)},Jn=function(...i){const t=`FIREBASE FATAL ERROR: ${oo(...i)}`;throw ul.error(t),new Error(t)},We=function(...i){const t="FIREBASE WARNING: "+oo(...i);ul.warn(t)},iT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&We("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rb=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},sT=function(i){if(document.readyState==="complete")i();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ml="[MIN_NAME]",ds="[MAX_NAME]",xl=function(i,t){if(i===t)return 0;if(i===ml||t===ds)return-1;if(t===ml||i===ds)return 1;{const n=by(i),l=by(t);return n!==null?l!==null?n-l===0?i.length-t.length:n-l:-1:l!==null?1:i<t?-1:1}},lT=function(i,t){return i===t?0:i<t?-1:1},Sa=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+he(t))},ld=function(i){if(typeof i!="object"||i===null)return he(i);const t=[];for(const l in i)t.push(l);t.sort();let n="{";for(let l=0;l<t.length;l++)l!==0&&(n+=","),n+=he(t[l]),n+=":",n+=ld(i[t[l]]);return n+="}",n},Nb=function(i,t){const n=i.length;if(n<=t)return[i];const l=[];for(let a=0;a<n;a+=t)a+t>n?l.push(i.substring(a,n)):l.push(i.substring(a,a+t));return l};function He(i,t){for(const n in i)i.hasOwnProperty(n)&&t(n,i[n])}const zb=function(i){q(!Rb(i),"Invalid JSON number");const t=11,n=52,l=(1<<t-1)-1;let a,r,u,h,d;i===0?(r=0,u=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-l)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),l),r=h+l,u=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(r=0,u=Math.round(i/Math.pow(2,1-l-n))));const m=[];for(d=n;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(d=t;d;d-=1)m.push(r%2?1:0),r=Math.floor(r/2);m.push(a?1:0),m.reverse();const p=m.join("");let y="";for(d=0;d<64;d+=8){let v=parseInt(p.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},aT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function rT(i,t){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const l=new Error(i+" at "+t._path.toString()+": "+n);return l.code=i.toUpperCase(),l}const cT=new RegExp("^-?(0*)\\d{1,10}$"),uT=-2147483648,hT=2147483647,by=function(i){if(cT.test(i)){const t=Number(i);if(t>=uT&&t<=hT)return t}return null},co=function(i){try{i()}catch(t){setTimeout(()=>{const n=t.stack||"";throw We("Exception was thrown by user callback.",n),t},Math.floor(0))}},fT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(i,t){const n=setTimeout(i,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class dT{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,IC(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,l):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){We(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gT{constructor(t,n,l){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,l):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',We(t)}}class Qr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Qr.OWNER="owner";const ad="5",kb="v",Lb="s",Ib="r",Hb="f",Bb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ub="ls",jb="p",kf="ac",Vb="websocket",Fb="long_polling";class Yb{constructor(t,n,l,a,r=!1,u="",h=!1,d=!1,m=null){this.secure=n,this.namespace=l,this.webSocketOnly=a,this.nodeAdmin=r,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&cs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function mT(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function qb(i,t,n){q(typeof t=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");let l;if(t===Vb)l=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Fb)l=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);mT(i)&&(n.ns=i.namespace);const a=[];return He(n,(r,u)=>{a.push(r+"="+u)}),l+a.join("&")}class pT{constructor(){this.counters_={}}incrementCounter(t,n=1){$n(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return dE(this.counters_)}}const hf={},ff={};function od(i){const t=i.toString();return hf[t]||(hf[t]=new pT),hf[t]}function _T(i,t){const n=i.toString();return ff[n]||(ff[n]=t()),ff[n]}class yT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<l.length;++a)l[a]&&co(()=>{this.onMessage_(l[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Sy="start",vT="close",bT="pLPCommand",ST="pRTLPCB",Gb="id",Pb="pw",Xb="ser",xT="cb",ET="seg",CT="ts",TT="d",AT="dframe",Qb=1870,Wb=30,MT=Qb-Wb,DT=25e3,wT=3e4;class ol{constructor(t,n,l,a,r,u,h){this.connId=t,this.repoInfo=n,this.applicationId=l,this.appCheckToken=a,this.authToken=r,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ro(t),this.stats_=od(n),this.urlFn=d=>(this.appCheckToken&&(d[kf]=this.appCheckToken),qb(n,Fb,d))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wT)),sT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rd((...r)=>{const[u,h,d,m,p]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Sy)this.id=h,this.password=d;else if(u===vT)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...r)=>{const[u,h]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const l={};l[Sy]="t",l[Xb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[xT]=this.scriptTagHolder.uniqueCallbackIdentifier),l[kb]=ad,this.transportSessionId&&(l[Lb]=this.transportSessionId),this.lastSessionId&&(l[Ub]=this.lastSessionId),this.applicationId&&(l[jb]=this.applicationId),this.appCheckToken&&(l[kf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bb.test(location.hostname)&&(l[Ib]=Hb);const a=this.urlFn(l);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ol.forceAllow_=!0}static forceDisallow(){ol.forceDisallow_=!0}static isAvailable(){return ol.forceAllow_?!0:!ol.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aT()&&!oT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=he(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const l=gb(n),a=Nb(l,MT);for(let r=0;r<a.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[r]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const l={};l[AT]="t",l[Gb]=t,l[Pb]=n,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=he(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class rd{constructor(t,n,l,a){this.onDisconnect=l,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eT(),window[bT+this.uniqueCallbackIdentifier]=t,window[ST+this.uniqueCallbackIdentifier]=n,this.myIFrame=rd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){ve("frame writing exception"),h.stack&&ve(h.stack),ve(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ve("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Gb]=this.myID,t[Pb]=this.myPW,t[Xb]=this.currentSerial;let n=this.urlFn(t),l="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wb+l.length<=Qb;){const u=this.pendingSegs.shift();l=l+"&"+ET+a+"="+u.seg+"&"+CT+a+"="+u.ts+"&"+TT+a+"="+u.d,a++}return n=n+l,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,l){this.pendingSegs.push({seg:t,ts:n,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const l=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(l,Math.floor(DT)),r=()=>{clearTimeout(a),l()};this.addTag(t,r)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const a=l.readyState;(!a||a==="loaded"||a==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),n())},l.onerror=()=>{ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const OT=16384,RT=45e3;let nc=null;typeof MozWebSocket<"u"?nc=MozWebSocket:typeof WebSocket<"u"&&(nc=WebSocket);class dn{constructor(t,n,l,a,r,u,h){this.connId=t,this.applicationId=l,this.appCheckToken=a,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ro(this.connId),this.stats_=od(n),this.connURL=dn.connectionURL_(n,u,h,a,l),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,l,a,r){const u={};return u[kb]=ad,typeof location<"u"&&location.hostname&&Bb.test(location.hostname)&&(u[Ib]=Hb),n&&(u[Lb]=n),l&&(u[Ub]=l),a&&(u[kf]=a),r&&(u[jb]=r),qb(t,Vb,u)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cs.set("previous_websocket_failure",!0);try{let l;DE(),this.mySock=new nc(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const a=l.message||l.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const a=l.message||l.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(n);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&nc!==null&&!dn.forceDisallow_}static previouslyFailed(){return cs.isInMemoryStorage||cs.get("previous_websocket_failure")===!0}markConnectionHealthy(){cs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const l=Ga(n);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const l=this.extractFrameCount_(n);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const n=he(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const l=Nb(n,OT);l.length>1&&this.sendString_(String(l.length));for(let a=0;a<l.length;a++)this.sendString_(l[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(RT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;class Qa{static get ALL_TRANSPORTS(){return[ol,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=dn&&dn.isAvailable();let l=n&&!dn.previouslyFailed();if(t.webSocketOnly&&(n||We("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[dn];else{const a=this.transports_=[];for(const r of Qa.ALL_TRANSPORTS)r&&r.isAvailable()&&a.push(r);Qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qa.globalTransportInitialized_=!1;const NT=6e4,zT=5e3,kT=10*1024,LT=100*1024,df="t",xy="d",IT="s",Ey="r",HT="e",Cy="o",Ty="a",Ay="n",My="p",BT="h";class UT{constructor(t,n,l,a,r,u,h,d,m,p){this.id=t,this.repoInfo_=n,this.applicationId_=l,this.appCheckToken_=a,this.authToken_=r,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ro("c:"+this.id+":"),this.transportManager_=new Qa(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,l)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(df in t){const n=t[df];n===Ty?this.upgradeIfSecondaryHealthy_():n===Ey?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Cy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Sa("t",t),l=Sa("d",t);if(n==="c")this.onSecondaryControl_(l);else if(n==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:My,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ty,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Sa("t",t),l=Sa("d",t);n==="c"?this.onControl_(l):n==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Sa(df,t);if(xy in t){const l=t[xy];if(n===BT){const a={...l};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===Ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IT?this.onConnectionShutdown_(l):n===Ey?this.onReset_(l):n===HT?zf("Server Error: "+l):n===Cy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zf("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,l=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ad!==l&&We("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,l),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:My,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Kb{put(t,n,l,a){}merge(t,n,l,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,l){}onDisconnectMerge(t,n,l){}onDisconnectCancel(t,n){}reportStats(t){}}class Zb{constructor(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let a=0;a<l.length;a++)l[a].callback.apply(l[a].context,n)}}on(t,n,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:l});const a=this.getInitialEvent(t);a&&n.apply(l,a)}off(t,n,l){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let r=0;r<a.length;r++)if(a[r].callback===n&&(!l||l===a[r].context)){a.splice(r,1);return}}validateEventType_(t){q(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class ic extends Zb{static getInstance(){return new ic}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Dy=32,wy=768;class Ht{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let l=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[l]=this.pieces_[a],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Mt(){return new Ht("")}function mt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function zi(i){return i.pieces_.length-i.pieceNum_}function Ut(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Ht(i.pieces_,t)}function Jb(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function jT(i){let t="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[n])));return t||"/"}function $b(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function t0(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)t.push(i.pieces_[n]);return new Ht(t,0)}function ae(i,t){const n=[];for(let l=i.pieceNum_;l<i.pieces_.length;l++)n.push(i.pieces_[l]);if(t instanceof Ht)for(let l=t.pieceNum_;l<t.pieces_.length;l++)n.push(t.pieces_[l]);else{const l=t.split("/");for(let a=0;a<l.length;a++)l[a].length>0&&n.push(l[a])}return new Ht(n,0)}function pt(i){return i.pieceNum_>=i.pieces_.length}function ke(i,t){const n=mt(i),l=mt(t);if(n===null)return t;if(n===l)return ke(Ut(i),Ut(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function cd(i,t){if(zi(i)!==zi(t))return!1;for(let n=i.pieceNum_,l=t.pieceNum_;n<=i.pieces_.length;n++,l++)if(i.pieces_[n]!==t.pieces_[l])return!1;return!0}function gn(i,t){let n=i.pieceNum_,l=t.pieceNum_;if(zi(i)>zi(t))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==t.pieces_[l])return!1;++n,++l}return!0}class VT{constructor(t,n){this.errorPrefix_=n,this.parts_=$b(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Ec(this.parts_[l]);e0(this)}}function FT(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Ec(t),e0(i)}function YT(i){const t=i.parts_.pop();i.byteLength_-=Ec(t),i.parts_.length>0&&(i.byteLength_-=1)}function e0(i){if(i.byteLength_>wy)throw new Error(i.errorPrefix_+"has a key path longer than "+wy+" bytes ("+i.byteLength_+").");if(i.parts_.length>Dy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dy+") or object contains a cycle "+as(i))}function as(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}class ud extends Zb{static getInstance(){return new ud}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return q(t==="visible","Unknown event type: "+t),[this.visible_]}}const xa=1e3,qT=300*1e3,Oy=30*1e3,GT=1.3,PT=3e4,XT="server_kill",Ry=3;class Kn extends Kb{constructor(t,n,l,a,r,u,h,d){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=l,this.onConnectStatus_=a,this.onServerInfoUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Kn.nextPersistentConnectionId_++,this.log_=ro("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=qT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ud.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&ic.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,l){const a=++this.requestNumber_,r={r:a,a:t,b:n};this.log_(he(r)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),l&&(this.requestCBHash_[a]=l)}get(t){this.initConnection_();const n=new nd,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(t,n,l,a){this.initConnection_();const r=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+r),this.listens.has(u)||this.listens.set(u,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(u).has(r),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:n,query:t,tag:l};this.listens.get(u).set(r,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(l)})}sendListen_(t){const n=t.query,l=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+l+" for "+a);const r={p:l},u="q";t.tag&&(r.q=n._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(u,r,h=>{const d=h.d,m=h.s;Kn.warnOnListenWarnings_(d,n),(this.listens.get(l)&&this.listens.get(l).get(a))===t&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(l,a),t.onComplete&&t.onComplete(m,d))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&$n(t,"w")){const l=gl(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();We(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||LE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Oy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=kE(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(n,l,a=>{const r=a.s,u=a.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,l=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,l)})}unlisten(t,n){const l=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+a),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,a)&&this.connected_&&this.sendUnlisten_(l,a,t._queryObject,n)}sendUnlisten_(t,n,l,a){this.log_("Unlisten on "+t+" for "+n);const r={p:t},u="n";a&&(r.q=l,r.t=a),this.sendRequest(u,r)}onDisconnectPut(t,n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:l})}onDisconnectMerge(t,n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:l})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,l,a){const r={p:n,d:l};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(t,n,l,a){this.putInternal("p",t,n,l,a)}merge(t,n,l,a){this.putInternal("m",t,n,l,a)}putInternal(t,n,l,a,r){this.initConnection_();const u={p:n,d:l};r!==void 0&&(u.h=r),this.outstandingPuts_.push({action:t,request:u,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,l,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(r.s,r.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,l=>{if(l.s!=="ok"){const r=l.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+he(t));const n=t.r,l=this.requestCBHash_[n];l&&(delete this.requestCBHash_[n],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):zf("Unrecognized action received from server: "+he(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PT&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Kn.nextConnectionId_++,r=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,l())},m=function(y){q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:m};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);u?ve("getToken() completed but was canceled"):(ve("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new UT(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,l,S=>{We(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(XT)},r))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&We(y),d())}}}interrupt(t){ve("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ve("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ay(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let l;n?l=n.map(r=>ld(r)).join("$"):l="default";const a=this.removeListen_(t,l);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,n){const l=new Ht(t).toString();let a;if(this.listens.has(l)){const r=this.listens.get(l);a=r.get(n),r.delete(n),r.size===0&&this.listens.delete(l)}else a=void 0;return a}onAuthRevoked_(t,n){ve("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ry&&(this.reconnectDelay_=Oy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ve("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ry&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Db.replace(/\./g,"-")]=1,yb()?t["framework.cordova"]=1:ME()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ic.getInstance().currentlyOnline();return ay(this.interruptReasons_)&&t}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;class ht{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ht(t,n)}}class Cc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const l=new ht(ml,t),a=new ht(ml,n);return this.compare(l,a)!==0}minPost(){return ht.MIN}}let zr;class n0 extends Cc{static get __EMPTY_NODE(){return zr}static set __EMPTY_NODE(t){zr=t}compare(t,n){return xl(t.name,n.name)}isDefinedOn(t){throw Sl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ht.MIN}maxPost(){return new ht(ds,zr)}makePost(t,n){return q(typeof t=="string","KeyIndex indexValue must always be a string."),new ht(t,zr)}toString(){return".key"}}const hl=new n0;class kr{constructor(t,n,l,a,r=null){this.isReverse_=a,this.resultGenerator_=r,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=n?l(t.key,n):1,a&&(u*=-1),u<0)this.isReverse_?t=t.left:t=t.right;else if(u===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ue{constructor(t,n,l,a,r){this.key=t,this.value=n,this.color=l??ue.RED,this.left=a??Le.EMPTY_NODE,this.right=r??Le.EMPTY_NODE}copy(t,n,l,a,r){return new ue(t??this.key,n??this.value,l??this.color,a??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,l){let a=this;const r=l(t,a.key);return r<0?a=a.copy(null,null,null,a.left.insert(t,n,l),null):r===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,n,l)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Le.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let l,a;if(l=this,n(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),n(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY_NODE;a=l.right.min_(),l=l.copy(a.key,a.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ue.RED=!0;ue.BLACK=!1;class QT{copy(t,n,l,a,r){return this}insert(t,n,l){return new ue(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Le{constructor(t,n=Le.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Le(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ue.BLACK,null,null))}remove(t){return new Le(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ue.BLACK,null,null))}get(t){let n,l=this.root_;for(;!l.isEmpty();){if(n=this.comparator_(t,l.key),n===0)return l.value;n<0?l=l.left:n>0&&(l=l.right)}return null}getPredecessorKey(t){let n,l=this.root_,a=null;for(;!l.isEmpty();)if(n=this.comparator_(t,l.key),n===0){if(l.left.isEmpty())return a?a.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else n<0?l=l.left:n>0&&(a=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new kr(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new kr(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new kr(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new kr(this.root_,null,this.comparator_,!0,t)}}Le.EMPTY_NODE=new QT;function WT(i,t){return xl(i.name,t.name)}function hd(i,t){return xl(i,t)}let Lf;function KT(i){Lf=i}const i0=function(i){return typeof i=="number"?"number:"+zb(i):"string:"+i},s0=function(i){if(i.isLeafNode()){const t=i.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&$n(t,".sv"),"Priority must be a string or number.")}else q(i===Lf||i.isEmpty(),"priority of unexpected type.");q(i===Lf||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ny;class ce{static set __childrenNodeConstructor(t){Ny=t}static get __childrenNodeConstructor(){return Ny}constructor(t,n=ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ce(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ce.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pt(t)?this:mt(t)===".priority"?this.priorityNode_:ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const l=mt(t);return l===null?n:n.isEmpty()&&l!==".priority"?this:(q(l!==".priority"||zi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+i0(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=zb(this.value_):t+=this.value_,this.lazyHash_=Ob(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ce.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ce.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,l=typeof this.value_,a=ce.VALUE_TYPE_ORDER.indexOf(n),r=ce.VALUE_TYPE_ORDER.indexOf(l);return q(a>=0,"Unknown leaf type: "+n),q(r>=0,"Unknown leaf type: "+l),a===r?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];let l0,a0;function ZT(i){l0=i}function JT(i){a0=i}class $T extends Cc{compare(t,n){const l=t.node.getPriority(),a=n.node.getPriority(),r=l.compareTo(a);return r===0?xl(t.name,n.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ht.MIN}maxPost(){return new ht(ds,new ce("[PRIORITY-POST]",a0))}makePost(t,n){const l=l0(t);return new ht(n,new ce("[PRIORITY-POST]",l))}toString(){return".priority"}}const Wt=new $T;const t2=Math.log(2);class e2{constructor(t){const n=r=>parseInt(Math.log(r)/t2,10),l=r=>parseInt(Array(r+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const a=l(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const sc=function(i,t,n,l){i.sort(t);const a=function(d,m){const p=m-d;let y,v;if(p===0)return null;if(p===1)return y=i[d],v=n?n(y):y,new ue(v,y.node,ue.BLACK,null,null);{const S=parseInt(p/2,10)+d,x=a(d,S),C=a(S+1,m);return y=i[S],v=n?n(y):y,new ue(v,y.node,ue.BLACK,x,C)}},r=function(d){let m=null,p=null,y=i.length;const v=function(x,C){const M=y-x,k=y;y-=x;const V=a(M+1,k),Y=i[M],P=n?n(Y):Y;S(new ue(P,Y.node,C,null,V))},S=function(x){m?(m.left=x,m=x):(p=x,m=x)};for(let x=0;x<d.count;++x){const C=d.nextBitIsOne(),M=Math.pow(2,d.count-(x+1));C?v(M,ue.BLACK):(v(M,ue.BLACK),v(M,ue.RED))}return p},u=new e2(i.length),h=r(u);return new Le(l||t,h)};let gf;const ll={};class Wn{static get Default(){return q(ll&&Wt,"ChildrenNode.ts has not been loaded"),gf=gf||new Wn({".priority":ll},{".priority":Wt}),gf}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=gl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Le?n:null}hasIndex(t){return $n(this.indexSet_,t.toString())}addIndex(t,n){q(t!==hl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let a=!1;const r=n.getIterator(ht.Wrap);let u=r.getNext();for(;u;)a=a||t.isDefinedOn(u.node),l.push(u),u=r.getNext();let h;a?h=sc(l,t.getCompare()):h=ll;const d=t.toString(),m={...this.indexSet_};m[d]=t;const p={...this.indexes_};return p[d]=h,new Wn(p,m)}addToIndexes(t,n){const l=Jr(this.indexes_,(a,r)=>{const u=gl(this.indexSet_,r);if(q(u,"Missing index implementation for "+r),a===ll)if(u.isDefinedOn(t.node)){const h=[],d=n.getIterator(ht.Wrap);let m=d.getNext();for(;m;)m.name!==t.name&&h.push(m),m=d.getNext();return h.push(t),sc(h,u.getCompare())}else return ll;else{const h=n.get(t.name);let d=a;return h&&(d=d.remove(new ht(t.name,h))),d.insert(t,t.node)}});return new Wn(l,this.indexSet_)}removeFromIndexes(t,n){const l=Jr(this.indexes_,a=>{if(a===ll)return a;{const r=n.get(t.name);return r?a.remove(new ht(t.name,r)):a}});return new Wn(l,this.indexSet_)}}let Ea;class st{static get EMPTY_NODE(){return Ea||(Ea=new st(new Le(hd),null,Wn.Default))}constructor(t,n,l){this.children_=t,this.priorityNode_=n,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&s0(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ea}updatePriority(t){return this.children_.isEmpty()?this:new st(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Ea:n}}getChild(t){const n=mt(t);return n===null?this:this.getImmediateChild(n).getChild(Ut(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(q(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const l=new ht(t,n);let a,r;n.isEmpty()?(a=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(l,this.children_)):(a=this.children_.insert(t,n),r=this.indexMap_.addToIndexes(l,this.children_));const u=a.isEmpty()?Ea:this.priorityNode_;return new st(a,u,r)}}updateChild(t,n){const l=mt(t);if(l===null)return n;{q(mt(t)!==".priority"||zi(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(l).updateChild(Ut(t),n);return this.updateImmediateChild(l,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let l=0,a=0,r=!0;if(this.forEachChild(Wt,(u,h)=>{n[u]=h.val(t),l++,r&&st.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):r=!1}),!t&&r&&a<2*l){const u=[];for(const h in n)u[h]=n[h];return u}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+i0(this.getPriority().val())+":"),this.forEachChild(Wt,(n,l)=>{const a=l.hash();a!==""&&(t+=":"+n+":"+a)}),this.lazyHash_=t===""?"":Ob(t)}return this.lazyHash_}getPredecessorChildName(t,n,l){const a=this.resolveIndex_(l);if(a){const r=a.getPredecessorKey(new ht(t,n));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const l=n.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ht(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const l=n.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ht(n,this.children_.get(n)):null}forEachChild(t,n){const l=this.resolveIndex_(t);return l?l.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const l=this.resolveIndex_(n);if(l)return l.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ht.Wrap);let r=a.peek();for(;r!=null&&n.compare(r,t)<0;)a.getNext(),r=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const l=this.resolveIndex_(n);if(l)return l.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ht.Wrap);let r=a.peek();for(;r!=null&&n.compare(r,t)>0;)a.getNext(),r=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===uo?-1:0}withIndex(t){if(t===hl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new st(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===hl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const l=this.getIterator(Wt),a=n.getIterator(Wt);let r=l.getNext(),u=a.getNext();for(;r&&u;){if(r.name!==u.name||!r.node.equals(u.node))return!1;r=l.getNext(),u=a.getNext()}return r===null&&u===null}else return!1;else return!1}}resolveIndex_(t){return t===hl?null:this.indexMap_.get(t.toString())}}st.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class n2 extends st{constructor(){super(new Le(hd),st.EMPTY_NODE,Wn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return st.EMPTY_NODE}isEmpty(){return!1}}const uo=new n2;Object.defineProperties(ht,{MIN:{value:new ht(ml,st.EMPTY_NODE)},MAX:{value:new ht(ds,uo)}});n0.__EMPTY_NODE=st.EMPTY_NODE;ce.__childrenNodeConstructor=st;KT(uo);JT(uo);const i2=!0;function be(i,t=null){if(i===null)return st.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new ce(n,be(t))}if(!(i instanceof Array)&&i2){const n=[];let l=!1;if(He(i,(u,h)=>{if(u.substring(0,1)!=="."){const d=be(h);d.isEmpty()||(l=l||!d.getPriority().isEmpty(),n.push(new ht(u,d)))}}),n.length===0)return st.EMPTY_NODE;const r=sc(n,WT,u=>u.name,hd);if(l){const u=sc(n,Wt.getCompare());return new st(r,be(t),new Wn({".priority":u},{".priority":Wt}))}else return new st(r,be(t),Wn.Default)}else{let n=st.EMPTY_NODE;return He(i,(l,a)=>{if($n(i,l)&&l.substring(0,1)!=="."){const r=be(a);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(l,r))}}),n.updatePriority(be(t))}}ZT(be);class s2 extends Cc{constructor(t){super(),this.indexPath_=t,q(!pt(t)&&mt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const l=this.extractChild(t.node),a=this.extractChild(n.node),r=l.compareTo(a);return r===0?xl(t.name,n.name):r}makePost(t,n){const l=be(t),a=st.EMPTY_NODE.updateChild(this.indexPath_,l);return new ht(n,a)}maxPost(){const t=st.EMPTY_NODE.updateChild(this.indexPath_,uo);return new ht(ds,t)}toString(){return $b(this.indexPath_,0).join("/")}}class l2 extends Cc{compare(t,n){const l=t.node.compareTo(n.node);return l===0?xl(t.name,n.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ht.MIN}maxPost(){return ht.MAX}makePost(t,n){const l=be(t);return new ht(n,l)}toString(){return".value"}}const a2=new l2;function o0(i){return{type:"value",snapshotNode:i}}function pl(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Wa(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Ka(i,t,n){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:n}}function o2(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}class fd{constructor(t){this.index_=t}updateChild(t,n,l,a,r,u){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(n);return h.getChild(a).equals(l.getChild(a))&&h.isEmpty()===l.isEmpty()||(u!=null&&(l.isEmpty()?t.hasChild(n)?u.trackChildChange(Wa(n,h)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(pl(n,l)):u.trackChildChange(Ka(n,l,h))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(n,l).withIndex(this.index_)}updateFullNode(t,n,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Wt,(a,r)=>{n.hasChild(a)||l.trackChildChange(Wa(a,r))}),n.isLeafNode()||n.forEachChild(Wt,(a,r)=>{if(t.hasChild(a)){const u=t.getImmediateChild(a);u.equals(r)||l.trackChildChange(Ka(a,r,u))}else l.trackChildChange(pl(a,r))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?st.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Za{constructor(t){this.indexedFilter_=new fd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Za.getStartPost_(t),this.endPost_=Za.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&l}updateChild(t,n,l,a,r,u){return this.matches(new ht(n,l))||(l=st.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,l,a,r,u)}updateFullNode(t,n,l){n.isLeafNode()&&(n=st.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(st.EMPTY_NODE);const r=this;return n.forEachChild(Wt,(u,h)=>{r.matches(new ht(u,h))||(a=a.updateImmediateChild(u,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,l)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}class r2{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=n=>{const l=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Za(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,l,a,r,u){return this.rangedFilter_.matches(new ht(n,l))||(l=st.EMPTY_NODE),t.getImmediateChild(n).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,l,a,r,u):this.fullLimitUpdateChild_(t,n,l,r,u)}updateFullNode(t,n,l){let a;if(n.isLeafNode()||n.isEmpty())a=st.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=st.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;r.hasNext()&&u<this.limit_;){const h=r.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(st.EMPTY_NODE);let r;this.reverse_?r=a.getReverseIterator(this.index_):r=a.getIterator(this.index_);let u=0;for(;r.hasNext();){const h=r.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:a=a.updateImmediateChild(h.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,l)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,l,a,r){let u;if(this.reverse_){const y=this.index_.getCompare();u=(v,S)=>y(S,v)}else u=this.index_.getCompare();const h=t;q(h.numChildren()===this.limit_,"");const d=new ht(n,l),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let v=a.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||h.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const S=v==null?1:u(v,d);if(p&&!l.isEmpty()&&S>=0)return r?.trackChildChange(Ka(n,l,y)),h.updateImmediateChild(n,l);{r?.trackChildChange(Wa(n,y));const C=h.updateImmediateChild(n,st.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(r?.trackChildChange(pl(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return l.isEmpty()?t:p&&u(m,d)>=0?(r!=null&&(r.trackChildChange(Wa(m.name,m.node)),r.trackChildChange(pl(n,l))),h.updateImmediateChild(n,l).updateImmediateChild(m.name,st.EMPTY_NODE)):t}}class dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ml}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wt}copy(){const t=new dd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function c2(i){return i.loadsAllData()?new fd(i.getIndex()):i.hasLimit()?new r2(i):new Za(i)}function u2(i,t){const n=i.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function zy(i){const t={};if(i.isDefault())return t;let n;if(i.index_===Wt?n="$priority":i.index_===a2?n="$value":i.index_===hl?n="$key":(q(i.index_ instanceof s2,"Unrecognized index type!"),n=i.index_.toString()),t.orderBy=he(n),i.startSet_){const l=i.startAfterSet_?"startAfter":"startAt";t[l]=he(i.indexStartValue_),i.startNameSet_&&(t[l]+=","+he(i.indexStartName_))}if(i.endSet_){const l=i.endBeforeSet_?"endBefore":"endAt";t[l]=he(i.indexEndValue_),i.endNameSet_&&(t[l]+=","+he(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function ky(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),t.vf=n}return i.index_!==Wt&&(t.i=i.index_.toString()),t}class lc extends Kb{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,l,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=l,this.appCheckTokenProvider_=a,this.log_=ro("p:rest:"),this.listens_={}}listen(t,n,l,a){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const u=lc.getListenId_(t,l),h={};this.listens_[u]=h;const d=zy(t._queryParams);this.restRequest_(r+".json",d,(m,p)=>{let y=p;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(r,y,!1,l),gl(this.listens_,u)===h){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",a(v,null)}})}unlisten(t,n){const l=lc.getListenId_(t,n);delete this.listens_[l]}get(t){const n=zy(t._queryParams),l=t._path.toString(),a=new nd;return this.restRequest_(l+".json",n,(r,u)=>{let h=u;r===404&&(h=null,r=null),r===null?(this.onDataUpdate_(l,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},l){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,r])=>{a&&a.accessToken&&(n.auth=a.accessToken),r&&r.token&&(n.ac=r.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+IE(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(l&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Ga(h.responseText)}catch{We("Failed to parse JSON response for "+u+": "+h.responseText)}l(null,d)}else h.status!==401&&h.status!==404&&We("Got unsuccessful REST response for "+u+" Status: "+h.status),l(h.status);l=null}},h.open("GET",u,!0),h.send()})}}class h2{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function ac(){return{value:null,children:new Map}}function r0(i,t,n){if(pt(t))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,n);else{const l=mt(t);i.children.has(l)||i.children.set(l,ac());const a=i.children.get(l);t=Ut(t),r0(a,t,n)}}function If(i,t,n){i.value!==null?n(t,i.value):f2(i,(l,a)=>{const r=new Ht(t.toString()+"/"+l);If(a,r,n)})}function f2(i,t){i.children.forEach((n,l)=>{t(l,n)})}class d2{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&He(this.last_,(l,a)=>{n[l]=n[l]-a}),this.last_=t,n}}const Ly=10*1e3,g2=30*1e3,m2=300*1e3;class p2{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new d2(t);const l=Ly+(g2-Ly)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),n={};let l=!1;He(t,(a,r)=>{r>0&&$n(this.statsToReport_,a)&&(n[a]=r,l=!0)}),l&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*m2))}}var mn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function c0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function md(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class oc{constructor(t,n,l){this.path=t,this.affectedTree=n,this.revert=l,this.type=mn.ACK_USER_WRITE,this.source=c0()}operationForChild(t){if(pt(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ht(t));return new oc(Mt(),n,this.revert)}}else return q(mt(this.path)===t,"operationForChild called for unrelated child."),new oc(Ut(this.path),this.affectedTree,this.revert)}}class Ja{constructor(t,n){this.source=t,this.path=n,this.type=mn.LISTEN_COMPLETE}operationForChild(t){return pt(this.path)?new Ja(this.source,Mt()):new Ja(this.source,Ut(this.path))}}class gs{constructor(t,n,l){this.source=t,this.path=n,this.snap=l,this.type=mn.OVERWRITE}operationForChild(t){return pt(this.path)?new gs(this.source,Mt(),this.snap.getImmediateChild(t)):new gs(this.source,Ut(this.path),this.snap)}}class $a{constructor(t,n,l){this.source=t,this.path=n,this.children=l,this.type=mn.MERGE}operationForChild(t){if(pt(this.path)){const n=this.children.subtree(new Ht(t));return n.isEmpty()?null:n.value?new gs(this.source,Mt(),n.value):new $a(this.source,Mt(),n)}else return q(mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $a(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ms{constructor(t,n,l){this.node_=t,this.fullyInitialized_=n,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pt(t))return this.isFullyInitialized()&&!this.filtered_;const n=mt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class _2{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function y2(i,t,n,l){const a=[],r=[];return t.forEach(u=>{u.type==="child_changed"&&i.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&r.push(o2(u.childName,u.snapshotNode))}),Ca(i,a,"child_removed",t,l,n),Ca(i,a,"child_added",t,l,n),Ca(i,a,"child_moved",r,l,n),Ca(i,a,"child_changed",t,l,n),Ca(i,a,"value",t,l,n),a}function Ca(i,t,n,l,a,r){const u=l.filter(h=>h.type===n);u.sort((h,d)=>b2(i,h,d)),u.forEach(h=>{const d=v2(i,h,r);a.forEach(m=>{m.respondsTo(h.type)&&t.push(m.createEvent(d,i.query_))})})}function v2(i,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function b2(i,t,n){if(t.childName==null||n.childName==null)throw Sl("Should only compare child_ events.");const l=new ht(t.childName,t.snapshotNode),a=new ht(n.childName,n.snapshotNode);return i.index_.compare(l,a)}function Tc(i,t){return{eventCache:i,serverCache:t}}function Ha(i,t,n,l){return Tc(new ms(t,n,l),i.serverCache)}function u0(i,t,n,l){return Tc(i.eventCache,new ms(t,n,l))}function Hf(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ps(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let mf;const S2=()=>(mf||(mf=new Le(lT)),mf);class Yt{static fromObject(t){let n=new Yt(null);return He(t,(l,a)=>{n=n.set(new Ht(l),a)}),n}constructor(t,n=S2()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Mt(),value:this.value};if(pt(t))return null;{const l=mt(t),a=this.children.get(l);if(a!==null){const r=a.findRootMostMatchingPathAndValue(Ut(t),n);return r!=null?{path:ae(new Ht(l),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pt(t))return this;{const n=mt(t),l=this.children.get(n);return l!==null?l.subtree(Ut(t)):new Yt(null)}}set(t,n){if(pt(t))return new Yt(n,this.children);{const l=mt(t),r=(this.children.get(l)||new Yt(null)).set(Ut(t),n),u=this.children.insert(l,r);return new Yt(this.value,u)}}remove(t){if(pt(t))return this.children.isEmpty()?new Yt(null):new Yt(null,this.children);{const n=mt(t),l=this.children.get(n);if(l){const a=l.remove(Ut(t));let r;return a.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,a),this.value===null&&r.isEmpty()?new Yt(null):new Yt(this.value,r)}else return this}}get(t){if(pt(t))return this.value;{const n=mt(t),l=this.children.get(n);return l?l.get(Ut(t)):null}}setTree(t,n){if(pt(t))return n;{const l=mt(t),r=(this.children.get(l)||new Yt(null)).setTree(Ut(t),n);let u;return r.isEmpty()?u=this.children.remove(l):u=this.children.insert(l,r),new Yt(this.value,u)}}fold(t){return this.fold_(Mt(),t)}fold_(t,n){const l={};return this.children.inorderTraversal((a,r)=>{l[a]=r.fold_(ae(t,a),n)}),n(t,this.value,l)}findOnPath(t,n){return this.findOnPath_(t,Mt(),n)}findOnPath_(t,n,l){const a=this.value?l(n,this.value):!1;if(a)return a;if(pt(t))return null;{const r=mt(t),u=this.children.get(r);return u?u.findOnPath_(Ut(t),ae(n,r),l):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Mt(),n)}foreachOnPath_(t,n,l){if(pt(t))return this;{this.value&&l(n,this.value);const a=mt(t),r=this.children.get(a);return r?r.foreachOnPath_(Ut(t),ae(n,a),l):new Yt(null)}}foreach(t){this.foreach_(Mt(),t)}foreach_(t,n){this.children.inorderTraversal((l,a)=>{a.foreach_(ae(t,l),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,l)=>{l.value&&t(n,l.value)})}}class _n{constructor(t){this.writeTree_=t}static empty(){return new _n(new Yt(null))}}function Ba(i,t,n){if(pt(t))return new _n(new Yt(n));{const l=i.writeTree_.findRootMostValueAndPath(t);if(l!=null){const a=l.path;let r=l.value;const u=ke(a,t);return r=r.updateChild(u,n),new _n(i.writeTree_.set(a,r))}else{const a=new Yt(n),r=i.writeTree_.setTree(t,a);return new _n(r)}}}function Iy(i,t,n){let l=i;return He(n,(a,r)=>{l=Ba(l,ae(t,a),r)}),l}function Hy(i,t){if(pt(t))return _n.empty();{const n=i.writeTree_.setTree(t,new Yt(null));return new _n(n)}}function Bf(i,t){return ys(i,t)!=null}function ys(i,t){const n=i.writeTree_.findRootMostValueAndPath(t);return n!=null?i.writeTree_.get(n.path).getChild(ke(n.path,t)):null}function By(i){const t=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Wt,(l,a)=>{t.push(new ht(l,a))}):i.writeTree_.children.inorderTraversal((l,a)=>{a.value!=null&&t.push(new ht(l,a.value))}),t}function Ri(i,t){if(pt(t))return i;{const n=ys(i,t);return n!=null?new _n(new Yt(n)):new _n(i.writeTree_.subtree(t))}}function Uf(i){return i.writeTree_.isEmpty()}function _l(i,t){return h0(Mt(),i.writeTree_,t)}function h0(i,t,n){if(t.value!=null)return n.updateChild(i,t.value);{let l=null;return t.children.inorderTraversal((a,r)=>{a===".priority"?(q(r.value!==null,"Priority writes must always be leaf nodes"),l=r.value):n=h0(ae(i,a),r,n)}),!n.getChild(i).isEmpty()&&l!==null&&(n=n.updateChild(ae(i,".priority"),l)),n}}function pd(i,t){return m0(t,i)}function x2(i,t,n,l,a){q(l>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:n,writeId:l,visible:a}),a&&(i.visibleWrites=Ba(i.visibleWrites,t,n)),i.lastWriteId=l}function E2(i,t){for(let n=0;n<i.allWrites.length;n++){const l=i.allWrites[n];if(l.writeId===t)return l}return null}function C2(i,t){const n=i.allWrites.findIndex(h=>h.writeId===t);q(n>=0,"removeWrite called with nonexistent writeId.");const l=i.allWrites[n];i.allWrites.splice(n,1);let a=l.visible,r=!1,u=i.allWrites.length-1;for(;a&&u>=0;){const h=i.allWrites[u];h.visible&&(u>=n&&T2(h,l.path)?a=!1:gn(l.path,h.path)&&(r=!0)),u--}if(a){if(r)return A2(i),!0;if(l.snap)i.visibleWrites=Hy(i.visibleWrites,l.path);else{const h=l.children;He(h,d=>{i.visibleWrites=Hy(i.visibleWrites,ae(l.path,d))})}return!0}else return!1}function T2(i,t){if(i.snap)return gn(i.path,t);for(const n in i.children)if(i.children.hasOwnProperty(n)&&gn(ae(i.path,n),t))return!0;return!1}function A2(i){i.visibleWrites=f0(i.allWrites,M2,Mt()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function M2(i){return i.visible}function f0(i,t,n){let l=_n.empty();for(let a=0;a<i.length;++a){const r=i[a];if(t(r)){const u=r.path;let h;if(r.snap)gn(n,u)?(h=ke(n,u),l=Ba(l,h,r.snap)):gn(u,n)&&(h=ke(u,n),l=Ba(l,Mt(),r.snap.getChild(h)));else if(r.children){if(gn(n,u))h=ke(n,u),l=Iy(l,h,r.children);else if(gn(u,n))if(h=ke(u,n),pt(h))l=Iy(l,Mt(),r.children);else{const d=gl(r.children,mt(h));if(d){const m=d.getChild(Ut(h));l=Ba(l,Mt(),m)}}}else throw Sl("WriteRecord should have .snap or .children")}}return l}function d0(i,t,n,l,a){if(!l&&!a){const r=ys(i.visibleWrites,t);if(r!=null)return r;{const u=Ri(i.visibleWrites,t);if(Uf(u))return n;if(n==null&&!Bf(u,Mt()))return null;{const h=n||st.EMPTY_NODE;return _l(u,h)}}}else{const r=Ri(i.visibleWrites,t);if(!a&&Uf(r))return n;if(!a&&n==null&&!Bf(r,Mt()))return null;{const u=function(m){return(m.visible||a)&&(!l||!~l.indexOf(m.writeId))&&(gn(m.path,t)||gn(t,m.path))},h=f0(i.allWrites,u,t),d=n||st.EMPTY_NODE;return _l(h,d)}}}function D2(i,t,n){let l=st.EMPTY_NODE;const a=ys(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Wt,(r,u)=>{l=l.updateImmediateChild(r,u)}),l;if(n){const r=Ri(i.visibleWrites,t);return n.forEachChild(Wt,(u,h)=>{const d=_l(Ri(r,new Ht(u)),h);l=l.updateImmediateChild(u,d)}),By(r).forEach(u=>{l=l.updateImmediateChild(u.name,u.node)}),l}else{const r=Ri(i.visibleWrites,t);return By(r).forEach(u=>{l=l.updateImmediateChild(u.name,u.node)}),l}}function w2(i,t,n,l,a){q(l||a,"Either existingEventSnap or existingServerSnap must exist");const r=ae(t,n);if(Bf(i.visibleWrites,r))return null;{const u=Ri(i.visibleWrites,r);return Uf(u)?a.getChild(n):_l(u,a.getChild(n))}}function O2(i,t,n,l){const a=ae(t,n),r=ys(i.visibleWrites,a);if(r!=null)return r;if(l.isCompleteForChild(n)){const u=Ri(i.visibleWrites,a);return _l(u,l.getNode().getImmediateChild(n))}else return null}function R2(i,t){return ys(i.visibleWrites,t)}function N2(i,t,n,l,a,r,u){let h;const d=Ri(i.visibleWrites,t),m=ys(d,Mt());if(m!=null)h=m;else if(n!=null)h=_l(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const p=[],y=u.getCompare(),v=r?h.getReverseIteratorFrom(l,u):h.getIteratorFrom(l,u);let S=v.getNext();for(;S&&p.length<a;)y(S,l)!==0&&p.push(S),S=v.getNext();return p}else return[]}function z2(){return{visibleWrites:_n.empty(),allWrites:[],lastWriteId:-1}}function rc(i,t,n,l){return d0(i.writeTree,i.treePath,t,n,l)}function _d(i,t){return D2(i.writeTree,i.treePath,t)}function Uy(i,t,n,l){return w2(i.writeTree,i.treePath,t,n,l)}function cc(i,t){return R2(i.writeTree,ae(i.treePath,t))}function k2(i,t,n,l,a,r){return N2(i.writeTree,i.treePath,t,n,l,a,r)}function yd(i,t,n){return O2(i.writeTree,i.treePath,t,n)}function g0(i,t){return m0(ae(i.treePath,t),i.writeTree)}function m0(i,t){return{treePath:i,writeTree:t}}class L2{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,l=t.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(l!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(l);if(a){const r=a.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(l,Ka(l,t.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(l);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(l,Wa(l,a.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(l,pl(l,t.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(l,Ka(l,t.snapshotNode,a.oldSnap));else throw Sl("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class I2{getCompleteChild(t){return null}getChildAfterChild(t,n,l){return null}}const p0=new I2;class vd{constructor(t,n,l=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=l}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yd(this.writes_,t,l)}}getChildAfterChild(t,n,l){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ps(this.viewCache_),r=k2(this.writes_,a,n,1,l,t);return r.length===0?null:r[0]}}function H2(i){return{filter:i}}function B2(i,t){q(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function U2(i,t,n,l,a){const r=new L2;let u,h;if(n.type===mn.OVERWRITE){const m=n;m.source.fromUser?u=jf(i,t,m.path,m.snap,l,a,r):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered()&&!pt(m.path),u=uc(i,t,m.path,m.snap,l,a,h,r))}else if(n.type===mn.MERGE){const m=n;m.source.fromUser?u=V2(i,t,m.path,m.children,l,a,r):(q(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered(),u=Vf(i,t,m.path,m.children,l,a,h,r))}else if(n.type===mn.ACK_USER_WRITE){const m=n;m.revert?u=q2(i,t,m.path,l,a,r):u=F2(i,t,m.path,m.affectedTree,l,a,r)}else if(n.type===mn.LISTEN_COMPLETE)u=Y2(i,t,n.path,l,r);else throw Sl("Unknown operation type: "+n.type);const d=r.getChanges();return j2(t,u,d),{viewCache:u,changes:d}}function j2(i,t,n){const l=t.eventCache;if(l.isFullyInitialized()){const a=l.getNode().isLeafNode()||l.getNode().isEmpty(),r=Hf(i);(n.length>0||!i.eventCache.isFullyInitialized()||a&&!l.getNode().equals(r)||!l.getNode().getPriority().equals(r.getPriority()))&&n.push(o0(Hf(t)))}}function _0(i,t,n,l,a,r){const u=t.eventCache;if(cc(l,n)!=null)return t;{let h,d;if(pt(n))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=ps(t),p=m instanceof st?m:st.EMPTY_NODE,y=_d(l,p);h=i.filter.updateFullNode(t.eventCache.getNode(),y,r)}else{const m=rc(l,ps(t));h=i.filter.updateFullNode(t.eventCache.getNode(),m,r)}else{const m=mt(n);if(m===".priority"){q(zi(n)===1,"Can't have a priority with additional path components");const p=u.getNode();d=t.serverCache.getNode();const y=Uy(l,n,p,d);y!=null?h=i.filter.updatePriority(p,y):h=u.getNode()}else{const p=Ut(n);let y;if(u.isCompleteForChild(m)){d=t.serverCache.getNode();const v=Uy(l,n,u.getNode(),d);v!=null?y=u.getNode().getImmediateChild(m).updateChild(p,v):y=u.getNode().getImmediateChild(m)}else y=yd(l,m,t.serverCache);y!=null?h=i.filter.updateChild(u.getNode(),m,y,p,a,r):h=u.getNode()}}return Ha(t,h,u.isFullyInitialized()||pt(n),i.filter.filtersNodes())}}function uc(i,t,n,l,a,r,u,h){const d=t.serverCache;let m;const p=u?i.filter:i.filter.getIndexedFilter();if(pt(n))m=p.updateFullNode(d.getNode(),l,null);else if(p.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,l);m=p.updateFullNode(d.getNode(),S,null)}else{const S=mt(n);if(!d.isCompleteForPath(n)&&zi(n)>1)return t;const x=Ut(n),M=d.getNode().getImmediateChild(S).updateChild(x,l);S===".priority"?m=p.updatePriority(d.getNode(),M):m=p.updateChild(d.getNode(),S,M,x,p0,null)}const y=u0(t,m,d.isFullyInitialized()||pt(n),p.filtersNodes()),v=new vd(a,y,r);return _0(i,y,n,a,v,h)}function jf(i,t,n,l,a,r,u){const h=t.eventCache;let d,m;const p=new vd(a,t,r);if(pt(n))m=i.filter.updateFullNode(t.eventCache.getNode(),l,u),d=Ha(t,m,!0,i.filter.filtersNodes());else{const y=mt(n);if(y===".priority")m=i.filter.updatePriority(t.eventCache.getNode(),l),d=Ha(t,m,h.isFullyInitialized(),h.isFiltered());else{const v=Ut(n),S=h.getNode().getImmediateChild(y);let x;if(pt(v))x=l;else{const C=p.getCompleteChild(y);C!=null?Jb(v)===".priority"&&C.getChild(t0(v)).isEmpty()?x=C:x=C.updateChild(v,l):x=st.EMPTY_NODE}if(S.equals(x))d=t;else{const C=i.filter.updateChild(h.getNode(),y,x,v,p,u);d=Ha(t,C,h.isFullyInitialized(),i.filter.filtersNodes())}}}return d}function jy(i,t){return i.eventCache.isCompleteForChild(t)}function V2(i,t,n,l,a,r,u){let h=t;return l.foreach((d,m)=>{const p=ae(n,d);jy(t,mt(p))&&(h=jf(i,h,p,m,a,r,u))}),l.foreach((d,m)=>{const p=ae(n,d);jy(t,mt(p))||(h=jf(i,h,p,m,a,r,u))}),h}function Vy(i,t,n){return n.foreach((l,a)=>{t=t.updateChild(l,a)}),t}function Vf(i,t,n,l,a,r,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,m;pt(n)?m=l:m=new Yt(null).setTree(n,l);const p=t.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(p.hasChild(y)){const S=t.serverCache.getNode().getImmediateChild(y),x=Vy(i,S,v);d=uc(i,d,new Ht(y),x,a,r,u,h)}}),m.children.inorderTraversal((y,v)=>{const S=!t.serverCache.isCompleteForChild(y)&&v.value===null;if(!p.hasChild(y)&&!S){const x=t.serverCache.getNode().getImmediateChild(y),C=Vy(i,x,v);d=uc(i,d,new Ht(y),C,a,r,u,h)}}),d}function F2(i,t,n,l,a,r,u){if(cc(a,n)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(l.value!=null){if(pt(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return uc(i,t,n,d.getNode().getChild(n),a,r,h,u);if(pt(n)){let m=new Yt(null);return d.getNode().forEachChild(hl,(p,y)=>{m=m.set(new Ht(p),y)}),Vf(i,t,n,m,a,r,h,u)}else return t}else{let m=new Yt(null);return l.foreach((p,y)=>{const v=ae(n,p);d.isCompleteForPath(v)&&(m=m.set(p,d.getNode().getChild(v)))}),Vf(i,t,n,m,a,r,h,u)}}function Y2(i,t,n,l,a){const r=t.serverCache,u=u0(t,r.getNode(),r.isFullyInitialized()||pt(n),r.isFiltered());return _0(i,u,n,l,p0,a)}function q2(i,t,n,l,a,r){let u;if(cc(l,n)!=null)return t;{const h=new vd(l,t,a),d=t.eventCache.getNode();let m;if(pt(n)||mt(n)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=rc(l,ps(t));else{const y=t.serverCache.getNode();q(y instanceof st,"serverChildren would be complete if leaf node"),p=_d(l,y)}p=p,m=i.filter.updateFullNode(d,p,r)}else{const p=mt(n);let y=yd(l,p,t.serverCache);y==null&&t.serverCache.isCompleteForChild(p)&&(y=d.getImmediateChild(p)),y!=null?m=i.filter.updateChild(d,p,y,Ut(n),h,r):t.eventCache.getNode().hasChild(p)?m=i.filter.updateChild(d,p,st.EMPTY_NODE,Ut(n),h,r):m=d,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=rc(l,ps(t)),u.isLeafNode()&&(m=i.filter.updateFullNode(m,u,r)))}return u=t.serverCache.isFullyInitialized()||cc(l,Mt())!=null,Ha(t,m,u,i.filter.filtersNodes())}}class G2{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,a=new fd(l.getIndex()),r=c2(l);this.processor_=H2(r);const u=n.serverCache,h=n.eventCache,d=a.updateFullNode(st.EMPTY_NODE,u.getNode(),null),m=r.updateFullNode(st.EMPTY_NODE,h.getNode(),null),p=new ms(d,u.isFullyInitialized(),a.filtersNodes()),y=new ms(m,h.isFullyInitialized(),r.filtersNodes());this.viewCache_=Tc(y,p),this.eventGenerator_=new _2(this.query_)}get query(){return this.query_}}function P2(i){return i.viewCache_.serverCache.getNode()}function X2(i,t){const n=ps(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!pt(t)&&!n.getImmediateChild(mt(t)).isEmpty())?n.getChild(t):null}function Fy(i){return i.eventRegistrations_.length===0}function Q2(i,t){i.eventRegistrations_.push(t)}function Yy(i,t,n){const l=[];if(n){q(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(r=>{const u=r.createCancelEvent(n,a);u&&l.push(u)})}if(t){let a=[];for(let r=0;r<i.eventRegistrations_.length;++r){const u=i.eventRegistrations_[r];if(!u.matches(t))a.push(u);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(r+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return l}function qy(i,t,n,l){t.type===mn.MERGE&&t.source.queryId!==null&&(q(ps(i.viewCache_),"We should always have a full cache before handling merges"),q(Hf(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,r=U2(i.processor_,a,t,n,l);return B2(i.processor_,r.viewCache),q(r.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=r.viewCache,y0(i,r.changes,r.viewCache.eventCache.getNode(),null)}function W2(i,t){const n=i.viewCache_.eventCache,l=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,(r,u)=>{l.push(pl(r,u))}),n.isFullyInitialized()&&l.push(o0(n.getNode())),y0(i,l,n.getNode(),t)}function y0(i,t,n,l){const a=l?[l]:i.eventRegistrations_;return y2(i.eventGenerator_,t,n,a)}let hc;class K2{constructor(){this.views=new Map}}function Z2(i){q(!hc,"__referenceConstructor has already been defined"),hc=i}function J2(){return q(hc,"Reference.ts has not been loaded"),hc}function $2(i){return i.views.size===0}function bd(i,t,n,l){const a=t.source.queryId;if(a!==null){const r=i.views.get(a);return q(r!=null,"SyncTree gave us an op for an invalid query."),qy(r,t,n,l)}else{let r=[];for(const u of i.views.values())r=r.concat(qy(u,t,n,l));return r}}function tA(i,t,n,l,a){const r=t._queryIdentifier,u=i.views.get(r);if(!u){let h=rc(n,a?l:null),d=!1;h?d=!0:l instanceof st?(h=_d(n,l),d=!1):(h=st.EMPTY_NODE,d=!1);const m=Tc(new ms(h,d,!1),new ms(l,a,!1));return new G2(t,m)}return u}function eA(i,t,n,l,a,r){const u=tA(i,t,l,a,r);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,u),Q2(u,n),W2(u,n)}function nA(i,t,n,l){const a=t._queryIdentifier,r=[];let u=[];const h=ki(i);if(a==="default")for(const[d,m]of i.views.entries())u=u.concat(Yy(m,n,l)),Fy(m)&&(i.views.delete(d),m.query._queryParams.loadsAllData()||r.push(m.query));else{const d=i.views.get(a);d&&(u=u.concat(Yy(d,n,l)),Fy(d)&&(i.views.delete(a),d.query._queryParams.loadsAllData()||r.push(d.query)))}return h&&!ki(i)&&r.push(new(J2())(t._repo,t._path)),{removed:r,events:u}}function v0(i){const t=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function fl(i,t){let n=null;for(const l of i.views.values())n=n||X2(l,t);return n}function b0(i,t){if(t._queryParams.loadsAllData())return Ac(i);{const l=t._queryIdentifier;return i.views.get(l)}}function S0(i,t){return b0(i,t)!=null}function ki(i){return Ac(i)!=null}function Ac(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fc;function iA(i){q(!fc,"__referenceConstructor has already been defined"),fc=i}function sA(){return q(fc,"Reference.ts has not been loaded"),fc}let lA=1;class Gy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Yt(null),this.pendingWriteTree_=z2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aA(i,t,n,l,a){return x2(i.pendingWriteTree_,t,n,l,a),a?ho(i,new gs(c0(),t,n)):[]}function rl(i,t,n=!1){const l=E2(i.pendingWriteTree_,t);if(C2(i.pendingWriteTree_,t)){let r=new Yt(null);return l.snap!=null?r=r.set(Mt(),!0):He(l.children,u=>{r=r.set(new Ht(u),!0)}),ho(i,new oc(l.path,r,n))}else return[]}function Mc(i,t,n){return ho(i,new gs(gd(),t,n))}function oA(i,t,n){const l=Yt.fromObject(n);return ho(i,new $a(gd(),t,l))}function rA(i,t){return ho(i,new Ja(gd(),t))}function cA(i,t,n){const l=Sd(i,n);if(l){const a=xd(l),r=a.path,u=a.queryId,h=ke(r,t),d=new Ja(md(u),h);return Ed(i,r,d)}else return[]}function Ff(i,t,n,l,a=!1){const r=t._path,u=i.syncPointTree_.get(r);let h=[];if(u&&(t._queryIdentifier==="default"||S0(u,t))){const d=nA(u,t,n,l);$2(u)&&(i.syncPointTree_=i.syncPointTree_.remove(r));const m=d.removed;if(h=d.events,!a){const p=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(r,(v,S)=>ki(S));if(p&&!y){const v=i.syncPointTree_.subtree(r);if(!v.isEmpty()){const S=fA(v);for(let x=0;x<S.length;++x){const C=S[x],M=C.query,k=T0(i,C);i.listenProvider_.startListening(Ua(M),dc(i,M),k.hashFn,k.onComplete)}}}!y&&m.length>0&&!l&&(p?i.listenProvider_.stopListening(Ua(t),null):m.forEach(v=>{const S=i.queryToTagMap.get(Dc(v));i.listenProvider_.stopListening(Ua(v),S)}))}dA(i,m)}return h}function uA(i,t,n,l){const a=Sd(i,l);if(a!=null){const r=xd(a),u=r.path,h=r.queryId,d=ke(u,t),m=new gs(md(h),d,n);return Ed(i,u,m)}else return[]}function hA(i,t,n,l){const a=Sd(i,l);if(a){const r=xd(a),u=r.path,h=r.queryId,d=ke(u,t),m=Yt.fromObject(n),p=new $a(md(h),d,m);return Ed(i,u,p)}else return[]}function Py(i,t,n,l=!1){const a=t._path;let r=null,u=!1;i.syncPointTree_.foreachOnPath(a,(v,S)=>{const x=ke(v,a);r=r||fl(S,x),u=u||ki(S)});let h=i.syncPointTree_.get(a);h?(u=u||ki(h),r=r||fl(h,Mt())):(h=new K2,i.syncPointTree_=i.syncPointTree_.set(a,h));let d;r!=null?d=!0:(d=!1,r=st.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((S,x)=>{const C=fl(x,Mt());C&&(r=r.updateImmediateChild(S,C))}));const m=S0(h,t);if(!m&&!t._queryParams.loadsAllData()){const v=Dc(t);q(!i.queryToTagMap.has(v),"View does not exist, but we have a tag");const S=gA();i.queryToTagMap.set(v,S),i.tagToQueryMap.set(S,v)}const p=pd(i.pendingWriteTree_,a);let y=eA(h,t,n,p,r,d);if(!m&&!u&&!l){const v=b0(h,t);y=y.concat(mA(i,t,v))}return y}function x0(i,t,n){const a=i.pendingWriteTree_,r=i.syncPointTree_.findOnPath(t,(u,h)=>{const d=ke(u,t),m=fl(h,d);if(m)return m});return d0(a,t,r,n,!0)}function ho(i,t){return E0(t,i.syncPointTree_,null,pd(i.pendingWriteTree_,Mt()))}function E0(i,t,n,l){if(pt(i.path))return C0(i,t,n,l);{const a=t.get(Mt());n==null&&a!=null&&(n=fl(a,Mt()));let r=[];const u=mt(i.path),h=i.operationForChild(u),d=t.children.get(u);if(d&&h){const m=n?n.getImmediateChild(u):null,p=g0(l,u);r=r.concat(E0(h,d,m,p))}return a&&(r=r.concat(bd(a,i,l,n))),r}}function C0(i,t,n,l){const a=t.get(Mt());n==null&&a!=null&&(n=fl(a,Mt()));let r=[];return t.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,m=g0(l,u),p=i.operationForChild(u);p&&(r=r.concat(C0(p,h,d,m)))}),a&&(r=r.concat(bd(a,i,l,n))),r}function T0(i,t){const n=t.query,l=dc(i,n);return{hashFn:()=>(P2(t)||st.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return l?cA(i,n._path,l):rA(i,n._path);{const r=rT(a,n);return Ff(i,n,null,r)}}}}function dc(i,t){const n=Dc(t);return i.queryToTagMap.get(n)}function Dc(i){return i._path.toString()+"$"+i._queryIdentifier}function Sd(i,t){return i.tagToQueryMap.get(t)}function xd(i){const t=i.indexOf("$");return q(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Ht(i.substr(0,t))}}function Ed(i,t,n){const l=i.syncPointTree_.get(t);q(l,"Missing sync point for query tag that we're tracking");const a=pd(i.pendingWriteTree_,t);return bd(l,n,a,null)}function fA(i){return i.fold((t,n,l)=>{if(n&&ki(n))return[Ac(n)];{let a=[];return n&&(a=v0(n)),He(l,(r,u)=>{a=a.concat(u)}),a}})}function Ua(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(sA())(i._repo,i._path):i}function dA(i,t){for(let n=0;n<t.length;++n){const l=t[n];if(!l._queryParams.loadsAllData()){const a=Dc(l),r=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(r)}}}function gA(){return lA++}function mA(i,t,n){const l=t._path,a=dc(i,t),r=T0(i,n),u=i.listenProvider_.startListening(Ua(t),a,r.hashFn,r.onComplete),h=i.syncPointTree_.subtree(l);if(a)q(!ki(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,p,y)=>{if(!pt(m)&&p&&ki(p))return[Ac(p).query];{let v=[];return p&&(v=v.concat(v0(p).map(S=>S.query))),He(y,(S,x)=>{v=v.concat(x)}),v}});for(let m=0;m<d.length;++m){const p=d[m];i.listenProvider_.stopListening(Ua(p),dc(i,p))}}return u}class Cd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Cd(n)}node(){return this.node_}}class Td{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ae(this.path_,t);return new Td(this.syncTree_,n)}node(){return x0(this.syncTree_,this.path_)}}const pA=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Xy=function(i,t,n){if(!i||typeof i!="object")return i;if(q(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return _A(i[".sv"],t,n);if(typeof i[".sv"]=="object")return yA(i[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},_A=function(i,t,n){switch(i){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+i)}},yA=function(i,t,n){i.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const l=i.increment;typeof l!="number"&&q(!1,"Unexpected increment value: "+l);const a=t.node();if(q(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return l;const u=a.getValue();return typeof u!="number"?l:u+l},vA=function(i,t,n,l){return Ad(t,new Td(n,i),l)},bA=function(i,t,n){return Ad(i,new Cd(t),n)};function Ad(i,t,n){const l=i.getPriority().val(),a=Xy(l,t.getImmediateChild(".priority"),n);let r;if(i.isLeafNode()){const u=i,h=Xy(u.getValue(),t,n);return h!==u.getValue()||a!==u.getPriority().val()?new ce(h,be(a)):i}else{const u=i;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new ce(a))),u.forEachChild(Wt,(h,d)=>{const m=Ad(d,t.getImmediateChild(h),n);m!==d&&(r=r.updateImmediateChild(h,m))}),r}}class Md{constructor(t="",n=null,l={children:{},childCount:0}){this.name=t,this.parent=n,this.node=l}}function Dd(i,t){let n=t instanceof Ht?t:new Ht(t),l=i,a=mt(n);for(;a!==null;){const r=gl(l.node.children,a)||{children:{},childCount:0};l=new Md(a,l,r),n=Ut(n),a=mt(n)}return l}function El(i){return i.node.value}function A0(i,t){i.node.value=t,Yf(i)}function M0(i){return i.node.childCount>0}function SA(i){return El(i)===void 0&&!M0(i)}function wc(i,t){He(i.node.children,(n,l)=>{t(new Md(n,i,l))})}function D0(i,t,n,l){n&&t(i),wc(i,a=>{D0(a,t,!0)})}function xA(i,t,n){let l=i.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function fo(i){return new Ht(i.parent===null?i.name:fo(i.parent)+"/"+i.name)}function Yf(i){i.parent!==null&&EA(i.parent,i.name,i)}function EA(i,t,n){const l=SA(n),a=$n(i.node.children,t);l&&a?(delete i.node.children[t],i.node.childCount--,Yf(i)):!l&&!a&&(i.node.children[t]=n.node,i.node.childCount++,Yf(i))}const CA=/[\[\].#$\/\u0000-\u001F\u007F]/,TA=/[\[\].#$\u0000-\u001F\u007F]/,pf=10*1024*1024,w0=function(i){return typeof i=="string"&&i.length!==0&&!CA.test(i)},O0=function(i){return typeof i=="string"&&i.length!==0&&!TA.test(i)},AA=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),O0(i)},R0=function(i,t,n){const l=n instanceof Ht?new VT(n,i):n;if(t===void 0)throw new Error(i+"contains undefined "+as(l));if(typeof t=="function")throw new Error(i+"contains a function "+as(l)+" with contents = "+t.toString());if(Rb(t))throw new Error(i+"contains "+t.toString()+" "+as(l));if(typeof t=="string"&&t.length>pf/3&&Ec(t)>pf)throw new Error(i+"contains a string greater than "+pf+" utf8 bytes "+as(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,r=!1;if(He(t,(u,h)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(r=!0,!w0(u)))throw new Error(i+" contains an invalid key ("+u+") "+as(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FT(l,u),R0(i,h,l),YT(l)}),a&&r)throw new Error(i+' contains ".value" child '+as(l)+" in addition to actual children.")}},N0=function(i,t,n,l){if(!O0(n))throw new Error(Sb(i,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MA=function(i,t,n,l){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N0(i,t,n)},DA=function(i,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!w0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AA(n))throw new Error(Sb(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class wA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function z0(i,t){let n=null;for(let l=0;l<t.length;l++){const a=t[l],r=a.getPath();n!==null&&!cd(r,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(a)}n&&i.eventLists_.push(n)}function k0(i,t,n){z0(i,n),L0(i,l=>cd(l,t))}function vs(i,t,n){z0(i,n),L0(i,l=>gn(l,t)||gn(t,l))}function L0(i,t){i.recursionDepth_++;let n=!0;for(let l=0;l<i.eventLists_.length;l++){const a=i.eventLists_[l];if(a){const r=a.path;t(r)?(OA(i.eventLists_[l]),i.eventLists_[l]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function OA(i){for(let t=0;t<i.events.length;t++){const n=i.events[t];if(n!==null){i.events[t]=null;const l=n.getEventRunner();La&&ve("event: "+n.toString()),co(l)}}}const RA="repo_interrupt",NA=25;class zA{constructor(t,n,l,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=l,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ac(),this.transactionQueueTree_=new Md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kA(i,t,n){if(i.stats_=od(i.repoInfo_),i.forceRestClient_||fT())i.server_=new lc(i.repoInfo_,(l,a,r,u)=>{Qy(i,l,a,r,u)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Wy(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{he(n)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}i.persistentConnection_=new Kn(i.repoInfo_,t,(l,a,r,u)=>{Qy(i,l,a,r,u)},l=>{Wy(i,l)},l=>{IA(i,l)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(l=>{i.server_.refreshAuthToken(l)}),i.appCheckProvider_.addTokenChangeListener(l=>{i.server_.refreshAppCheckToken(l.token)}),i.statsReporter_=_T(i.repoInfo_,()=>new p2(i.stats_,i.server_)),i.infoData_=new h2,i.infoSyncTree_=new Gy({startListening:(l,a,r,u)=>{let h=[];const d=i.infoData_.getNode(l._path);return d.isEmpty()||(h=Mc(i.infoSyncTree_,l._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),wd(i,"connected",!1),i.serverSyncTree_=new Gy({startListening:(l,a,r,u)=>(i.server_.listen(l,r,a,(h,d)=>{const m=u(h,d);vs(i.eventQueue_,l._path,m)}),[]),stopListening:(l,a)=>{i.server_.unlisten(l,a)}})}function LA(i){const n=i.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function I0(i){return pA({timestamp:LA(i)})}function Qy(i,t,n,l,a){i.dataUpdateCount++;const r=new Ht(t);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,n):n;let u=[];if(a)if(l){const d=Jr(n,m=>be(m));u=hA(i.serverSyncTree_,r,d,a)}else{const d=be(n);u=uA(i.serverSyncTree_,r,d,a)}else if(l){const d=Jr(n,m=>be(m));u=oA(i.serverSyncTree_,r,d)}else{const d=be(n);u=Mc(i.serverSyncTree_,r,d)}let h=r;u.length>0&&(h=Rd(i,r)),vs(i.eventQueue_,h,u)}function Wy(i,t){wd(i,"connected",t),t===!1&&BA(i)}function IA(i,t){He(t,(n,l)=>{wd(i,n,l)})}function wd(i,t,n){const l=new Ht("/.info/"+t),a=be(n);i.infoData_.updateSnapshot(l,a);const r=Mc(i.infoSyncTree_,l,a);vs(i.eventQueue_,l,r)}function HA(i){return i.nextWriteId_++}function BA(i){H0(i,"onDisconnectEvents");const t=I0(i),n=ac();If(i.onDisconnect_,Mt(),(a,r)=>{const u=vA(a,r,i.serverSyncTree_,t);r0(n,a,u)});let l=[];If(n,Mt(),(a,r)=>{l=l.concat(Mc(i.serverSyncTree_,a,r));const u=YA(i,a);Rd(i,u)}),i.onDisconnect_=ac(),vs(i.eventQueue_,Mt(),l)}function UA(i,t,n){let l;mt(t._path)===".info"?l=Py(i.infoSyncTree_,t,n):l=Py(i.serverSyncTree_,t,n),k0(i.eventQueue_,t._path,l)}function Ky(i,t,n){let l;mt(t._path)===".info"?l=Ff(i.infoSyncTree_,t,n):l=Ff(i.serverSyncTree_,t,n),k0(i.eventQueue_,t._path,l)}function jA(i){i.persistentConnection_&&i.persistentConnection_.interrupt(RA)}function H0(i,...t){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),ve(n,...t)}function B0(i,t,n){return x0(i.serverSyncTree_,t,n)||st.EMPTY_NODE}function Od(i,t=i.transactionQueueTree_){if(t||Oc(i,t),El(t)){const n=j0(i,t);q(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&VA(i,fo(t),n)}else M0(t)&&wc(t,n=>{Od(i,n)})}function VA(i,t,n){const l=n.map(m=>m.currentWriteId),a=B0(i,t,l);let r=a;const u=a.hash();for(let m=0;m<n.length;m++){const p=n[m];q(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=ke(t,p.path);r=r.updateChild(y,p.currentOutputSnapshotRaw)}const h=r.val(!0),d=t;i.server_.put(d.toString(),h,m=>{H0(i,"transaction put response",{path:d.toString(),status:m});let p=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(rl(i.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Oc(i,Dd(i.transactionQueueTree_,t)),Od(i,i.transactionQueueTree_),vs(i.eventQueue_,t,p);for(let v=0;v<y.length;v++)co(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{We("transaction at "+d.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}Rd(i,t)}},u)}function Rd(i,t){const n=U0(i,t),l=fo(n),a=j0(i,n);return FA(i,a,l),l}function FA(i,t,n){if(t.length===0)return;const l=[];let a=[];const u=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],m=ke(n,d.path);let p=!1,y;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)p=!0,y=d.abortReason,a=a.concat(rl(i.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=NA)p=!0,y="maxretry",a=a.concat(rl(i.serverSyncTree_,d.currentWriteId,!0));else{const v=B0(i,d.path,u);d.currentInputSnapshot=v;const S=t[h].update(v.val());if(S!==void 0){R0("transaction failed: Data returned ",S,d.path);let x=be(S);typeof S=="object"&&S!=null&&$n(S,".priority")||(x=x.updatePriority(v.getPriority()));const M=d.currentWriteId,k=I0(i),V=bA(x,v,k);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=V,d.currentWriteId=HA(i),u.splice(u.indexOf(M),1),a=a.concat(aA(i.serverSyncTree_,d.path,V,d.currentWriteId,d.applyLocally)),a=a.concat(rl(i.serverSyncTree_,M,!0))}else p=!0,y="nodata",a=a.concat(rl(i.serverSyncTree_,d.currentWriteId,!0))}vs(i.eventQueue_,n,a),a=[],p&&(t[h].status=2,(function(v){setTimeout(v,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?l.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):l.push(()=>t[h].onComplete(new Error(y),!1,null))))}Oc(i,i.transactionQueueTree_);for(let h=0;h<l.length;h++)co(l[h]);Od(i,i.transactionQueueTree_)}function U0(i,t){let n,l=i.transactionQueueTree_;for(n=mt(t);n!==null&&El(l)===void 0;)l=Dd(l,n),t=Ut(t),n=mt(t);return l}function j0(i,t){const n=[];return V0(i,t,n),n.sort((l,a)=>l.order-a.order),n}function V0(i,t,n){const l=El(t);if(l)for(let a=0;a<l.length;a++)n.push(l[a]);wc(t,a=>{V0(i,a,n)})}function Oc(i,t){const n=El(t);if(n){let l=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[l]=n[a],l++);n.length=l,A0(t,n.length>0?n:void 0)}wc(t,l=>{Oc(i,l)})}function YA(i,t){const n=fo(U0(i,t)),l=Dd(i.transactionQueueTree_,t);return xA(l,a=>{_f(i,a)}),_f(i,l),D0(l,a=>{_f(i,a)}),n}function _f(i,t){const n=El(t);if(n){const l=[];let a=[],r=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(q(r===u-1,"All SENT items should be at beginning of queue."),r=u,n[u].status=3,n[u].abortReason="set"):(q(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(rl(i.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&l.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));r===-1?A0(t,void 0):n.length=r+1,vs(i.eventQueue_,fo(t),a);for(let u=0;u<l.length;u++)co(l[u])}}function qA(i){let t="";const n=i.split("/");for(let l=0;l<n.length;l++)if(n[l].length>0){let a=n[l];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function GA(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const l=n.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):We(`Invalid query segment '${n}' in query '${i}'`)}return t}const Zy=function(i,t){const n=PA(i),l=n.namespace;n.domain==="firebase.com"&&Jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&n.domain!=="localhost"&&Jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iT();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yb(n.host,n.secure,l,a,t,"",l!==n.subdomain),path:new Ht(n.pathString)}},PA=function(i){let t="",n="",l="",a="",r="",u=!0,h="https",d=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(h=i.substring(0,m-1),i=i.substring(m+2));let p=i.indexOf("/");p===-1&&(p=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),t=i.substring(0,Math.min(p,y)),p<y&&(a=qA(i.substring(p,y)));const v=GA(i.substring(Math.min(i.length,y)));m=t.indexOf(":"),m>=0?(u=h==="https"||h==="wss",d=parseInt(t.substring(m+1),10)):m=t.length;const S=t.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const x=t.indexOf(".");l=t.substring(0,x).toLowerCase(),n=t.substring(x+1),r=l}"ns"in v&&(r=v.ns)}return{host:t,port:d,domain:n,subdomain:l,secure:u,scheme:h,pathString:a,namespace:r}};class XA{constructor(t,n,l,a){this.eventType=t,this.eventRegistration=n,this.snapshot=l,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+he(this.snapshot.exportVal())}}class QA{constructor(t,n,l){this.eventRegistration=t,this.error=n,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class WA{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Rc{constructor(t,n,l,a){this._repo=t,this._path=n,this._queryParams=l,this._orderByCalled=a}get key(){return pt(this._path)?null:Jb(this._path)}get ref(){return new Ii(this._repo,this._path)}get _queryIdentifier(){const t=ky(this._queryParams),n=ld(t);return n==="{}"?"default":n}get _queryObject(){return ky(this._queryParams)}isEqual(t){if(t=ao(t),!(t instanceof Rc))return!1;const n=this._repo===t._repo,l=cd(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return n&&l&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+jT(this._path)}}class Ii extends Rc{constructor(t,n){super(t,n,new dd,!1)}get parent(){const t=t0(this._path);return t===null?null:new Ii(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class gc{constructor(t,n,l){this._node=t,this.ref=n,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Ht(t),l=qf(this.ref,t);return new gc(this._node.getChild(n),l,Wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,a)=>t(new gc(a,qf(this.ref,l),Wt)))}hasChild(t){const n=new Ht(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jy(i,t){return i=ao(i),i._checkNotDeleted("ref"),t!==void 0?qf(i._root,t):i._root}function qf(i,t){return i=ao(i),mt(i._path)===null?MA("child","path",t):N0("child","path",t),new Ii(i._repo,ae(i._path,t))}class Nd{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const l=n._queryParams.getIndex();return new XA("value",this,new gc(t.snapshotNode,new Ii(n._repo,n._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new QA(this,t,n):null}matches(t){return t instanceof Nd?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function KA(i,t,n,l,a){let r;if(typeof l=="object"&&(r=void 0,a=l),typeof l=="function"&&(r=l),a&&a.onlyOnce){const d=n,m=(p,y)=>{Ky(i._repo,i,h),d(p,y)};m.userCallback=n.userCallback,m.context=n.context,n=m}const u=new WA(n,r||void 0),h=new Nd(u);return UA(i._repo,i,h),()=>Ky(i._repo,i,h)}function $y(i,t,n,l){return KA(i,"value",t,n,l)}class ZA{}class JA extends ZA{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rc(t._repo,t._path,u2(t._queryParams,this._limit),t._orderByCalled)}}function $A(i){if(Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new JA(i)}function tM(i,...t){let n=ao(i);for(const l of t)n=l._apply(n);return n}Z2(Ii);iA(Ii);const eM="FIREBASE_DATABASE_EMULATOR_HOST",Gf={};let nM=!1;function iM(i,t,n,l){const a=t.lastIndexOf(":"),r=t.substring(0,a),u=id(r);i.repoInfo_=new Yb(t,u,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),l&&(i.authTokenProvider_=l)}function sM(i,t,n,l,a){let r=l||i.options.databaseURL;r===void 0&&(i.options.projectId||Jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ve("Using default host for project ",i.options.projectId),r=`${i.options.projectId}-default-rtdb.firebaseio.com`);let u=Zy(r,a),h=u.repoInfo,d;typeof process<"u"&&py&&(d=py[eM]),d?(r=`http://${d}?ns=${h.namespace}`,u=Zy(r,a),h=u.repoInfo):u.repoInfo.secure;const m=new gT(i.name,i.options,t);DA("Invalid Firebase Database URL",u),pt(u.path)||Jn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=aM(h,i,m,new dT(i,n));return new oM(p,i)}function lM(i,t){const n=Gf[t];(!n||n[i.key]!==i)&&Jn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),jA(i),delete n[i.key]}function aM(i,t,n,l){let a=Gf[t.name];a||(a={},Gf[t.name]=a);let r=a[i.toURLString()];return r&&Jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new zA(i,nM,n,l),a[i.toURLString()]=r,r}class oM{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,Mt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Jn("Cannot call "+t+" on a deleted database.")}}function rM(i=jC(),t){const n=LC(i,"database").getImmediate({identifier:t});if(!n._instanceStarted){const l=bE("database");l&&cM(n,...l)}return n}function cM(i,t,n,l={}){i=ao(i),i._checkNotDeleted("useEmulator");const a=`${t}:${n}`,r=i._repoInternal;if(i._instanceStarted){if(a===i._repoInternal.repoInfo_.host&&$r(l,r.repoInfo_.emulatorOptions))return;Jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(r.repoInfo_.nodeAdmin)l.mockUserToken&&Jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Qr(Qr.OWNER);else if(l.mockUserToken){const h=typeof l.mockUserToken=="string"?l.mockUserToken:xE(l.mockUserToken,i.app.options.projectId);u=new Qr(h)}id(t)&&(SE(t),TE("Database",!0)),iM(r,a,l,u)}function uM(i){ZC(UC),ec(new Pa("database",(t,{instanceIdentifier:n})=>{const l=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return sM(l,a,r,n)},"PUBLIC").setMultipleInstances(!0)),cl(_y,yy,i),cl(_y,yy,"esm2020")}Kn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};Kn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};uM();function hM(){return tt.jsxs("div",{className:"header",children:[tt.jsxs("div",{children:[tt.jsx("h1",{style:{margin:0},children:"Radiation Dashboard"}),tt.jsx("div",{style:{color:"#6b7280",fontSize:13},children:"Multi-sensor IoT  Mock mode"})]}),tt.jsx("div",{children:tt.jsx("button",{style:{padding:"8px 12px",borderRadius:8,border:"none",background:"#2563eb",color:"white",cursor:"pointer"},children:"Simulate Device"})})]})}function go(i){return i+.5|0}const Ai=(i,t,n)=>Math.max(Math.min(i,n),t);function Oa(i){return Ai(go(i*2.55),0,255)}function Ni(i){return Ai(go(i*255),0,255)}function Qn(i){return Ai(go(i/2.55)/100,0,1)}function tv(i){return Ai(go(i*100),0,100)}const on={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pf=[..."0123456789ABCDEF"],fM=i=>Pf[i&15],dM=i=>Pf[(i&240)>>4]+Pf[i&15],Lr=i=>(i&240)>>4===(i&15),gM=i=>Lr(i.r)&&Lr(i.g)&&Lr(i.b)&&Lr(i.a);function mM(i){var t=i.length,n;return i[0]==="#"&&(t===4||t===5?n={r:255&on[i[1]]*17,g:255&on[i[2]]*17,b:255&on[i[3]]*17,a:t===5?on[i[4]]*17:255}:(t===7||t===9)&&(n={r:on[i[1]]<<4|on[i[2]],g:on[i[3]]<<4|on[i[4]],b:on[i[5]]<<4|on[i[6]],a:t===9?on[i[7]]<<4|on[i[8]]:255})),n}const pM=(i,t)=>i<255?t(i):"";function _M(i){var t=gM(i)?fM:dM;return i?"#"+t(i.r)+t(i.g)+t(i.b)+pM(i.a,t):void 0}const yM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function F0(i,t,n){const l=t*Math.min(n,1-n),a=(r,u=(r+i/30)%12)=>n-l*Math.max(Math.min(u-3,9-u,1),-1);return[a(0),a(8),a(4)]}function vM(i,t,n){const l=(a,r=(a+i/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[l(5),l(3),l(1)]}function bM(i,t,n){const l=F0(i,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)l[a]*=1-t-n,l[a]+=t;return l}function SM(i,t,n,l,a){return i===a?(t-n)/l+(t<n?6:0):t===a?(n-i)/l+2:(i-t)/l+4}function zd(i){const n=i.r/255,l=i.g/255,a=i.b/255,r=Math.max(n,l,a),u=Math.min(n,l,a),h=(r+u)/2;let d,m,p;return r!==u&&(p=r-u,m=h>.5?p/(2-r-u):p/(r+u),d=SM(n,l,a,p,r),d=d*60+.5),[d|0,m||0,h]}function kd(i,t,n,l){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,l)).map(Ni)}function Ld(i,t,n){return kd(F0,i,t,n)}function xM(i,t,n){return kd(bM,i,t,n)}function EM(i,t,n){return kd(vM,i,t,n)}function Y0(i){return(i%360+360)%360}function CM(i){const t=yM.exec(i);let n=255,l;if(!t)return;t[5]!==l&&(n=t[6]?Oa(+t[5]):Ni(+t[5]));const a=Y0(+t[2]),r=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?l=xM(a,r,u):t[1]==="hsv"?l=EM(a,r,u):l=Ld(a,r,u),{r:l[0],g:l[1],b:l[2],a:n}}function TM(i,t){var n=zd(i);n[0]=Y0(n[0]+t),n=Ld(n),i.r=n[0],i.g=n[1],i.b=n[2]}function AM(i){if(!i)return;const t=zd(i),n=t[0],l=tv(t[1]),a=tv(t[2]);return i.a<255?`hsla(${n}, ${l}%, ${a}%, ${Qn(i.a)})`:`hsl(${n}, ${l}%, ${a}%)`}const ev={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MM(){const i={},t=Object.keys(nv),n=Object.keys(ev);let l,a,r,u,h;for(l=0;l<t.length;l++){for(u=h=t[l],a=0;a<n.length;a++)r=n[a],h=h.replace(r,ev[r]);r=parseInt(nv[u],16),i[h]=[r>>16&255,r>>8&255,r&255]}return i}let Ir;function DM(i){Ir||(Ir=MM(),Ir.transparent=[0,0,0,0]);const t=Ir[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OM(i){const t=wM.exec(i);let n=255,l,a,r;if(t){if(t[7]!==l){const u=+t[7];n=t[8]?Oa(u):Ai(u*255,0,255)}return l=+t[1],a=+t[3],r=+t[5],l=255&(t[2]?Oa(l):Ai(l,0,255)),a=255&(t[4]?Oa(a):Ai(a,0,255)),r=255&(t[6]?Oa(r):Ai(r,0,255)),{r:l,g:a,b:r,a:n}}}function RM(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Qn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const yf=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,al=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function NM(i,t,n){const l=al(Qn(i.r)),a=al(Qn(i.g)),r=al(Qn(i.b));return{r:Ni(yf(l+n*(al(Qn(t.r))-l))),g:Ni(yf(a+n*(al(Qn(t.g))-a))),b:Ni(yf(r+n*(al(Qn(t.b))-r))),a:i.a+n*(t.a-i.a)}}function Hr(i,t,n){if(i){let l=zd(i);l[t]=Math.max(0,Math.min(l[t]+l[t]*n,t===0?360:1)),l=Ld(l),i.r=l[0],i.g=l[1],i.b=l[2]}}function q0(i,t){return i&&Object.assign(t||{},i)}function iv(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Ni(i[3]))):(t=q0(i,{r:0,g:0,b:0,a:1}),t.a=Ni(t.a)),t}function zM(i){return i.charAt(0)==="r"?OM(i):CM(i)}class to{constructor(t){if(t instanceof to)return t;const n=typeof t;let l;n==="object"?l=iv(t):n==="string"&&(l=mM(t)||DM(t)||zM(t)),this._rgb=l,this._valid=!!l}get valid(){return this._valid}get rgb(){var t=q0(this._rgb);return t&&(t.a=Qn(t.a)),t}set rgb(t){this._rgb=iv(t)}rgbString(){return this._valid?RM(this._rgb):void 0}hexString(){return this._valid?_M(this._rgb):void 0}hslString(){return this._valid?AM(this._rgb):void 0}mix(t,n){if(t){const l=this.rgb,a=t.rgb;let r;const u=n===r?.5:n,h=2*u-1,d=l.a-a.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;r=1-m,l.r=255&m*l.r+r*a.r+.5,l.g=255&m*l.g+r*a.g+.5,l.b=255&m*l.b+r*a.b+.5,l.a=u*l.a+(1-u)*a.a,this.rgb=l}return this}interpolate(t,n){return t&&(this._rgb=NM(this._rgb,t._rgb,n)),this}clone(){return new to(this.rgb)}alpha(t){return this._rgb.a=Ni(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=go(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Hr(this._rgb,2,t),this}darken(t){return Hr(this._rgb,2,-t),this}saturate(t){return Hr(this._rgb,1,t),this}desaturate(t){return Hr(this._rgb,1,-t),this}rotate(t){return TM(this._rgb,t),this}}function Gn(){}const kM=(()=>{let i=0;return()=>i++})();function jt(i){return i==null}function _e(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Dt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function cn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function En(i,t){return cn(i)?i:t}function St(i,t){return typeof i>"u"?t:i}const LM=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function qt(i,t,n){if(i&&typeof i.call=="function")return i.apply(n,t)}function Nt(i,t,n,l){let a,r,u;if(_e(i))for(r=i.length,a=0;a<r;a++)t.call(n,i[a],a);else if(Dt(i))for(u=Object.keys(i),r=u.length,a=0;a<r;a++)t.call(n,i[u[a]],u[a])}function mc(i,t){let n,l,a,r;if(!i||!t||i.length!==t.length)return!1;for(n=0,l=i.length;n<l;++n)if(a=i[n],r=t[n],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return!1;return!0}function pc(i){if(_e(i))return i.map(pc);if(Dt(i)){const t=Object.create(null),n=Object.keys(i),l=n.length;let a=0;for(;a<l;++a)t[n[a]]=pc(i[n[a]]);return t}return i}function G0(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function IM(i,t,n,l){if(!G0(i))return;const a=t[i],r=n[i];Dt(a)&&Dt(r)?eo(a,r,l):t[i]=pc(r)}function eo(i,t,n){const l=_e(t)?t:[t],a=l.length;if(!Dt(i))return i;n=n||{};const r=n.merger||IM;let u;for(let h=0;h<a;++h){if(u=l[h],!Dt(u))continue;const d=Object.keys(u);for(let m=0,p=d.length;m<p;++m)r(d[m],i,u,n)}return i}function ja(i,t){return eo(i,t,{merger:HM})}function HM(i,t,n){if(!G0(i))return;const l=t[i],a=n[i];Dt(l)&&Dt(a)?ja(l,a):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=pc(a))}const sv={"":i=>i,x:i=>i.x,y:i=>i.y};function BM(i){const t=i.split("."),n=[];let l="";for(const a of t)l+=a,l.endsWith("\\")?l=l.slice(0,-1)+".":(n.push(l),l="");return n}function UM(i){const t=BM(i);return n=>{for(const l of t){if(l==="")break;n=n&&n[l]}return n}}function _c(i,t){return(sv[t]||(sv[t]=UM(t)))(i)}function Id(i){return i.charAt(0).toUpperCase()+i.slice(1)}const yc=i=>typeof i<"u",Li=i=>typeof i=="function",lv=(i,t)=>{if(i.size!==t.size)return!1;for(const n of i)if(!t.has(n))return!1;return!0};function jM(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Se=Math.PI,An=2*Se,VM=An+Se,vc=Number.POSITIVE_INFINITY,FM=Se/180,pn=Se/2,ns=Se/4,av=Se*2/3,P0=Math.log10,yl=Math.sign;function Va(i,t,n){return Math.abs(i-t)<n}function ov(i){const t=Math.round(i);i=Va(i,t,i/1e3)?t:i;const n=Math.pow(10,Math.floor(P0(i))),l=i/n;return(l<=1?1:l<=2?2:l<=5?5:10)*n}function YM(i){const t=[],n=Math.sqrt(i);let l;for(l=1;l<n;l++)i%l===0&&(t.push(l),t.push(i/l));return n===(n|0)&&t.push(n),t.sort((a,r)=>a-r).pop(),t}function qM(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function no(i){return!qM(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function GM(i,t){const n=Math.round(i);return n-t<=i&&n+t>=i}function PM(i,t,n){let l,a,r;for(l=0,a=i.length;l<a;l++)r=i[l][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function us(i){return i*(Se/180)}function XM(i){return i*(180/Se)}function rv(i){if(!cn(i))return;let t=1,n=0;for(;Math.round(i*t)/t!==i;)t*=10,n++;return n}function QM(i,t){const n=t.x-i.x,l=t.y-i.y,a=Math.sqrt(n*n+l*l);let r=Math.atan2(l,n);return r<-.5*Se&&(r+=An),{angle:r,distance:a}}function Xf(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function WM(i,t){return(i-t+VM)%An-Se}function Ti(i){return(i%An+An)%An}function X0(i,t,n,l){const a=Ti(i),r=Ti(t),u=Ti(n),h=Ti(r-a),d=Ti(u-a),m=Ti(a-r),p=Ti(a-u);return a===r||a===u||l&&r===u||h>d&&m<p}function rn(i,t,n){return Math.max(t,Math.min(n,i))}function KM(i){return rn(i,-32768,32767)}function Ra(i,t,n,l=1e-6){return i>=Math.min(t,n)-l&&i<=Math.max(t,n)+l}function Hd(i,t,n){n=n||(u=>i[u]<t);let l=i.length-1,a=0,r;for(;l-a>1;)r=a+l>>1,n(r)?a=r:l=r;return{lo:a,hi:l}}const hs=(i,t,n,l)=>Hd(i,n,l?a=>{const r=i[a][t];return r<n||r===n&&i[a+1][t]===n}:a=>i[a][t]<n),ZM=(i,t,n)=>Hd(i,n,l=>i[l][t]>=n);function JM(i,t,n){let l=0,a=i.length;for(;l<a&&i[l]<t;)l++;for(;a>l&&i[a-1]>n;)a--;return l>0||a<i.length?i.slice(l,a):i}const Q0=["push","pop","shift","splice","unshift"];function $M(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Q0.forEach(n=>{const l="_onData"+Id(n),a=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value(...r){const u=a.apply(this,r);return i._chartjs.listeners.forEach(h=>{typeof h[l]=="function"&&h[l](...r)}),u}})})}function cv(i,t){const n=i._chartjs;if(!n)return;const l=n.listeners,a=l.indexOf(t);a!==-1&&l.splice(a,1),!(l.length>0)&&(Q0.forEach(r=>{delete i[r]}),delete i._chartjs)}function tD(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const W0=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function K0(i,t){let n=[],l=!1;return function(...a){n=a,l||(l=!0,W0.call(window,()=>{l=!1,i.apply(t,n)}))}}function eD(i,t){let n;return function(...l){return t?(clearTimeout(n),n=setTimeout(i,t,l)):i.apply(this,l),t}}const Z0=i=>i==="start"?"left":i==="end"?"right":"center",Qe=(i,t,n)=>i==="start"?t:i==="end"?n:(t+n)/2,nD=(i,t,n,l)=>i===(l?"left":"right")?n:i==="center"?(t+n)/2:t;function iD(i,t,n){const l=t.length;let a=0,r=l;if(i._sorted){const{iScale:u,vScale:h,_parsed:d}=i,m=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,p=u.axis,{min:y,max:v,minDefined:S,maxDefined:x}=u.getUserBounds();if(S){if(a=Math.min(hs(d,p,y).lo,n?l:hs(t,p,u.getPixelForValue(y)).lo),m){const C=d.slice(0,a+1).reverse().findIndex(M=>!jt(M[h.axis]));a-=Math.max(0,C)}a=rn(a,0,l-1)}if(x){let C=Math.max(hs(d,u.axis,v,!0).hi+1,n?0:hs(t,p,u.getPixelForValue(v),!0).hi+1);if(m){const M=d.slice(C-1).findIndex(k=>!jt(k[h.axis]));C+=Math.max(0,M)}r=rn(C,a,l)-a}else r=l-a}return{start:a,count:r}}function sD(i){const{xScale:t,yScale:n,_scaleRanges:l}=i,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!l)return i._scaleRanges=a,!0;const r=l.xmin!==t.min||l.xmax!==t.max||l.ymin!==n.min||l.ymax!==n.max;return Object.assign(l,a),r}const Br=i=>i===0||i===1,uv=(i,t,n)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*An/n)),hv=(i,t,n)=>Math.pow(2,-10*i)*Math.sin((i-t)*An/n)+1,Fa={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*pn)+1,easeOutSine:i=>Math.sin(i*pn),easeInOutSine:i=>-.5*(Math.cos(Se*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Br(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Br(i)?i:uv(i,.075,.3),easeOutElastic:i=>Br(i)?i:hv(i,.075,.3),easeInOutElastic(i){return Br(i)?i:i<.5?.5*uv(i*2,.1125,.45):.5+.5*hv(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Fa.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Fa.easeInBounce(i*2)*.5:Fa.easeOutBounce(i*2-1)*.5+.5};function Bd(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fv(i){return Bd(i)?i:new to(i)}function vf(i){return Bd(i)?i:new to(i).saturate(.5).darken(.1).hexString()}const lD=["x","y","borderWidth","radius","tension"],aD=["color","borderColor","backgroundColor"];function oD(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:aD},numbers:{type:"number",properties:lD}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function rD(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dv=new Map;function cD(i,t){t=t||{};const n=i+JSON.stringify(t);let l=dv.get(n);return l||(l=new Intl.NumberFormat(i,t),dv.set(n,l)),l}function J0(i,t,n){return cD(t,n).format(i)}const uD={values(i){return _e(i)?i:""+i},numeric(i,t,n){if(i===0)return"0";const l=this.chart.options.locale;let a,r=i;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),r=hD(i,n)}const u=P0(Math.abs(r)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),J0(i,l,d)}};function hD(i,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}var $0={formatters:uD};function fD(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _s=Object.create(null),Qf=Object.create(null);function Ya(i,t){if(!t)return i;const n=t.split(".");for(let l=0,a=n.length;l<a;++l){const r=n[l];i=i[r]||(i[r]=Object.create(null))}return i}function bf(i,t,n){return typeof t=="string"?eo(Ya(i,t),n):eo(Ya(i,""),t)}class dD{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=l=>l.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(l,a)=>vf(a.backgroundColor),this.hoverBorderColor=(l,a)=>vf(a.borderColor),this.hoverColor=(l,a)=>vf(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return bf(this,t,n)}get(t){return Ya(this,t)}describe(t,n){return bf(Qf,t,n)}override(t,n){return bf(_s,t,n)}route(t,n,l,a){const r=Ya(this,t),u=Ya(this,l),h="_"+n;Object.defineProperties(r,{[h]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[h],m=u[a];return Dt(d)?Object.assign({},m,d):St(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(n=>n(this))}}var $t=new dD({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oD,rD,fD]);function gD(i){return!i||jt(i.size)||jt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function gv(i,t,n,l,a){let r=t[a];return r||(r=t[a]=i.measureText(a).width,n.push(a)),r>l&&(l=r),l}function is(i,t,n){const l=i.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((t-a)*l)/l+a}function mv(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Wf(i,t,n,l){t1(i,t,n,l,null)}function t1(i,t,n,l,a){let r,u,h,d,m,p,y,v;const S=t.pointStyle,x=t.rotation,C=t.radius;let M=(x||0)*FM;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(n,l),i.rotate(M),i.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),i.restore();return}if(!(isNaN(C)||C<=0)){switch(i.beginPath(),S){default:a?i.ellipse(n,l,a/2,C,0,0,An):i.arc(n,l,C,0,An),i.closePath();break;case"triangle":p=a?a/2:C,i.moveTo(n+Math.sin(M)*p,l-Math.cos(M)*C),M+=av,i.lineTo(n+Math.sin(M)*p,l-Math.cos(M)*C),M+=av,i.lineTo(n+Math.sin(M)*p,l-Math.cos(M)*C),i.closePath();break;case"rectRounded":m=C*.516,d=C-m,u=Math.cos(M+ns)*d,y=Math.cos(M+ns)*(a?a/2-m:d),h=Math.sin(M+ns)*d,v=Math.sin(M+ns)*(a?a/2-m:d),i.arc(n-y,l-h,m,M-Se,M-pn),i.arc(n+v,l-u,m,M-pn,M),i.arc(n+y,l+h,m,M,M+pn),i.arc(n-v,l+u,m,M+pn,M+Se),i.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*C,p=a?a/2:d,i.rect(n-p,l-d,2*p,2*d);break}M+=ns;case"rectRot":y=Math.cos(M)*(a?a/2:C),u=Math.cos(M)*C,h=Math.sin(M)*C,v=Math.sin(M)*(a?a/2:C),i.moveTo(n-y,l-h),i.lineTo(n+v,l-u),i.lineTo(n+y,l+h),i.lineTo(n-v,l+u),i.closePath();break;case"crossRot":M+=ns;case"cross":y=Math.cos(M)*(a?a/2:C),u=Math.cos(M)*C,h=Math.sin(M)*C,v=Math.sin(M)*(a?a/2:C),i.moveTo(n-y,l-h),i.lineTo(n+y,l+h),i.moveTo(n+v,l-u),i.lineTo(n-v,l+u);break;case"star":y=Math.cos(M)*(a?a/2:C),u=Math.cos(M)*C,h=Math.sin(M)*C,v=Math.sin(M)*(a?a/2:C),i.moveTo(n-y,l-h),i.lineTo(n+y,l+h),i.moveTo(n+v,l-u),i.lineTo(n-v,l+u),M+=ns,y=Math.cos(M)*(a?a/2:C),u=Math.cos(M)*C,h=Math.sin(M)*C,v=Math.sin(M)*(a?a/2:C),i.moveTo(n-y,l-h),i.lineTo(n+y,l+h),i.moveTo(n+v,l-u),i.lineTo(n-v,l+u);break;case"line":u=a?a/2:Math.cos(M)*C,h=Math.sin(M)*C,i.moveTo(n-u,l-h),i.lineTo(n+u,l+h);break;case"dash":i.moveTo(n,l),i.lineTo(n+Math.cos(M)*(a?a/2:C),l+Math.sin(M)*C);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function io(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function Ud(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function jd(i){i.restore()}function mD(i,t,n,l,a){if(!t)return i.lineTo(n.x,n.y);if(a==="middle"){const r=(t.x+n.x)/2;i.lineTo(r,t.y),i.lineTo(r,n.y)}else a==="after"!=!!l?i.lineTo(t.x,n.y):i.lineTo(n.x,t.y);i.lineTo(n.x,n.y)}function pD(i,t,n,l){if(!t)return i.lineTo(n.x,n.y);i.bezierCurveTo(l?t.cp1x:t.cp2x,l?t.cp1y:t.cp2y,l?n.cp2x:n.cp1x,l?n.cp2y:n.cp1y,n.x,n.y)}function _D(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),jt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function yD(i,t,n,l,a){if(a.strikethrough||a.underline){const r=i.measureText(l),u=t-r.actualBoundingBoxLeft,h=t+r.actualBoundingBoxRight,d=n-r.actualBoundingBoxAscent,m=n+r.actualBoundingBoxDescent,p=a.strikethrough?(d+m)/2:m;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=a.decorationWidth||2,i.moveTo(u,p),i.lineTo(h,p),i.stroke()}}function vD(i,t){const n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function bc(i,t,n,l,a,r={}){const u=_e(t)?t:[t],h=r.strokeWidth>0&&r.strokeColor!=="";let d,m;for(i.save(),i.font=a.string,_D(i,r),d=0;d<u.length;++d)m=u[d],r.backdrop&&vD(i,r.backdrop),h&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),jt(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(m,n,l,r.maxWidth)),i.fillText(m,n,l,r.maxWidth),yD(i,n,l,m,r),l+=Number(a.lineHeight);i.restore()}function Kf(i,t){const{x:n,y:l,w:a,h:r,radius:u}=t;i.arc(n+u.topLeft,l+u.topLeft,u.topLeft,1.5*Se,Se,!0),i.lineTo(n,l+r-u.bottomLeft),i.arc(n+u.bottomLeft,l+r-u.bottomLeft,u.bottomLeft,Se,pn,!0),i.lineTo(n+a-u.bottomRight,l+r),i.arc(n+a-u.bottomRight,l+r-u.bottomRight,u.bottomRight,pn,0,!0),i.lineTo(n+a,l+u.topRight),i.arc(n+a-u.topRight,l+u.topRight,u.topRight,0,-pn,!0),i.lineTo(n+u.topLeft,l)}const bD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xD(i,t){const n=(""+i).match(bD);if(!n||n[1]==="normal")return t*1.2;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100;break}return t*i}const ED=i=>+i||0;function e1(i,t){const n={},l=Dt(t),a=l?Object.keys(t):t,r=Dt(i)?l?u=>St(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of a)n[u]=ED(r(u));return n}function CD(i){return e1(i,{top:"y",right:"x",bottom:"y",left:"x"})}function qa(i){return e1(i,["topLeft","topRight","bottomLeft","bottomRight"])}function yn(i){const t=CD(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ie(i,t){i=i||{},t=t||$t.font;let n=St(i.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let l=St(i.style,t.style);l&&!(""+l).match(SD)&&(console.warn('Invalid font style specified: "'+l+'"'),l=void 0);const a={family:St(i.family,t.family),lineHeight:xD(St(i.lineHeight,t.lineHeight),n),size:n,style:l,weight:St(i.weight,t.weight),string:""};return a.string=gD(a),a}function Ur(i,t,n,l){let a,r,u;for(a=0,r=i.length;a<r;++a)if(u=i[a],u!==void 0&&u!==void 0)return u}function TD(i,t,n){const{min:l,max:a}=i,r=LM(t,(a-l)/2),u=(h,d)=>n&&h===0?0:h+d;return{min:u(l,-Math.abs(r)),max:u(a,r)}}function bs(i,t){return Object.assign(Object.create(i),t)}function Vd(i,t=[""],n,l,a=()=>i[0]){const r=n||i;typeof l>"u"&&(l=l1("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:l,_getTarget:a,override:h=>Vd([h,...i],t,r,l)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return i1(h,d,()=>zD(d,t,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return _v(h).includes(d)},ownKeys(h){return _v(h)},set(h,d,m){const p=h._storage||(h._storage=a());return h[d]=p[d]=m,delete h._keys,!0}})}function vl(i,t,n,l){const a={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:n1(i,l),setContext:r=>vl(i,r,n,l),override:r=>vl(i.override(r),t,n,l)};return new Proxy(a,{deleteProperty(r,u){return delete r[u],delete i[u],!0},get(r,u,h){return i1(r,u,()=>MD(r,u,h))},getOwnPropertyDescriptor(r,u){return r._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(r,u,h){return i[u]=h,delete r[u],!0}})}function n1(i,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:l=t.indexable,_allKeys:a=t.allKeys}=i;return{allKeys:a,scriptable:n,indexable:l,isScriptable:Li(n)?n:()=>n,isIndexable:Li(l)?l:()=>l}}const AD=(i,t)=>i?i+Id(t):t,Fd=(i,t)=>Dt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function i1(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const l=n();return i[t]=l,l}function MD(i,t,n){const{_proxy:l,_context:a,_subProxy:r,_descriptors:u}=i;let h=l[t];return Li(h)&&u.isScriptable(t)&&(h=DD(t,h,i,n)),_e(h)&&h.length&&(h=wD(t,h,i,u.isIndexable)),Fd(t,h)&&(h=vl(h,a,r&&r[t],u)),h}function DD(i,t,n,l){const{_proxy:a,_context:r,_subProxy:u,_stack:h}=n;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=t(r,u||l);return h.delete(i),Fd(i,d)&&(d=Yd(a._scopes,a,i,d)),d}function wD(i,t,n,l){const{_proxy:a,_context:r,_subProxy:u,_descriptors:h}=n;if(typeof r.index<"u"&&l(i))return t[r.index%t.length];if(Dt(t[0])){const d=t,m=a._scopes.filter(p=>p!==d);t=[];for(const p of d){const y=Yd(m,a,i,p);t.push(vl(y,r,u&&u[i],h))}}return t}function s1(i,t,n){return Li(i)?i(t,n):i}const OD=(i,t)=>i===!0?t:typeof i=="string"?_c(t,i):void 0;function RD(i,t,n,l,a){for(const r of t){const u=OD(n,r);if(u){i.add(u);const h=s1(u._fallback,n,a);if(typeof h<"u"&&h!==n&&h!==l)return h}else if(u===!1&&typeof l<"u"&&n!==l)return null}return!1}function Yd(i,t,n,l){const a=t._rootScopes,r=s1(t._fallback,n,l),u=[...i,...a],h=new Set;h.add(l);let d=pv(h,u,n,r||n,l);return d===null||typeof r<"u"&&r!==n&&(d=pv(h,u,r,d,l),d===null)?!1:Vd(Array.from(h),[""],a,r,()=>ND(t,n,l))}function pv(i,t,n,l,a){for(;n;)n=RD(i,t,n,l,a);return n}function ND(i,t,n){const l=i._getTarget();t in l||(l[t]={});const a=l[t];return _e(a)&&Dt(n)?n:a||{}}function zD(i,t,n,l){let a;for(const r of t)if(a=l1(AD(r,i),n),typeof a<"u")return Fd(i,a)?Yd(n,l,i,a):a}function l1(i,t){for(const n of t){if(!n)continue;const l=n[i];if(typeof l<"u")return l}}function _v(i){let t=i._keys;return t||(t=i._keys=kD(i._scopes)),t}function kD(i){const t=new Set;for(const n of i)for(const l of Object.keys(n).filter(a=>!a.startsWith("_")))t.add(l);return Array.from(t)}const LD=Number.EPSILON||1e-14,bl=(i,t)=>t<i.length&&!i[t].skip&&i[t],a1=i=>i==="x"?"y":"x";function ID(i,t,n,l){const a=i.skip?t:i,r=t,u=n.skip?t:n,h=Xf(r,a),d=Xf(u,r);let m=h/(h+d),p=d/(h+d);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const y=l*m,v=l*p;return{previous:{x:r.x-y*(u.x-a.x),y:r.y-y*(u.y-a.y)},next:{x:r.x+v*(u.x-a.x),y:r.y+v*(u.y-a.y)}}}function HD(i,t,n){const l=i.length;let a,r,u,h,d,m=bl(i,0);for(let p=0;p<l-1;++p)if(d=m,m=bl(i,p+1),!(!d||!m)){if(Va(t[p],0,LD)){n[p]=n[p+1]=0;continue}a=n[p]/t[p],r=n[p+1]/t[p],h=Math.pow(a,2)+Math.pow(r,2),!(h<=9)&&(u=3/Math.sqrt(h),n[p]=a*u*t[p],n[p+1]=r*u*t[p])}}function BD(i,t,n="x"){const l=a1(n),a=i.length;let r,u,h,d=bl(i,0);for(let m=0;m<a;++m){if(u=h,h=d,d=bl(i,m+1),!h)continue;const p=h[n],y=h[l];u&&(r=(p-u[n])/3,h[`cp1${n}`]=p-r,h[`cp1${l}`]=y-r*t[m]),d&&(r=(d[n]-p)/3,h[`cp2${n}`]=p+r,h[`cp2${l}`]=y+r*t[m])}}function UD(i,t="x"){const n=a1(t),l=i.length,a=Array(l).fill(0),r=Array(l);let u,h,d,m=bl(i,0);for(u=0;u<l;++u)if(h=d,d=m,m=bl(i,u+1),!!d){if(m){const p=m[t]-d[t];a[u]=p!==0?(m[n]-d[n])/p:0}r[u]=h?m?yl(a[u-1])!==yl(a[u])?0:(a[u-1]+a[u])/2:a[u-1]:a[u]}HD(i,a,r),BD(i,r,t)}function jr(i,t,n){return Math.max(Math.min(i,n),t)}function jD(i,t){let n,l,a,r,u,h=io(i[0],t);for(n=0,l=i.length;n<l;++n)u=r,r=h,h=n<l-1&&io(i[n+1],t),r&&(a=i[n],u&&(a.cp1x=jr(a.cp1x,t.left,t.right),a.cp1y=jr(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=jr(a.cp2x,t.left,t.right),a.cp2y=jr(a.cp2y,t.top,t.bottom)))}function VD(i,t,n,l,a){let r,u,h,d;if(t.spanGaps&&(i=i.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")UD(i,a);else{let m=l?i[i.length-1]:i[0];for(r=0,u=i.length;r<u;++r)h=i[r],d=ID(m,h,i[Math.min(r+1,u-(l?0:1))%u],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,m=h}t.capBezierPoints&&jD(i,n)}function qd(){return typeof window<"u"&&typeof document<"u"}function Gd(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Sc(i,t,n){let l;return typeof i=="string"?(l=parseInt(i,10),i.indexOf("%")!==-1&&(l=l/100*t.parentNode[n])):l=i,l}const Nc=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function FD(i,t){return Nc(i).getPropertyValue(t)}const YD=["top","right","bottom","left"];function fs(i,t,n){const l={};n=n?"-"+n:"";for(let a=0;a<4;a++){const r=YD[a];l[r]=parseFloat(i[t+"-"+r+n])||0}return l.width=l.left+l.right,l.height=l.top+l.bottom,l}const qD=(i,t,n)=>(i>0||t>0)&&(!n||!n.shadowRoot);function GD(i,t){const n=i.touches,l=n&&n.length?n[0]:i,{offsetX:a,offsetY:r}=l;let u=!1,h,d;if(qD(a,r,i.target))h=a,d=r;else{const m=t.getBoundingClientRect();h=l.clientX-m.left,d=l.clientY-m.top,u=!0}return{x:h,y:d,box:u}}function os(i,t){if("native"in i)return i;const{canvas:n,currentDevicePixelRatio:l}=t,a=Nc(n),r=a.boxSizing==="border-box",u=fs(a,"padding"),h=fs(a,"border","width"),{x:d,y:m,box:p}=GD(i,n),y=u.left+(p&&h.left),v=u.top+(p&&h.top);let{width:S,height:x}=t;return r&&(S-=u.width+h.width,x-=u.height+h.height),{x:Math.round((d-y)/S*n.width/l),y:Math.round((m-v)/x*n.height/l)}}function PD(i,t,n){let l,a;if(t===void 0||n===void 0){const r=i&&Gd(i);if(!r)t=i.clientWidth,n=i.clientHeight;else{const u=r.getBoundingClientRect(),h=Nc(r),d=fs(h,"border","width"),m=fs(h,"padding");t=u.width-m.width-d.width,n=u.height-m.height-d.height,l=Sc(h.maxWidth,r,"clientWidth"),a=Sc(h.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:l||vc,maxHeight:a||vc}}const Mi=i=>Math.round(i*10)/10;function XD(i,t,n,l){const a=Nc(i),r=fs(a,"margin"),u=Sc(a.maxWidth,i,"clientWidth")||vc,h=Sc(a.maxHeight,i,"clientHeight")||vc,d=PD(i,t,n);let{width:m,height:p}=d;if(a.boxSizing==="content-box"){const v=fs(a,"border","width"),S=fs(a,"padding");m-=S.width+v.width,p-=S.height+v.height}return m=Math.max(0,m-r.width),p=Math.max(0,l?m/l:p-r.height),m=Mi(Math.min(m,u,d.maxWidth)),p=Mi(Math.min(p,h,d.maxHeight)),m&&!p&&(p=Mi(m/2)),(t!==void 0||n!==void 0)&&l&&d.height&&p>d.height&&(p=d.height,m=Mi(Math.floor(p*l))),{width:m,height:p}}function yv(i,t,n){const l=t||1,a=Mi(i.height*l),r=Mi(i.width*l);i.height=Mi(i.height),i.width=Mi(i.width);const u=i.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==l||u.height!==a||u.width!==r?(i.currentDevicePixelRatio=l,u.height=a,u.width=r,i.ctx.setTransform(l,0,0,l,0,0),!0):!1}const QD=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};qd()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function vv(i,t){const n=FD(i,t),l=n&&n.match(/^(\d+)(\.\d+)?px$/);return l?+l[1]:void 0}function rs(i,t,n,l){return{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)}}function WD(i,t,n,l){return{x:i.x+n*(t.x-i.x),y:l==="middle"?n<.5?i.y:t.y:l==="after"?n<1?i.y:t.y:n>0?t.y:i.y}}function KD(i,t,n,l){const a={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},u=rs(i,a,n),h=rs(a,r,n),d=rs(r,t,n),m=rs(u,h,n),p=rs(h,d,n);return rs(m,p,n)}const ZD=function(i,t){return{x(n){return i+i+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,l){return n-l},leftForLtr(n,l){return n-l}}},JD=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function dl(i,t,n){return i?ZD(t,n):JD()}function o1(i,t){let n,l;(t==="ltr"||t==="rtl")&&(n=i.canvas.style,l=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=l)}function r1(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function c1(i){return i==="angle"?{between:X0,compare:WM,normalize:Ti}:{between:Ra,compare:(t,n)=>t-n,normalize:t=>t}}function bv({start:i,end:t,count:n,loop:l,style:a}){return{start:i%n,end:t%n,loop:l&&(t-i+1)%n===0,style:a}}function $D(i,t,n){const{property:l,start:a,end:r}=n,{between:u,normalize:h}=c1(l),d=t.length;let{start:m,end:p,loop:y}=i,v,S;if(y){for(m+=d,p+=d,v=0,S=d;v<S&&u(h(t[m%d][l]),a,r);++v)m--,p--;m%=d,p%=d}return p<m&&(p+=d),{start:m,end:p,loop:y,style:i.style}}function tw(i,t,n){if(!n)return[i];const{property:l,start:a,end:r}=n,u=t.length,{compare:h,between:d,normalize:m}=c1(l),{start:p,end:y,loop:v,style:S}=$D(i,t,n),x=[];let C=!1,M=null,k,V,Y;const P=()=>d(a,Y,k)&&h(a,Y)!==0,j=()=>h(r,k)===0||d(r,Y,k),Q=()=>C||P(),U=()=>!C||j();for(let X=p,et=p;X<=y;++X)V=t[X%u],!V.skip&&(k=m(V[l]),k!==Y&&(C=d(k,a,r),M===null&&Q()&&(M=h(k,a)===0?X:et),M!==null&&U()&&(x.push(bv({start:M,end:X,loop:v,count:u,style:S})),M=null),et=X,Y=k));return M!==null&&x.push(bv({start:M,end:y,loop:v,count:u,style:S})),x}function ew(i,t){const n=[],l=i.segments;for(let a=0;a<l.length;a++){const r=tw(l[a],i.points,t);r.length&&n.push(...r)}return n}function nw(i,t,n,l){let a=0,r=t-1;if(n&&!l)for(;a<t&&!i[a].skip;)a++;for(;a<t&&i[a].skip;)a++;for(a%=t,n&&(r+=a);r>a&&i[r%t].skip;)r--;return r%=t,{start:a,end:r}}function iw(i,t,n,l){const a=i.length,r=[];let u=t,h=i[t],d;for(d=t+1;d<=n;++d){const m=i[d%a];m.skip||m.stop?h.skip||(l=!1,r.push({start:t%a,end:(d-1)%a,loop:l}),t=u=m.stop?d:null):(u=d,h.skip&&(t=d)),h=m}return u!==null&&r.push({start:t%a,end:u%a,loop:l}),r}function sw(i,t){const n=i.points,l=i.options.spanGaps,a=n.length;if(!a)return[];const r=!!i._loop,{start:u,end:h}=nw(n,a,r,l);if(l===!0)return Sv(i,[{start:u,end:h,loop:r}],n,t);const d=h<u?h+a:h,m=!!i._fullLoop&&u===0&&h===a-1;return Sv(i,iw(n,u,d,m),n,t)}function Sv(i,t,n,l){return!l||!l.setContext||!n?t:lw(i,t,n,l)}function lw(i,t,n,l){const a=i._chart.getContext(),r=xv(i.options),{_datasetIndex:u,options:{spanGaps:h}}=i,d=n.length,m=[];let p=r,y=t[0].start,v=y;function S(x,C,M,k){const V=h?-1:1;if(x!==C){for(x+=d;n[x%d].skip;)x-=V;for(;n[C%d].skip;)C+=V;x%d!==C%d&&(m.push({start:x%d,end:C%d,loop:M,style:k}),p=k,y=C%d)}}for(const x of t){y=h?y:x.start;let C=n[y%d],M;for(v=y+1;v<=x.end;v++){const k=n[v%d];M=xv(l.setContext(bs(a,{type:"segment",p0:C,p1:k,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:u}))),aw(M,p)&&S(y,v-1,x.loop,p),C=k,p=M}y<v-1&&S(y,v-1,x.loop,p)}return m}function xv(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function aw(i,t){if(!t)return!1;const n=[],l=function(a,r){return Bd(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(i,l)!==JSON.stringify(t,l)}function Vr(i,t,n){return i.options.clip?i[n]:t[n]}function ow(i,t){const{xScale:n,yScale:l}=i;return n&&l?{left:Vr(n,t,"left"),right:Vr(n,t,"right"),top:Vr(l,t,"top"),bottom:Vr(l,t,"bottom")}:t}function rw(i,t){const n=t._clip;if(n.disabled)return!1;const l=ow(t,i.chartArea);return{left:n.left===!1?0:l.left-(n.left===!0?0:n.left),right:n.right===!1?i.width:l.right+(n.right===!0?0:n.right),top:n.top===!1?0:l.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?i.height:l.bottom+(n.bottom===!0?0:n.bottom)}}class cw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,l,a){const r=n.listeners[a],u=n.duration;r.forEach(h=>h({chart:t,initial:n.initial,numSteps:u,currentStep:Math.min(l-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=W0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((l,a)=>{if(!l.running||!l.items.length)return;const r=l.items;let u=r.length-1,h=!1,d;for(;u>=0;--u)d=r[u],d._active?(d._total>l.duration&&(l.duration=d._total),d.tick(t),h=!0):(r[u]=r[r.length-1],r.pop());h&&(a.draw(),this._notify(a,l,t,"progress")),r.length||(l.running=!1,this._notify(a,l,t,"complete"),l.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let l=n.get(t);return l||(l={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,l)),l}listen(t,n,l){this._getAnims(t).listeners[n].push(l)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((l,a)=>Math.max(l,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const l=n.items;let a=l.length-1;for(;a>=0;--a)l[a].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Pn=new cw;const Ev="transparent",uw={boolean(i,t,n){return n>.5?t:i},color(i,t,n){const l=fv(i||Ev),a=l.valid&&fv(t||Ev);return a&&a.valid?a.mix(l,n).hexString():t},number(i,t,n){return i+(t-i)*n}};class hw{constructor(t,n,l,a){const r=n[l];a=Ur([t.to,a,r,t.from]);const u=Ur([t.from,r,a]);this._active=!0,this._fn=t.fn||uw[t.type||typeof u],this._easing=Fa[t.easing]||Fa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=l,this._from=u,this._to=a,this._promises=void 0}active(){return this._active}update(t,n,l){if(this._active){this._notify(!1);const a=this._target[this._prop],r=l-this._start,u=this._duration-r;this._start=l,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ur([t.to,n,a,t.from]),this._from=Ur([t.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,l=this._duration,a=this._prop,r=this._from,u=this._loop,h=this._to;let d;if(this._active=r!==h&&(u||n<l),!this._active){this._target[a]=h,this._notify(!0);return}if(n<0){this._target[a]=r;return}d=n/l%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(r,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,l)=>{t.push({res:n,rej:l})})}_notify(t){const n=t?"res":"rej",l=this._promises||[];for(let a=0;a<l.length;a++)l[a][n]()}}class u1{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Dt(t))return;const n=Object.keys($t.animation),l=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const r=t[a];if(!Dt(r))return;const u={};for(const h of n)u[h]=r[h];(_e(r.properties)&&r.properties||[a]).forEach(h=>{(h===a||!l.has(h))&&l.set(h,u)})})}_animateOptions(t,n){const l=n.options,a=dw(t,l);if(!a)return[];const r=this._createAnimations(a,l);return l.$shared&&fw(t.options.$animations,l).then(()=>{t.options=l},()=>{}),r}_createAnimations(t,n){const l=this._properties,a=[],r=t.$animations||(t.$animations={}),u=Object.keys(n),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const m=u[d];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,n));continue}const p=n[m];let y=r[m];const v=l.get(m);if(y)if(v&&y.active()){y.update(v,p,h);continue}else y.cancel();if(!v||!v.duration){t[m]=p;continue}r[m]=y=new hw(v,t,m,p),a.push(y)}return a}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const l=this._createAnimations(t,n);if(l.length)return Pn.add(this._chart,l),!0}}function fw(i,t){const n=[],l=Object.keys(t);for(let a=0;a<l.length;a++){const r=i[l[a]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function dw(i,t){if(!t)return;let n=i.options;if(!n){i.options=t;return}return n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Cv(i,t){const n=i&&i.options||{},l=n.reverse,a=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:l?r:a,end:l?a:r}}function gw(i,t,n){if(n===!1)return!1;const l=Cv(i,n),a=Cv(t,n);return{top:a.end,right:l.end,bottom:a.start,left:l.start}}function mw(i){let t,n,l,a;return Dt(i)?(t=i.top,n=i.right,l=i.bottom,a=i.left):t=n=l=a=i,{top:t,right:n,bottom:l,left:a,disabled:i===!1}}function h1(i,t){const n=[],l=i._getSortedDatasetMetas(t);let a,r;for(a=0,r=l.length;a<r;++a)n.push(l[a].index);return n}function Tv(i,t,n,l={}){const a=i.keys,r=l.mode==="single";let u,h,d,m;if(t===null)return;let p=!1;for(u=0,h=a.length;u<h;++u){if(d=+a[u],d===n){if(p=!0,l.all)continue;break}m=i.values[d],cn(m)&&(r||t===0||yl(t)===yl(m))&&(t+=m)}return!p&&!l.all?0:t}function pw(i,t){const{iScale:n,vScale:l}=t,a=n.axis==="x"?"x":"y",r=l.axis==="x"?"x":"y",u=Object.keys(i),h=new Array(u.length);let d,m,p;for(d=0,m=u.length;d<m;++d)p=u[d],h[d]={[a]:p,[r]:i[p]};return h}function Sf(i,t){const n=i&&i.options.stacked;return n||n===void 0&&t.stack!==void 0}function _w(i,t,n){return`${i.id}.${t.id}.${n.stack||n.type}`}function yw(i){const{min:t,max:n,minDefined:l,maxDefined:a}=i.getUserBounds();return{min:l?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function vw(i,t,n){const l=i[t]||(i[t]={});return l[n]||(l[n]={})}function Av(i,t,n,l){for(const a of t.getMatchingVisibleMetas(l).reverse()){const r=i[a.index];if(n&&r>0||!n&&r<0)return a.index}return null}function Mv(i,t){const{chart:n,_cachedMeta:l}=i,a=n._stacks||(n._stacks={}),{iScale:r,vScale:u,index:h}=l,d=r.axis,m=u.axis,p=_w(r,u,l),y=t.length;let v;for(let S=0;S<y;++S){const x=t[S],{[d]:C,[m]:M}=x,k=x._stacks||(x._stacks={});v=k[m]=vw(a,p,C),v[h]=M,v._top=Av(v,u,!0,l.type),v._bottom=Av(v,u,!1,l.type);const V=v._visualValues||(v._visualValues={});V[h]=M}}function xf(i,t){const n=i.scales;return Object.keys(n).filter(l=>n[l].axis===t).shift()}function bw(i,t){return bs(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Sw(i,t,n){return bs(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ta(i,t){const n=i.controller.index,l=i.vScale&&i.vScale.axis;if(l){t=t||i._parsed;for(const a of t){const r=a._stacks;if(!r||r[l]===void 0||r[l][n]===void 0)return;delete r[l][n],r[l]._visualValues!==void 0&&r[l]._visualValues[n]!==void 0&&delete r[l]._visualValues[n]}}}const Ef=i=>i==="reset"||i==="none",Dv=(i,t)=>t?i:Object.assign({},i),xw=(i,t,n)=>i&&!t.hidden&&t._stacked&&{keys:h1(n,!0),values:null};class f1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Sf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ta(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,l=this.getDataset(),a=(y,v,S,x)=>y==="x"?v:y==="r"?x:S,r=n.xAxisID=St(l.xAxisID,xf(t,"x")),u=n.yAxisID=St(l.yAxisID,xf(t,"y")),h=n.rAxisID=St(l.rAxisID,xf(t,"r")),d=n.indexAxis,m=n.iAxisID=a(d,r,u,h),p=n.vAxisID=a(d,u,r,h);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cv(this._data,this),t._stacked&&Ta(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),l=this._data;if(Dt(n)){const a=this._cachedMeta;this._data=pw(n,a)}else if(l!==n){if(l){cv(l,this);const a=this._cachedMeta;Ta(a),a._parsed=[]}n&&Object.isExtensible(n)&&$M(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,l=this.getDataset();let a=!1;this._dataCheck();const r=n._stacked;n._stacked=Sf(n.vScale,n),n.stack!==l.stack&&(a=!0,Ta(n),n.stack=l.stack),this._resyncElements(t),(a||r!==n._stacked)&&(Mv(this,n._parsed),n._stacked=Sf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),l=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(l,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:l,_data:a}=this,{iScale:r,_stacked:u}=l,h=r.axis;let d=t===0&&n===a.length?!0:l._sorted,m=t>0&&l._parsed[t-1],p,y,v;if(this._parsing===!1)l._parsed=a,l._sorted=!0,v=a;else{_e(a[t])?v=this.parseArrayData(l,a,t,n):Dt(a[t])?v=this.parseObjectData(l,a,t,n):v=this.parsePrimitiveData(l,a,t,n);const S=()=>y[h]===null||m&&y[h]<m[h];for(p=0;p<n;++p)l._parsed[p+t]=y=v[p],d&&(S()&&(d=!1),m=y);l._sorted=d}u&&Mv(this,v)}parsePrimitiveData(t,n,l,a){const{iScale:r,vScale:u}=t,h=r.axis,d=u.axis,m=r.getLabels(),p=r===u,y=new Array(a);let v,S,x;for(v=0,S=a;v<S;++v)x=v+l,y[v]={[h]:p||r.parse(m[x],x),[d]:u.parse(n[x],x)};return y}parseArrayData(t,n,l,a){const{xScale:r,yScale:u}=t,h=new Array(a);let d,m,p,y;for(d=0,m=a;d<m;++d)p=d+l,y=n[p],h[d]={x:r.parse(y[0],p),y:u.parse(y[1],p)};return h}parseObjectData(t,n,l,a){const{xScale:r,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(a);let p,y,v,S;for(p=0,y=a;p<y;++p)v=p+l,S=n[v],m[p]={x:r.parse(_c(S,h),v),y:u.parse(_c(S,d),v)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,l){const a=this.chart,r=this._cachedMeta,u=n[t.axis],h={keys:h1(a,!0),values:n._stacks[t.axis]._visualValues};return Tv(h,u,r.index,{mode:l})}updateRangeFromParsed(t,n,l,a){const r=l[n.axis];let u=r===null?NaN:r;const h=a&&l._stacks[n.axis];a&&h&&(a.values=h,u=Tv(a,r,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,n){const l=this._cachedMeta,a=l._parsed,r=l._sorted&&t===l.iScale,u=a.length,h=this._getOtherScale(t),d=xw(n,l,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=yw(h);let v,S;function x(){S=a[v];const C=S[h.axis];return!cn(S[t.axis])||p>C||y<C}for(v=0;v<u&&!(!x()&&(this.updateRangeFromParsed(m,t,S,d),r));++v);if(r){for(v=u-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(m,t,S,d);break}}return m}getAllParsedValues(t){const n=this._cachedMeta._parsed,l=[];let a,r,u;for(a=0,r=n.length;a<r;++a)u=n[a][t.axis],cn(u)&&l.push(u);return l}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,l=n.iScale,a=n.vScale,r=this.getParsed(t);return{label:l?""+l.getLabelForValue(r[l.axis]):"",value:a?""+a.getLabelForValue(r[a.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=mw(St(this.options.clip,gw(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,l=this._cachedMeta,a=l.data||[],r=n.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let p;for(l.dataset&&l.dataset.draw(t,r,h,d),p=h;p<h+d;++p){const y=a[p];y.hidden||(y.active&&m?u.push(y):y.draw(t,r))}for(p=0;p<u.length;++p)u[p].draw(t,r)}getStyle(t,n){const l=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(l):this.resolveDataElementOptions(t||0,l)}getContext(t,n,l){const a=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];r=u.$context||(u.$context=Sw(this.getContext(),t,u)),r.parsed=this.getParsed(t),r.raw=a.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=bw(this.chart.getContext(),this.index)),r.dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=l,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",l){const a=n==="active",r=this._cachedDataOpts,u=t+"-"+n,h=r[u],d=this.enableOptionSharing&&yc(l);if(h)return Dv(h,d);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,t),y=a?[`${t}Hover`,"hover",t,""]:[t,""],v=m.getOptionScopes(this.getDataset(),p),S=Object.keys($t.elements[t]),x=()=>this.getContext(l,a,n),C=m.resolveNamedOptions(v,S,x,y);return C.$shared&&(C.$shared=d,r[u]=Object.freeze(Dv(C,d))),C}_resolveAnimations(t,n,l){const a=this.chart,r=this._cachedDataOpts,u=`animation-${n}`,h=r[u];if(h)return h;let d;if(a.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(v,this.getContext(t,l,n))}const m=new u1(a,d&&d.animations);return d&&d._cacheable&&(r[u]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ef(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const l=this.resolveDataElementOptions(t,n),a=this._sharedOptions,r=this.getSharedOptions(l),u=this.includeOptions(n,r)||r!==a;return this.updateSharedOptions(r,n,l),{sharedOptions:r,includeOptions:u}}updateElement(t,n,l,a){Ef(a)?Object.assign(t,l):this._resolveAnimations(n,a).update(t,l)}updateSharedOptions(t,n,l){t&&!Ef(n)&&this._resolveAnimations(void 0,n).update(t,l)}_setStyle(t,n,l,a){t.active=a;const r=this.getStyle(n,a);this._resolveAnimations(n,l,a).update(t,{options:!a&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,l){this._setStyle(t,l,"active",!1)}setHoverStyle(t,n,l){this._setStyle(t,l,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,l=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const a=l.length,r=n.length,u=Math.min(r,a);u&&this.parse(0,u),r>a?this._insertElements(a,r-a,t):r<a&&this._removeElements(r,a-r)}_insertElements(t,n,l=!0){const a=this._cachedMeta,r=a.data,u=t+n;let h;const d=m=>{for(m.length+=n,h=m.length-1;h>=u;h--)m[h]=m[h-n]};for(d(r),h=t;h<u;++h)r[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,n),l&&this.updateElements(r,t,n,"reset")}updateElements(t,n,l,a){}_removeElements(t,n){const l=this._cachedMeta;if(this._parsing){const a=l._parsed.splice(t,n);l._stacked&&Ta(l,a)}l.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,l,a]=t;this[n](l,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const l=arguments.length-2;l&&this._sync(["_insertElements",t,l])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Ew extends f1{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:l,data:a=[],_dataset:r}=n,u=this.chart._animationsDisabled;let{start:h,count:d}=iD(n,a,u);this._drawStart=h,this._drawCount=d,sD(n)&&(h=0,d=a.length),l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!r._decimated,l.points=a;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(l,void 0,{animated:!u,options:m},t),this.updateElements(a,h,d,t)}updateElements(t,n,l,a){const r=a==="reset",{iScale:u,vScale:h,_stacked:d,_dataset:m}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,a),v=u.axis,S=h.axis,{spanGaps:x,segment:C}=this.options,M=no(x)?x:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||r||a==="none",V=n+l,Y=t.length;let P=n>0&&this.getParsed(n-1);for(let j=0;j<Y;++j){const Q=t[j],U=k?Q:{};if(j<n||j>=V){U.skip=!0;continue}const X=this.getParsed(j),et=jt(X[S]),ft=U[v]=u.getPixelForValue(X[v],j),lt=U[S]=r||et?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,X,d):X[S],j);U.skip=isNaN(ft)||isNaN(lt)||et,U.stop=j>0&&Math.abs(X[v]-P[v])>M,C&&(U.parsed=X,U.raw=m.data[j]),y&&(U.options=p||this.resolveDataElementOptions(j,Q.active?"active":a)),k||this.updateElement(Q,j,U,a),P=X}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,l=n.options&&n.options.borderWidth||0,a=t.data||[];if(!a.length)return l;const r=a[0].size(this.resolveDataElementOptions(0)),u=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(l,r,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ss(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pd{static override(t){Object.assign(Pd.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ss()}parse(){return ss()}format(){return ss()}add(){return ss()}diff(){return ss()}startOf(){return ss()}endOf(){return ss()}}var Cw={_date:Pd};function Tw(i,t,n,l){const{controller:a,data:r,_sorted:u}=i,h=a._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&r.length){const m=h._reversePixels?ZM:hs;if(l){if(a._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const v=m(r,t,n-y),S=m(r,t,n+y);return{lo:v.lo,hi:S.hi}}}}else{const p=m(r,t,n);if(d){const{vScale:y}=a._cachedMeta,{_parsed:v}=i,S=v.slice(0,p.lo+1).reverse().findIndex(C=>!jt(C[y.axis]));p.lo-=Math.max(0,S);const x=v.slice(p.hi).findIndex(C=>!jt(C[y.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:r.length-1}}function zc(i,t,n,l,a){const r=i.getSortedVisibleDatasetMetas(),u=n[t];for(let h=0,d=r.length;h<d;++h){const{index:m,data:p}=r[h],{lo:y,hi:v}=Tw(r[h],t,u,a);for(let S=y;S<=v;++S){const x=p[S];x.skip||l(x,m,S)}}}function Aw(i){const t=i.indexOf("x")!==-1,n=i.indexOf("y")!==-1;return function(l,a){const r=t?Math.abs(l.x-a.x):0,u=n?Math.abs(l.y-a.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(u,2))}}function Cf(i,t,n,l,a){const r=[];return!a&&!i.isPointInArea(t)||zc(i,n,t,function(h,d,m){!a&&!io(h,i.chartArea,0)||h.inRange(t.x,t.y,l)&&r.push({element:h,datasetIndex:d,index:m})},!0),r}function Mw(i,t,n,l){let a=[];function r(u,h,d){const{startAngle:m,endAngle:p}=u.getProps(["startAngle","endAngle"],l),{angle:y}=QM(u,{x:t.x,y:t.y});X0(y,m,p)&&a.push({element:u,datasetIndex:h,index:d})}return zc(i,n,t,r),a}function Dw(i,t,n,l,a,r){let u=[];const h=Aw(n);let d=Number.POSITIVE_INFINITY;function m(p,y,v){const S=p.inRange(t.x,t.y,a);if(l&&!S)return;const x=p.getCenterPoint(a);if(!(!!r||i.isPointInArea(x))&&!S)return;const M=h(t,x);M<d?(u=[{element:p,datasetIndex:y,index:v}],d=M):M===d&&u.push({element:p,datasetIndex:y,index:v})}return zc(i,n,t,m),u}function Tf(i,t,n,l,a,r){return!r&&!i.isPointInArea(t)?[]:n==="r"&&!l?Mw(i,t,n,a):Dw(i,t,n,l,a,r)}function wv(i,t,n,l,a){const r=[],u=n==="x"?"inXRange":"inYRange";let h=!1;return zc(i,n,t,(d,m,p)=>{d[u]&&d[u](t[n],a)&&(r.push({element:d,datasetIndex:m,index:p}),h=h||d.inRange(t.x,t.y,a))}),l&&!h?[]:r}var ww={modes:{index(i,t,n,l){const a=os(t,i),r=n.axis||"x",u=n.includeInvisible||!1,h=n.intersect?Cf(i,a,r,l,u):Tf(i,a,r,!1,l,u),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(m=>{const p=h[0].index,y=m.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:m.index,index:p})}),d):[]},dataset(i,t,n,l){const a=os(t,i),r=n.axis||"xy",u=n.includeInvisible||!1;let h=n.intersect?Cf(i,a,r,l,u):Tf(i,a,r,!1,l,u);if(h.length>0){const d=h[0].datasetIndex,m=i.getDatasetMeta(d).data;h=[];for(let p=0;p<m.length;++p)h.push({element:m[p],datasetIndex:d,index:p})}return h},point(i,t,n,l){const a=os(t,i),r=n.axis||"xy",u=n.includeInvisible||!1;return Cf(i,a,r,l,u)},nearest(i,t,n,l){const a=os(t,i),r=n.axis||"xy",u=n.includeInvisible||!1;return Tf(i,a,r,n.intersect,l,u)},x(i,t,n,l){const a=os(t,i);return wv(i,a,"x",n.intersect,l)},y(i,t,n,l){const a=os(t,i);return wv(i,a,"y",n.intersect,l)}}};const d1=["left","top","right","bottom"];function Aa(i,t){return i.filter(n=>n.pos===t)}function Ov(i,t){return i.filter(n=>d1.indexOf(n.pos)===-1&&n.box.axis===t)}function Ma(i,t){return i.sort((n,l)=>{const a=t?l:n,r=t?n:l;return a.weight===r.weight?a.index-r.index:a.weight-r.weight})}function Ow(i){const t=[];let n,l,a,r,u,h;for(n=0,l=(i||[]).length;n<l;++n)a=i[n],{position:r,options:{stack:u,stackWeight:h=1}}=a,t.push({index:n,box:a,pos:r,horizontal:a.isHorizontal(),weight:a.weight,stack:u&&r+u,stackWeight:h});return t}function Rw(i){const t={};for(const n of i){const{stack:l,pos:a,stackWeight:r}=n;if(!l||!d1.includes(a))continue;const u=t[l]||(t[l]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=r}return t}function Nw(i,t){const n=Rw(i),{vBoxMaxWidth:l,hBoxMaxHeight:a}=t;let r,u,h;for(r=0,u=i.length;r<u;++r){h=i[r];const{fullSize:d}=h.box,m=n[h.stack],p=m&&h.stackWeight/m.weight;h.horizontal?(h.width=p?p*l:d&&t.availableWidth,h.height=a):(h.width=l,h.height=p?p*a:d&&t.availableHeight)}return n}function zw(i){const t=Ow(i),n=Ma(t.filter(m=>m.box.fullSize),!0),l=Ma(Aa(t,"left"),!0),a=Ma(Aa(t,"right")),r=Ma(Aa(t,"top"),!0),u=Ma(Aa(t,"bottom")),h=Ov(t,"x"),d=Ov(t,"y");return{fullSize:n,leftAndTop:l.concat(r),rightAndBottom:a.concat(d).concat(u).concat(h),chartArea:Aa(t,"chartArea"),vertical:l.concat(a).concat(d),horizontal:r.concat(u).concat(h)}}function Rv(i,t,n,l){return Math.max(i[n],t[n])+Math.max(i[l],t[l])}function g1(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function kw(i,t,n,l){const{pos:a,box:r}=n,u=i.maxPadding;if(!Dt(a)){n.size&&(i[a]-=n.size);const y=l[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,i[a]+=n.size}r.getPadding&&g1(u,r.getPadding());const h=Math.max(0,t.outerWidth-Rv(u,i,"left","right")),d=Math.max(0,t.outerHeight-Rv(u,i,"top","bottom")),m=h!==i.w,p=d!==i.h;return i.w=h,i.h=d,n.horizontal?{same:m,other:p}:{same:p,other:m}}function Lw(i){const t=i.maxPadding;function n(l){const a=Math.max(t[l]-i[l],0);return i[l]+=a,a}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}function Iw(i,t){const n=t.maxPadding;function l(a){const r={left:0,top:0,right:0,bottom:0};return a.forEach(u=>{r[u]=Math.max(t[u],n[u])}),r}return l(i?["left","right"]:["top","bottom"])}function Na(i,t,n,l){const a=[];let r,u,h,d,m,p;for(r=0,u=i.length,m=0;r<u;++r){h=i[r],d=h.box,d.update(h.width||t.w,h.height||t.h,Iw(h.horizontal,t));const{same:y,other:v}=kw(t,n,h,l);m|=y&&a.length,p=p||v,d.fullSize||a.push(h)}return m&&Na(a,t,n,l)||p}function Fr(i,t,n,l,a){i.top=n,i.left=t,i.right=t+l,i.bottom=n+a,i.width=l,i.height=a}function Nv(i,t,n,l){const a=n.padding;let{x:r,y:u}=t;for(const h of i){const d=h.box,m=l[h.stack]||{placed:0,weight:1},p=h.stackWeight/m.weight||1;if(h.horizontal){const y=t.w*p,v=m.size||d.height;yc(m.start)&&(u=m.start),d.fullSize?Fr(d,a.left,u,n.outerWidth-a.right-a.left,v):Fr(d,t.left+m.placed,u,y,v),m.start=u,m.placed+=y,u=d.bottom}else{const y=t.h*p,v=m.size||d.width;yc(m.start)&&(r=m.start),d.fullSize?Fr(d,r,a.top,v,n.outerHeight-a.bottom-a.top):Fr(d,r,t.top+m.placed,v,y),m.start=r,m.placed+=y,r=d.right}}t.x=r,t.y=u}var Di={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},i.boxes.push(t)},removeBox(i,t){const n=i.boxes?i.boxes.indexOf(t):-1;n!==-1&&i.boxes.splice(n,1)},configure(i,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(i,t,n,l){if(!i)return;const a=yn(i.options.layout.padding),r=Math.max(t-a.width,0),u=Math.max(n-a.height,0),h=zw(i.boxes),d=h.vertical,m=h.horizontal;Nt(i.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=d.reduce((C,M)=>M.box.options&&M.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:r,availableHeight:u,vBoxMaxWidth:r/2/p,hBoxMaxHeight:u/2}),v=Object.assign({},a);g1(v,yn(l));const S=Object.assign({maxPadding:v,w:r,h:u,x:a.left,y:a.top},a),x=Nw(d.concat(m),y);Na(h.fullSize,S,y,x),Na(d,S,y,x),Na(m,S,y,x)&&Na(d,S,y,x),Lw(S),Nv(h.leftAndTop,S,y,x),S.x+=S.w,S.y+=S.h,Nv(h.rightAndBottom,S,y,x),i.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Nt(h.chartArea,C=>{const M=C.box;Object.assign(M,i.chartArea),M.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class m1{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,l){}removeEventListener(t,n,l){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,l,a){return n=Math.max(0,n||t.width),l=l||t.height,{width:n,height:Math.max(0,a?Math.floor(n/a):l)}}isAttached(t){return!0}updateConfig(t){}}class Hw extends m1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Wr="$chartjs",Bw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zv=i=>i===null||i==="";function Uw(i,t){const n=i.style,l=i.getAttribute("height"),a=i.getAttribute("width");if(i[Wr]={initial:{height:l,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",zv(a)){const r=vv(i,"width");r!==void 0&&(i.width=r)}if(zv(l))if(i.style.height==="")i.height=i.width/(t||2);else{const r=vv(i,"height");r!==void 0&&(i.height=r)}return i}const p1=QD?{passive:!0}:!1;function jw(i,t,n){i&&i.addEventListener(t,n,p1)}function Vw(i,t,n){i&&i.canvas&&i.canvas.removeEventListener(t,n,p1)}function Fw(i,t){const n=Bw[i.type]||i.type,{x:l,y:a}=os(i,t);return{type:n,chart:t,native:i,x:l!==void 0?l:null,y:a!==void 0?a:null}}function xc(i,t){for(const n of i)if(n===t||n.contains(t))return!0}function Yw(i,t,n){const l=i.canvas,a=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||xc(h.addedNodes,l),u=u&&!xc(h.removedNodes,l);u&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function qw(i,t,n){const l=i.canvas,a=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||xc(h.removedNodes,l),u=u&&!xc(h.addedNodes,l);u&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const so=new Map;let kv=0;function _1(){const i=window.devicePixelRatio;i!==kv&&(kv=i,so.forEach((t,n)=>{n.currentDevicePixelRatio!==i&&t()}))}function Gw(i,t){so.size||window.addEventListener("resize",_1),so.set(i,t)}function Pw(i){so.delete(i),so.size||window.removeEventListener("resize",_1)}function Xw(i,t,n){const l=i.canvas,a=l&&Gd(l);if(!a)return;const r=K0((h,d)=>{const m=a.clientWidth;n(h,d),m<a.clientWidth&&n()},window),u=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,p=d.contentRect.height;m===0&&p===0||r(m,p)});return u.observe(a),Gw(i,r),u}function Af(i,t,n){n&&n.disconnect(),t==="resize"&&Pw(i)}function Qw(i,t,n){const l=i.canvas,a=K0(r=>{i.ctx!==null&&n(Fw(r,i))},i);return jw(l,t,a),a}class Ww extends m1{acquireContext(t,n){const l=t&&t.getContext&&t.getContext("2d");return l&&l.canvas===t?(Uw(t,n),l):null}releaseContext(t){const n=t.canvas;if(!n[Wr])return!1;const l=n[Wr].initial;["height","width"].forEach(r=>{const u=l[r];jt(u)?n.removeAttribute(r):n.setAttribute(r,u)});const a=l.style||{};return Object.keys(a).forEach(r=>{n.style[r]=a[r]}),n.width=n.width,delete n[Wr],!0}addEventListener(t,n,l){this.removeEventListener(t,n);const a=t.$proxies||(t.$proxies={}),u={attach:Yw,detach:qw,resize:Xw}[n]||Qw;a[n]=u(t,n,l)}removeEventListener(t,n){const l=t.$proxies||(t.$proxies={}),a=l[n];if(!a)return;({attach:Af,detach:Af,resize:Af}[n]||Vw)(t,n,a),l[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,l,a){return XD(t,n,l,a)}isAttached(t){const n=t&&Gd(t);return!!(n&&n.isConnected)}}function Kw(i){return!qd()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Hw:Ww}class Cl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:l}=this.getProps(["x","y"],t);return{x:n,y:l}}hasValue(){return no(this.x)&&no(this.y)}getProps(t,n){const l=this.$animations;if(!n||!l)return this;const a={};return t.forEach(r=>{a[r]=l[r]&&l[r].active()?l[r]._to:this[r]}),a}}function Zw(i,t){const n=i.options.ticks,l=Jw(i),a=Math.min(n.maxTicksLimit||l,l),r=n.major.enabled?tO(t):[],u=r.length,h=r[0],d=r[u-1],m=[];if(u>a)return eO(t,m,r,u/a),m;const p=$w(r,t,a);if(u>0){let y,v;const S=u>1?Math.round((d-h)/(u-1)):null;for(Yr(t,m,p,jt(S)?0:h-S,h),y=0,v=u-1;y<v;y++)Yr(t,m,p,r[y],r[y+1]);return Yr(t,m,p,d,jt(S)?t.length:d+S),m}return Yr(t,m,p),m}function Jw(i){const t=i.options.offset,n=i._tickSize(),l=i._length/n+(t?0:1),a=i._maxLength/n;return Math.floor(Math.min(l,a))}function $w(i,t,n){const l=nO(i),a=t.length/n;if(!l)return Math.max(a,1);const r=YM(l);for(let u=0,h=r.length-1;u<h;u++){const d=r[u];if(d>a)return d}return Math.max(a,1)}function tO(i){const t=[];let n,l;for(n=0,l=i.length;n<l;n++)i[n].major&&t.push(n);return t}function eO(i,t,n,l){let a=0,r=n[0],u;for(l=Math.ceil(l),u=0;u<i.length;u++)u===r&&(t.push(i[u]),a++,r=n[a*l])}function Yr(i,t,n,l,a){const r=St(l,0),u=Math.min(St(a,i.length),i.length);let h=0,d,m,p;for(n=Math.ceil(n),a&&(d=a-l,n=d/Math.floor(d/n)),p=r;p<0;)h++,p=Math.round(r+h*n);for(m=Math.max(r,0);m<u;m++)m===p&&(t.push(i[m]),h++,p=Math.round(r+h*n))}function nO(i){const t=i.length;let n,l;if(t<2)return!1;for(l=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==l)return!1;return l}const iO=i=>i==="left"?"right":i==="right"?"left":i,Lv=(i,t,n)=>t==="top"||t==="left"?i[t]+n:i[t]-n,Iv=(i,t)=>Math.min(t||i,i);function Hv(i,t){const n=[],l=i.length/t,a=i.length;let r=0;for(;r<a;r+=l)n.push(i[Math.floor(r)]);return n}function sO(i,t,n){const l=i.ticks.length,a=Math.min(t,l-1),r=i._startPixel,u=i._endPixel,h=1e-6;let d=i.getPixelForTick(a),m;if(!(n&&(l===1?m=Math.max(d-r,u-d):t===0?m=(i.getPixelForTick(1)-d)/2:m=(d-i.getPixelForTick(a-1))/2,d+=a<t?m:-m,d<r-h||d>u+h)))return d}function lO(i,t){Nt(i,n=>{const l=n.gc,a=l.length/2;let r;if(a>t){for(r=0;r<a;++r)delete n.data[l[r]];l.splice(0,a)}})}function Da(i){return i.drawTicks?i.tickLength:0}function Bv(i,t){if(!i.display)return 0;const n=Ie(i.font,t),l=yn(i.padding);return(_e(i.text)?i.text.length:1)*n.lineHeight+l.height}function aO(i,t){return bs(i,{scale:t,type:"scale"})}function oO(i,t,n){return bs(i,{tick:n,index:t,type:"tick"})}function rO(i,t,n){let l=Z0(i);return(n&&t!=="right"||!n&&t==="right")&&(l=iO(l)),l}function cO(i,t,n,l){const{top:a,left:r,bottom:u,right:h,chart:d}=i,{chartArea:m,scales:p}=d;let y=0,v,S,x;const C=u-a,M=h-r;if(i.isHorizontal()){if(S=Qe(l,r,h),Dt(n)){const k=Object.keys(n)[0],V=n[k];x=p[k].getPixelForValue(V)+C-t}else n==="center"?x=(m.bottom+m.top)/2+C-t:x=Lv(i,n,t);v=h-r}else{if(Dt(n)){const k=Object.keys(n)[0],V=n[k];S=p[k].getPixelForValue(V)-M+t}else n==="center"?S=(m.left+m.right)/2-M+t:S=Lv(i,n,t);x=Qe(l,u,a),y=n==="left"?-pn:pn}return{titleX:S,titleY:x,maxWidth:v,rotation:y}}class Tl extends Cl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:l,_suggestedMax:a}=this;return t=En(t,Number.POSITIVE_INFINITY),n=En(n,Number.NEGATIVE_INFINITY),l=En(l,Number.POSITIVE_INFINITY),a=En(a,Number.NEGATIVE_INFINITY),{min:En(t,l),max:En(n,a),minDefined:cn(t),maxDefined:cn(n)}}getMinMax(t){let{min:n,max:l,minDefined:a,maxDefined:r}=this.getUserBounds(),u;if(a&&r)return{min:n,max:l};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)u=h[d].controller.getMinMax(this,t),a||(n=Math.min(n,u.min)),r||(l=Math.max(l,u.max));return n=r&&n>l?l:n,l=a&&n>l?n:l,{min:En(n,En(l,n)),max:En(l,En(n,l))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qt(this.options.beforeUpdate,[this])}update(t,n,l){const{beginAtZero:a,grace:r,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=l=Object.assign({left:0,right:0,top:0,bottom:0},l),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+l.left+l.right:this.height+l.top+l.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=TD(this,r,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Hv(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=Zw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,l;this.isHorizontal()?(n=this.left,l=this.right):(n=this.top,l=this.bottom,t=!t),this._startPixel=n,this._endPixel=l,this._reversePixels=t,this._length=l-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qt(this.options.afterUpdate,[this])}beforeSetDimensions(){qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),qt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let l,a,r;for(l=0,a=t.length;l<a;l++)r=t[l],r.label=qt(n.callback,[r.value,l,t],this)}afterTickToLabelConversion(){qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,l=Iv(this.ticks.length,t.ticks.maxTicksLimit),a=n.minRotation||0,r=n.maxRotation;let u=a,h,d,m;if(!this._isVisible()||!n.display||a>=r||l<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,S=rn(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/l:S/(l-1),y+6>h&&(h=S/(l-(t.offset?.5:1)),d=this.maxHeight-Da(t.grid)-n.padding-Bv(t.title,this.chart.options.font),m=Math.sqrt(y*y+v*v),u=XM(Math.min(Math.asin(rn((p.highest.height+6)/h,-1,1)),Math.asin(rn(d/m,-1,1))-Math.asin(rn(v/m,-1,1)))),u=Math.max(a,Math.min(r,u))),this.labelRotation=u}afterCalculateLabelRotation(){qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:l,title:a,grid:r}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=Bv(a,n.options.font);if(h?(t.width=this.maxWidth,t.height=Da(r)+d):(t.height=this.maxHeight,t.width=Da(r)+d),l.display&&this.ticks.length){const{first:m,last:p,widest:y,highest:v}=this._getLabelSizes(),S=l.padding*2,x=us(this.labelRotation),C=Math.cos(x),M=Math.sin(x);if(h){const k=l.mirror?0:M*y.width+C*v.height;t.height=Math.min(this.maxHeight,t.height+k+S)}else{const k=l.mirror?0:C*y.width+M*v.height;t.width=Math.min(this.maxWidth,t.width+k+S)}this._calculatePadding(m,p,M,C)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,l,a){const{ticks:{align:r,padding:u},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,S=0;d?m?(v=a*t.width,S=l*n.height):(v=l*t.height,S=a*n.width):r==="start"?S=n.width:r==="end"?v=t.width:r!=="inner"&&(v=t.width/2,S=n.width/2),this.paddingLeft=Math.max((v-p+u)*this.width/(this.width-p),0),this.paddingRight=Math.max((S-y+u)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;r==="start"?(p=0,y=t.height):r==="end"&&(p=n.height,y=0),this.paddingTop=p+u,this.paddingBottom=y+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,l;for(n=0,l=t.length;n<l;n++)jt(t[n].label)&&(t.splice(n,1),l--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let l=this.ticks;n<l.length&&(l=Hv(l,n)),this._labelSizes=t=this._computeLabelSizes(l,l.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,l){const{ctx:a,_longestTextCache:r}=this,u=[],h=[],d=Math.floor(n/Iv(n,l));let m=0,p=0,y,v,S,x,C,M,k,V,Y,P,j;for(y=0;y<n;y+=d){if(x=t[y].label,C=this._resolveTickFontOptions(y),a.font=M=C.string,k=r[M]=r[M]||{data:{},gc:[]},V=C.lineHeight,Y=P=0,!jt(x)&&!_e(x))Y=gv(a,k.data,k.gc,Y,x),P=V;else if(_e(x))for(v=0,S=x.length;v<S;++v)j=x[v],!jt(j)&&!_e(j)&&(Y=gv(a,k.data,k.gc,Y,j),P+=V);u.push(Y),h.push(P),m=Math.max(Y,m),p=Math.max(P,p)}lO(r,n);const Q=u.indexOf(m),U=h.indexOf(p),X=et=>({width:u[et]||0,height:h[et]||0});return{first:X(0),last:X(n-1),widest:X(Q),highest:X(U),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return KM(this._alignToPixels?is(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const l=n[t];return l.$context||(l.$context=oO(this.getContext(),t,l))}return this.$context||(this.$context=aO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=us(this.labelRotation),l=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),r=this._getLabelSizes(),u=t.autoSkipPadding||0,h=r?r.widest.width+u:0,d=r?r.highest.height+u:0;return this.isHorizontal()?d*l>h*a?h/l:d/a:d*a<h*l?d/l:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,l=this.chart,a=this.options,{grid:r,position:u,border:h}=a,d=r.offset,m=this.isHorizontal(),y=this.ticks.length+(d?1:0),v=Da(r),S=[],x=h.setContext(this.getContext()),C=x.display?x.width:0,M=C/2,k=function(N){return is(l,N,C)};let V,Y,P,j,Q,U,X,et,ft,lt,at,Pt;if(u==="top")V=k(this.bottom),U=this.bottom-v,et=V-M,lt=k(t.top)+M,Pt=t.bottom;else if(u==="bottom")V=k(this.top),lt=t.top,Pt=k(t.bottom)-M,U=V+M,et=this.top+v;else if(u==="left")V=k(this.right),Q=this.right-v,X=V-M,ft=k(t.left)+M,at=t.right;else if(u==="right")V=k(this.left),ft=t.left,at=k(t.right)-M,Q=V+M,X=this.left+v;else if(n==="x"){if(u==="center")V=k((t.top+t.bottom)/2+.5);else if(Dt(u)){const N=Object.keys(u)[0],F=u[N];V=k(this.chart.scales[N].getPixelForValue(F))}lt=t.top,Pt=t.bottom,U=V+M,et=U+v}else if(n==="y"){if(u==="center")V=k((t.left+t.right)/2);else if(Dt(u)){const N=Object.keys(u)[0],F=u[N];V=k(this.chart.scales[N].getPixelForValue(F))}Q=V-M,X=Q-v,ft=t.left,at=t.right}const te=St(a.ticks.maxTicksLimit,y),xt=Math.max(1,Math.ceil(y/te));for(Y=0;Y<y;Y+=xt){const N=this.getContext(Y),F=r.setContext(N),$=h.setContext(N),Et=F.lineWidth,bt=F.color,A=$.dash||[],H=$.dashOffset,G=F.tickWidth,W=F.tickColor,it=F.tickBorderDash||[],ot=F.tickBorderDashOffset;P=sO(this,Y,d),P!==void 0&&(j=is(l,P,Et),m?Q=X=ft=at=j:U=et=lt=Pt=j,S.push({tx1:Q,ty1:U,tx2:X,ty2:et,x1:ft,y1:lt,x2:at,y2:Pt,width:Et,color:bt,borderDash:A,borderDashOffset:H,tickWidth:G,tickColor:W,tickBorderDash:it,tickBorderDashOffset:ot}))}return this._ticksLength=y,this._borderValue=V,S}_computeLabelItems(t){const n=this.axis,l=this.options,{position:a,ticks:r}=l,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:p,mirror:y}=r,v=Da(l.grid),S=v+p,x=y?-p:S,C=-us(this.labelRotation),M=[];let k,V,Y,P,j,Q,U,X,et,ft,lt,at,Pt="middle";if(a==="top")Q=this.bottom-x,U=this._getXAxisLabelAlignment();else if(a==="bottom")Q=this.top+x,U=this._getXAxisLabelAlignment();else if(a==="left"){const xt=this._getYAxisLabelAlignment(v);U=xt.textAlign,j=xt.x}else if(a==="right"){const xt=this._getYAxisLabelAlignment(v);U=xt.textAlign,j=xt.x}else if(n==="x"){if(a==="center")Q=(t.top+t.bottom)/2+S;else if(Dt(a)){const xt=Object.keys(a)[0],N=a[xt];Q=this.chart.scales[xt].getPixelForValue(N)+S}U=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")j=(t.left+t.right)/2-S;else if(Dt(a)){const xt=Object.keys(a)[0],N=a[xt];j=this.chart.scales[xt].getPixelForValue(N)}U=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(d==="start"?Pt="top":d==="end"&&(Pt="bottom"));const te=this._getLabelSizes();for(k=0,V=h.length;k<V;++k){Y=h[k],P=Y.label;const xt=r.setContext(this.getContext(k));X=this.getPixelForTick(k)+r.labelOffset,et=this._resolveTickFontOptions(k),ft=et.lineHeight,lt=_e(P)?P.length:1;const N=lt/2,F=xt.color,$=xt.textStrokeColor,Et=xt.textStrokeWidth;let bt=U;u?(j=X,U==="inner"&&(k===V-1?bt=this.options.reverse?"left":"right":k===0?bt=this.options.reverse?"right":"left":bt="center"),a==="top"?m==="near"||C!==0?at=-lt*ft+ft/2:m==="center"?at=-te.highest.height/2-N*ft+ft:at=-te.highest.height+ft/2:m==="near"||C!==0?at=ft/2:m==="center"?at=te.highest.height/2-N*ft:at=te.highest.height-lt*ft,y&&(at*=-1),C!==0&&!xt.showLabelBackdrop&&(j+=ft/2*Math.sin(C))):(Q=X,at=(1-lt)*ft/2);let A;if(xt.showLabelBackdrop){const H=yn(xt.backdropPadding),G=te.heights[k],W=te.widths[k];let it=at-H.top,ot=0-H.left;switch(Pt){case"middle":it-=G/2;break;case"bottom":it-=G;break}switch(U){case"center":ot-=W/2;break;case"right":ot-=W;break;case"inner":k===V-1?ot-=W:k>0&&(ot-=W/2);break}A={left:ot,top:it,width:W+H.width,height:G+H.height,color:xt.backdropColor}}M.push({label:P,font:et,textOffset:at,options:{rotation:C,color:F,strokeColor:$,strokeWidth:Et,textAlign:bt,textBaseline:Pt,translation:[j,Q],backdrop:A}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-us(this.labelRotation))return t==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:l,mirror:a,padding:r}}=this.options,u=this._getLabelSizes(),h=t+r,d=u.widest.width;let m,p;return n==="left"?a?(p=this.right+r,l==="near"?m="left":l==="center"?(m="center",p+=d/2):(m="right",p+=d)):(p=this.right-h,l==="near"?m="right":l==="center"?(m="center",p-=d/2):(m="left",p=this.left)):n==="right"?a?(p=this.left+r,l==="near"?m="right":l==="center"?(m="center",p-=d/2):(m="left",p-=d)):(p=this.left+h,l==="near"?m="left":l==="center"?(m="center",p+=d/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:l,top:a,width:r,height:u}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(l,a,r,u),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(r=>r.value===t);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const n=this.options.grid,l=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,u;const h=(d,m,p)=>{!p.width||!p.color||(l.save(),l.lineWidth=p.width,l.strokeStyle=p.color,l.setLineDash(p.borderDash||[]),l.lineDashOffset=p.borderDashOffset,l.beginPath(),l.moveTo(d.x,d.y),l.lineTo(m.x,m.y),l.stroke(),l.restore())};if(n.display)for(r=0,u=a.length;r<u;++r){const d=a[r];n.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:l,grid:a}}=this,r=l.setContext(this.getContext()),u=l.display?r.width:0;if(!u)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,p,y,v;this.isHorizontal()?(m=is(t,this.left,u)-u/2,p=is(t,this.right,h)+h/2,y=v=d):(y=is(t,this.top,u)-u/2,v=is(t,this.bottom,h)+h/2,m=p=d),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(m,y),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const l=this.ctx,a=this._computeLabelArea();a&&Ud(l,a);const r=this.getLabelItems(t);for(const u of r){const h=u.options,d=u.font,m=u.label,p=u.textOffset;bc(l,m,0,p,d,h)}a&&jd(l)}drawTitle(){const{ctx:t,options:{position:n,title:l,reverse:a}}=this;if(!l.display)return;const r=Ie(l.font),u=yn(l.padding),h=l.align;let d=r.lineHeight/2;n==="bottom"||n==="center"||Dt(n)?(d+=u.bottom,_e(l.text)&&(d+=r.lineHeight*(l.text.length-1))):d+=u.top;const{titleX:m,titleY:p,maxWidth:y,rotation:v}=cO(this,d,n,h);bc(t,l.text,0,0,r,{color:l.color,maxWidth:y,rotation:v,textAlign:rO(h,n,a),textBaseline:"middle",translation:[m,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,l=St(t.grid&&t.grid.z,-1),a=St(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Tl.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:l,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),l=this.axis+"AxisID",a=[];let r,u;for(r=0,u=n.length;r<u;++r){const h=n[r];h[l]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ie(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qr{constructor(t,n,l){this.type=t,this.scope=n,this.override=l,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let l;fO(n)&&(l=this.register(n));const a=this.items,r=t.id,u=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in a||(a[r]=t,uO(t,u,l),this.override&&$t.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const n=this.items,l=t.id,a=this.scope;l in n&&delete n[l],a&&l in $t[a]&&(delete $t[a][l],this.override&&delete _s[l])}}function uO(i,t,n){const l=eo(Object.create(null),[n?$t.get(n):{},$t.get(t),i.defaults]);$t.set(t,l),i.defaultRoutes&&hO(t,i.defaultRoutes),i.descriptors&&$t.describe(t,i.descriptors)}function hO(i,t){Object.keys(t).forEach(n=>{const l=n.split("."),a=l.pop(),r=[i].concat(l).join("."),u=t[n].split("."),h=u.pop(),d=u.join(".");$t.route(r,a,d,h)})}function fO(i){return"id"in i&&"defaults"in i}class dO{constructor(){this.controllers=new qr(f1,"datasets",!0),this.elements=new qr(Cl,"elements"),this.plugins=new qr(Object,"plugins"),this.scales=new qr(Tl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,l){[...n].forEach(a=>{const r=l||this._getRegistryForType(a);l||r.isForType(a)||r===this.plugins&&a.id?this._exec(t,r,a):Nt(a,u=>{const h=l||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,n,l){const a=Id(t);qt(l["before"+a],[],l),n[t](l),qt(l["after"+a],[],l)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const l=this._typedRegistries[n];if(l.isForType(t))return l}return this.plugins}_get(t,n,l){const a=n.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+l+".");return a}}var Tn=new dO;class gO{constructor(){this._init=void 0}notify(t,n,l,a){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=a?this._descriptors(t).filter(a):this._descriptors(t),u=this._notify(r,t,n,l);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),u}_notify(t,n,l,a){a=a||{};for(const r of t){const u=r.plugin,h=u[l],d=[n,a,r.options];if(qt(h,d,u)===!1&&a.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const l=t&&t.config,a=St(l.options&&l.options.plugins,{}),r=mO(l);return a===!1&&!n?[]:_O(t,r,a,n)}_notifyStateChanges(t){const n=this._oldCache||[],l=this._cache,a=(r,u)=>r.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(a(n,l),t,"stop"),this._notify(a(l,n),t,"start")}}function mO(i){const t={},n=[],l=Object.keys(Tn.plugins.items);for(let r=0;r<l.length;r++)n.push(Tn.getPlugin(l[r]));const a=i.plugins||[];for(let r=0;r<a.length;r++){const u=a[r];n.indexOf(u)===-1&&(n.push(u),t[u.id]=!0)}return{plugins:n,localIds:t}}function pO(i,t){return!t&&i===!1?null:i===!0?{}:i}function _O(i,{plugins:t,localIds:n},l,a){const r=[],u=i.getContext();for(const h of t){const d=h.id,m=pO(l[d],a);m!==null&&r.push({plugin:h,options:yO(i.config,{plugin:h,local:n[d]},m,u)})}return r}function yO(i,{plugin:t,local:n},l,a){const r=i.pluginScopeKeys(t),u=i.getOptionScopes(l,r);return n&&t.defaults&&u.push(t.defaults),i.createResolver(u,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zf(i,t){const n=$t.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function vO(i,t){let n=i;return i==="_index_"?n=t:i==="_value_"&&(n=t==="x"?"y":"x"),n}function bO(i,t){return i===t?"_index_":"_value_"}function Uv(i){if(i==="x"||i==="y"||i==="r")return i}function SO(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Jf(i,...t){if(Uv(i))return i;for(const n of t){const l=n.axis||SO(n.position)||i.length>1&&Uv(i[0].toLowerCase());if(l)return l}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function jv(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function xO(i,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(l=>l.xAxisID===i||l.yAxisID===i);if(n.length)return jv(i,"x",n[0])||jv(i,"y",n[0])}return{}}function EO(i,t){const n=_s[i.type]||{scales:{}},l=t.scales||{},a=Zf(i.type,t),r=Object.create(null);return Object.keys(l).forEach(u=>{const h=l[u];if(!Dt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=Jf(u,h,xO(u,i),$t.scales[h.type]),m=bO(d,a),p=n.scales||{};r[u]=ja(Object.create(null),[{axis:d},h,p[d],p[m]])}),i.data.datasets.forEach(u=>{const h=u.type||i.type,d=u.indexAxis||Zf(h,t),p=(_s[h]||{}).scales||{};Object.keys(p).forEach(y=>{const v=vO(y,d),S=u[v+"AxisID"]||v;r[S]=r[S]||Object.create(null),ja(r[S],[{axis:v},l[S],p[y]])})}),Object.keys(r).forEach(u=>{const h=r[u];ja(h,[$t.scales[h.type],$t.scale])}),r}function y1(i){const t=i.options||(i.options={});t.plugins=St(t.plugins,{}),t.scales=EO(i,t)}function v1(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function CO(i){return i=i||{},i.data=v1(i.data),y1(i),i}const Vv=new Map,b1=new Set;function Gr(i,t){let n=Vv.get(i);return n||(n=t(),Vv.set(i,n),b1.add(n)),n}const wa=(i,t,n)=>{const l=_c(t,n);l!==void 0&&i.add(l)};class TO{constructor(t){this._config=CO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=v1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),y1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Gr(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Gr(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,l=this.type;return Gr(`${l}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const l=this._scopeCache;let a=l.get(t);return(!a||n)&&(a=new Map,l.set(t,a)),a}getOptionScopes(t,n,l){const{options:a,type:r}=this,u=this._cachedScopes(t,l),h=u.get(n);if(h)return h;const d=new Set;n.forEach(p=>{t&&(d.add(t),p.forEach(y=>wa(d,t,y))),p.forEach(y=>wa(d,a,y)),p.forEach(y=>wa(d,_s[r]||{},y)),p.forEach(y=>wa(d,$t,y)),p.forEach(y=>wa(d,Qf,y))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),b1.has(n)&&u.set(n,m),m}chartOptionScopes(){const{options:t,type:n}=this;return[t,_s[n]||{},$t.datasets[n]||{},{type:n},$t,Qf]}resolveNamedOptions(t,n,l,a=[""]){const r={$shared:!0},{resolver:u,subPrefixes:h}=Fv(this._resolverCache,t,a);let d=u;if(MO(u,n)){r.$shared=!1,l=Li(l)?l():l;const m=this.createResolver(t,l,h);d=vl(u,l,m)}for(const m of n)r[m]=d[m];return r}createResolver(t,n,l=[""],a){const{resolver:r}=Fv(this._resolverCache,t,l);return Dt(n)?vl(r,n,void 0,a):r}}function Fv(i,t,n){let l=i.get(t);l||(l=new Map,i.set(t,l));const a=n.join();let r=l.get(a);return r||(r={resolver:Vd(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},l.set(a,r)),r}const AO=i=>Dt(i)&&Object.getOwnPropertyNames(i).some(t=>Li(i[t]));function MO(i,t){const{isScriptable:n,isIndexable:l}=n1(i);for(const a of t){const r=n(a),u=l(a),h=(u||r)&&i[a];if(r&&(Li(h)||AO(h))||u&&_e(h))return!0}return!1}var DO="4.5.1";const wO=["top","bottom","left","right","chartArea"];function Yv(i,t){return i==="top"||i==="bottom"||wO.indexOf(i)===-1&&t==="x"}function qv(i,t){return function(n,l){return n[i]===l[i]?n[t]-l[t]:n[i]-l[i]}}function Gv(i){const t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),qt(n&&n.onComplete,[i],t)}function OO(i){const t=i.chart,n=t.options.animation;qt(n&&n.onProgress,[i],t)}function S1(i){return qd()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Kr={},Pv=i=>{const t=S1(i);return Object.values(Kr).filter(n=>n.canvas===t).pop()};function RO(i,t,n){const l=Object.keys(i);for(const a of l){const r=+a;if(r>=t){const u=i[a];delete i[a],(n>0||r>t)&&(i[r+n]=u)}}}function NO(i,t,n,l){return!n||i.type==="mouseout"?null:l?t:i}let kc=class{static defaults=$t;static instances=Kr;static overrides=_s;static registry=Tn;static version=DO;static getChart=Pv;static register(...t){Tn.add(...t),Xv()}static unregister(...t){Tn.remove(...t),Xv()}constructor(t,n){const l=this.config=new TO(n),a=S1(t),r=Pv(a);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const u=l.createResolver(l.chartOptionScopes(),this.getContext());this.platform=new(l.platform||Kw(a)),this.platform.updateConfig(l);const h=this.platform.acquireContext(a,u.aspectRatio),d=h&&h.canvas,m=d&&d.height,p=d&&d.width;if(this.id=kM(),this.ctx=h,this.canvas=d,this.width=p,this.height=m,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=eD(y=>this.update(y),u.resizeDelay||0),this._dataChanges=[],Kr[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Pn.listen(this,"complete",Gv),Pn.listen(this,"progress",OO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:l,height:a,_aspectRatio:r}=this;return jt(t)?n&&r?r:a?l/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mv(this.canvas,this.ctx),this}stop(){return Pn.stop(this),this}resize(t,n){Pn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const l=this.options,a=this.canvas,r=l.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(a,t,n,r),h=l.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,yv(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),qt(l.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(l,a)=>{l.id=a})}buildOrUpdateScales(){const t=this.options,n=t.scales,l=this.scales,a=Object.keys(l).reduce((u,h)=>(u[h]=!1,u),{});let r=[];n&&(r=r.concat(Object.keys(n).map(u=>{const h=n[u],d=Jf(u,h),m=d==="r",p=d==="x";return{options:h,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),Nt(r,u=>{const h=u.options,d=h.id,m=Jf(d,h),p=St(h.type,u.dtype);(h.position===void 0||Yv(h.position,m)!==Yv(u.dposition))&&(h.position=u.dposition),a[d]=!0;let y=null;if(d in l&&l[d].type===p)y=l[d];else{const v=Tn.getScale(p);y=new v({id:d,type:p,ctx:this.ctx,chart:this}),l[y.id]=y}y.init(h,t)}),Nt(a,(u,h)=>{u||delete l[h]}),Nt(l,u=>{Di.configure(this,u,u.options),Di.addBox(this,u)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,l=t.length;if(t.sort((a,r)=>a.index-r.index),l>n){for(let a=n;a<l;++a)this._destroyDatasetMeta(a);t.splice(n,l-n)}this._sortedMetasets=t.slice(0).sort(qv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((l,a)=>{n.filter(r=>r===l._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let l,a;for(this._removeUnreferencedMetasets(),l=0,a=n.length;l<a;l++){const r=n[l];let u=this.getDatasetMeta(l);const h=r.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(l),u=this.getDatasetMeta(l)),u.type=h,u.indexAxis=r.indexAxis||Zf(h,this.options),u.order=r.order||0,u.index=l,u.label=""+r.label,u.visible=this.isDatasetVisible(l),u.controller)u.controller.updateIndex(l),u.controller.linkScales();else{const d=Tn.getController(h),{datasetElementType:m,dataElementType:p}=$t.datasets[h];Object.assign(d,{dataElementType:Tn.getElement(p),datasetElementType:m&&Tn.getElement(m)}),u.controller=new d(this,l),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Nt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const l=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!l.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:y}=this.getDatasetMeta(m),v=!a&&r.indexOf(y)===-1;y.buildOrUpdateElements(v),u=Math.max(+y.getMaxOverflow(),u)}u=this._minPadding=l.layout.autoPadding?u:0,this._updateLayout(u),a||Nt(r,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qv("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Nt(this.scales,t=>{Di.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),l=new Set(t.events);(!lv(n,l)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:l,start:a,count:r}of n){const u=l==="_removeElements"?-r:r;RO(t,a,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,l=r=>new Set(t.filter(u=>u[0]===r).map((u,h)=>h+","+u.splice(1).join(","))),a=l(0);for(let r=1;r<n;r++)if(!lv(a,l(r)))return;return Array.from(a).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Di.update(this,this.width,this.height,t);const n=this.chartArea,l=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,a=>{l&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,r)=>{a._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,l=this.data.datasets.length;n<l;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,l=this.data.datasets.length;n<l;++n)this._updateDataset(n,Li(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const l=this.getDatasetMeta(t),a={meta:l,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(l.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pn.has(this)?this.attached&&!Pn.running(this)&&Pn.start(this):(this.draw(),Gv({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:l,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(l,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,l=[];let a,r;for(a=0,r=n.length;a<r;++a){const u=n[a];(!t||u.visible)&&l.push(u)}return l}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,l={meta:t,index:t.index,cancelable:!0},a=rw(this,t);this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(a&&Ud(n,a),t.controller.draw(),a&&jd(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return io(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,l,a){const r=ww.modes[n];return typeof r=="function"?r(this,t,l,a):[]}getDatasetMeta(t){const n=this.data.datasets[t],l=this._metasets;let a=l.filter(r=>r&&r._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},l.push(a)),a}getContext(){return this.$context||(this.$context=bs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const l=this.getDatasetMeta(t);return typeof l.hidden=="boolean"?!l.hidden:!n.hidden}setDatasetVisibility(t,n){const l=this.getDatasetMeta(t);l.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,l){const a=l?"show":"hide",r=this.getDatasetMeta(t),u=r.controller._resolveAnimations(void 0,a);yc(n)?(r.data[n].hidden=!l,this.update()):(this.setDatasetVisibility(t,l),u.update(r,{visible:l}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Pn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),mv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,l=(r,u)=>{n.addEventListener(this,r,u),t[r]=u},a=(r,u,h)=>{r.offsetX=u,r.offsetY=h,this._eventHandler(r)};Nt(this.options.events,r=>l(r,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,l=(d,m)=>{n.addEventListener(this,d,m),t[d]=m},a=(d,m)=>{t[d]&&(n.removeEventListener(this,d,m),delete t[d])},r=(d,m)=>{this.canvas&&this.resize(d,m)};let u;const h=()=>{a("attach",h),this.attached=!0,this.resize(),l("resize",r),l("detach",u)};u=()=>{this.attached=!1,a("resize",r),this._stop(),this._resize(0,0),l("attach",h)},n.isAttached(this.canvas)?h():u()}unbindEvents(){Nt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Nt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,l){const a=l?"set":"remove";let r,u,h,d;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const m=u&&this.getDatasetMeta(u.datasetIndex).controller;m&&m[a+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],l=t.map(({datasetIndex:r,index:u})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[u],index:u}});!mc(l,n)&&(this._active=l,this._lastEvent=null,this._updateHoverStyles(l,n))}notifyPlugins(t,n,l){return this._plugins.notify(this,t,n,l)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,l){const a=this.options.hover,r=(d,m)=>d.filter(p=>!m.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),u=r(n,t),h=l?t:r(t,n);u.length&&this.updateHoverStyle(u,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,n){const l={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},a=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",l,a)===!1)return;const r=this._handleEvent(t,n,l.inChartArea);return l.cancelable=!1,this.notifyPlugins("afterEvent",l,a),(r||l.changed)&&this.render(),this}_handleEvent(t,n,l){const{_active:a=[],options:r}=this,u=n,h=this._getActiveElements(t,a,l,u),d=jM(t),m=NO(t,this._lastEvent,l,d);l&&(this._lastEvent=null,qt(r.onHover,[t,h,this],this),d&&qt(r.onClick,[t,h,this],this));const p=!mc(h,a);return(p||n)&&(this._active=h,this._updateHoverStyles(h,a,n)),this._lastEvent=m,p}_getActiveElements(t,n,l,a){if(t.type==="mouseout")return[];if(!l)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,a)}};function Xv(){return Nt(kc.instances,i=>i._plugins.invalidate())}function x1(i,t,n=t){i.lineCap=St(n.borderCapStyle,t.borderCapStyle),i.setLineDash(St(n.borderDash,t.borderDash)),i.lineDashOffset=St(n.borderDashOffset,t.borderDashOffset),i.lineJoin=St(n.borderJoinStyle,t.borderJoinStyle),i.lineWidth=St(n.borderWidth,t.borderWidth),i.strokeStyle=St(n.borderColor,t.borderColor)}function zO(i,t,n){i.lineTo(n.x,n.y)}function kO(i){return i.stepped?mD:i.tension||i.cubicInterpolationMode==="monotone"?pD:zO}function E1(i,t,n={}){const l=i.length,{start:a=0,end:r=l-1}=n,{start:u,end:h}=t,d=Math.max(a,u),m=Math.min(r,h),p=a<u&&r<u||a>h&&r>h;return{count:l,start:d,loop:t.loop,ilen:m<d&&!p?l+m-d:m-d}}function LO(i,t,n,l){const{points:a,options:r}=t,{count:u,start:h,loop:d,ilen:m}=E1(a,n,l),p=kO(r);let{move:y=!0,reverse:v}=l||{},S,x,C;for(S=0;S<=m;++S)x=a[(h+(v?m-S:S))%u],!x.skip&&(y?(i.moveTo(x.x,x.y),y=!1):p(i,C,x,v,r.stepped),C=x);return d&&(x=a[(h+(v?m:0))%u],p(i,C,x,v,r.stepped)),!!d}function IO(i,t,n,l){const a=t.points,{count:r,start:u,ilen:h}=E1(a,n,l),{move:d=!0,reverse:m}=l||{};let p=0,y=0,v,S,x,C,M,k;const V=P=>(u+(m?h-P:P))%r,Y=()=>{C!==M&&(i.lineTo(p,M),i.lineTo(p,C),i.lineTo(p,k))};for(d&&(S=a[V(0)],i.moveTo(S.x,S.y)),v=0;v<=h;++v){if(S=a[V(v)],S.skip)continue;const P=S.x,j=S.y,Q=P|0;Q===x?(j<C?C=j:j>M&&(M=j),p=(y*p+P)/++y):(Y(),i.lineTo(P,j),x=Q,y=0,C=M=j),k=j}Y()}function $f(i){const t=i.options,n=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?IO:LO}function HO(i){return i.stepped?WD:i.tension||i.cubicInterpolationMode==="monotone"?KD:rs}function BO(i,t,n,l){let a=t._path;a||(a=t._path=new Path2D,t.path(a,n,l)&&a.closePath()),x1(i,t.options),i.stroke(a)}function UO(i,t,n,l){const{segments:a,options:r}=t,u=$f(t);for(const h of a)x1(i,r,h.style),i.beginPath(),u(i,t,h,{start:n,end:n+l-1})&&i.closePath(),i.stroke()}const jO=typeof Path2D=="function";function VO(i,t,n,l){jO&&!t.options.segment?BO(i,t,n,l):UO(i,t,n,l)}class FO extends Cl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const l=this.options;if((l.tension||l.cubicInterpolationMode==="monotone")&&!l.stepped&&!this._pointsUpdated){const a=l.spanGaps?this._loop:this._fullLoop;VD(this._points,l,t,a,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sw(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,l=t.length;return l&&n[t[l-1].end]}interpolate(t,n){const l=this.options,a=t[n],r=this.points,u=ew(this,{property:n,start:a,end:a});if(!u.length)return;const h=[],d=HO(l);let m,p;for(m=0,p=u.length;m<p;++m){const{start:y,end:v}=u[m],S=r[y],x=r[v];if(S===x){h.push(S);continue}const C=Math.abs((a-S[n])/(x[n]-S[n])),M=d(S,x,C,l.stepped);M[n]=t[n],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,n,l){return $f(this)(t,this,n,l)}path(t,n,l){const a=this.segments,r=$f(this);let u=this._loop;n=n||0,l=l||this.points.length-n;for(const h of a)u&=r(t,this,h,{start:n,end:n+l-1});return!!u}draw(t,n,l,a){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),VO(t,this,l,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Qv(i,t,n,l){const a=i.options,{[n]:r}=i.getProps([n],l);return Math.abs(t-r)<a.radius+a.hitRadius}class YO extends Cl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,l){const a=this.options,{x:r,y:u}=this.getProps(["x","y"],l);return Math.pow(t-r,2)+Math.pow(n-u,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,n){return Qv(this,t,"x",n)}inYRange(t,n){return Qv(this,t,"y",n)}getCenterPoint(t){const{x:n,y:l}=this.getProps(["x","y"],t);return{x:n,y:l}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const l=n&&t.borderWidth||0;return(n+l)*2}draw(t,n){const l=this.options;this.skip||l.radius<.1||!io(this,n,this.size(l)/2)||(t.strokeStyle=l.borderColor,t.lineWidth=l.borderWidth,t.fillStyle=l.backgroundColor,Wf(t,l,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const Wv=(i,t)=>{let{boxHeight:n=t,boxWidth:l=t}=i;return i.usePointStyle&&(n=Math.min(n,t),l=i.pointStyleWidth||Math.min(l,t)),{boxWidth:l,boxHeight:n,itemHeight:Math.max(t,n)}},qO=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Kv extends Cl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,l){this.maxWidth=t,this.maxHeight=n,this._margins=l,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=qt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(l=>t.filter(l,this.chart.data))),t.sort&&(n=n.sort((l,a)=>t.sort(l,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const l=t.labels,a=Ie(l.font),r=a.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=Wv(l,r);let m,p;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(u,r,h,d)+10):(p=this.maxHeight,m=this._fitCols(u,a,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,l,a){const{ctx:r,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],p=a+h;let y=t;r.textAlign="left",r.textBaseline="middle";let v=-1,S=-p;return this.legendItems.forEach((x,C)=>{const M=l+n/2+r.measureText(x.text).width;(C===0||m[m.length-1]+M+2*h>u)&&(y+=p,m[m.length-(C>0?0:1)]=0,S+=p,v++),d[C]={left:0,top:S,row:v,width:M,height:a},m[m.length-1]+=M+h}),y}_fitCols(t,n,l,a){const{ctx:r,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],p=u-t;let y=h,v=0,S=0,x=0,C=0;return this.legendItems.forEach((M,k)=>{const{itemWidth:V,itemHeight:Y}=GO(l,n,r,M,a);k>0&&S+Y+2*h>p&&(y+=v+h,m.push({width:v,height:S}),x+=v+h,C++,v=S=0),d[k]={left:x,top:S,col:C,width:V,height:Y},v=Math.max(v,V),S+=Y+h}),y+=v,m.push({width:v,height:S}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:l,labels:{padding:a},rtl:r}}=this,u=dl(r,this.left,this.width);if(this.isHorizontal()){let h=0,d=Qe(l,this.left+a,this.right-this.lineWidths[h]);for(const m of n)h!==m.row&&(h=m.row,d=Qe(l,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=u.leftForLtr(u.x(d),m.width),d+=m.width+a}else{let h=0,d=Qe(l,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of n)m.col!==h&&(h=m.col,d=Qe(l,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+a,m.left=u.leftForLtr(u.x(m.left),m.width),d+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ud(t,this),this._draw(),jd(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:l,ctx:a}=this,{align:r,labels:u}=t,h=$t.color,d=dl(t.rtl,this.left,this.width),m=Ie(u.font),{padding:p}=u,y=m.size,v=y/2;let S;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:x,boxHeight:C,itemHeight:M}=Wv(u,y),k=function(Q,U,X){if(isNaN(x)||x<=0||isNaN(C)||C<0)return;a.save();const et=St(X.lineWidth,1);if(a.fillStyle=St(X.fillStyle,h),a.lineCap=St(X.lineCap,"butt"),a.lineDashOffset=St(X.lineDashOffset,0),a.lineJoin=St(X.lineJoin,"miter"),a.lineWidth=et,a.strokeStyle=St(X.strokeStyle,h),a.setLineDash(St(X.lineDash,[])),u.usePointStyle){const ft={radius:C*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:et},lt=d.xPlus(Q,x/2),at=U+v;t1(a,ft,lt,at,u.pointStyleWidth&&x)}else{const ft=U+Math.max((y-C)/2,0),lt=d.leftForLtr(Q,x),at=qa(X.borderRadius);a.beginPath(),Object.values(at).some(Pt=>Pt!==0)?Kf(a,{x:lt,y:ft,w:x,h:C,radius:at}):a.rect(lt,ft,x,C),a.fill(),et!==0&&a.stroke()}a.restore()},V=function(Q,U,X){bc(a,X.text,Q,U+M/2,m,{strikethrough:X.hidden,textAlign:d.textAlign(X.textAlign)})},Y=this.isHorizontal(),P=this._computeTitleHeight();Y?S={x:Qe(r,this.left+p,this.right-l[0]),y:this.top+p+P,line:0}:S={x:this.left+p,y:Qe(r,this.top+P+p,this.bottom-n[0].height),line:0},o1(this.ctx,t.textDirection);const j=M+p;this.legendItems.forEach((Q,U)=>{a.strokeStyle=Q.fontColor,a.fillStyle=Q.fontColor;const X=a.measureText(Q.text).width,et=d.textAlign(Q.textAlign||(Q.textAlign=u.textAlign)),ft=x+v+X;let lt=S.x,at=S.y;d.setWidth(this.width),Y?U>0&&lt+ft+p>this.right&&(at=S.y+=j,S.line++,lt=S.x=Qe(r,this.left+p,this.right-l[S.line])):U>0&&at+j>this.bottom&&(lt=S.x=lt+n[S.line].width+p,S.line++,at=S.y=Qe(r,this.top+P+p,this.bottom-n[S.line].height));const Pt=d.x(lt);if(k(Pt,at,Q),lt=nD(et,lt+x+v,Y?lt+ft:this.right,t.rtl),V(d.x(lt),at,Q),Y)S.x+=ft+p;else if(typeof Q.text!="string"){const te=m.lineHeight;S.y+=C1(Q,te)+p}else S.y+=j}),r1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,l=Ie(n.font),a=yn(n.padding);if(!n.display)return;const r=dl(t.rtl,this.left,this.width),u=this.ctx,h=n.position,d=l.size/2,m=a.top+d;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+m,y=Qe(t.align,y,this.right-v);else{const x=this.columnSizes.reduce((C,M)=>Math.max(C,M.height),0);p=m+Qe(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const S=Qe(h,y,y+v);u.textAlign=r.textAlign(Z0(h)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=l.string,bc(u,n.text,S,p,l)}_computeTitleHeight(){const t=this.options.title,n=Ie(t.font),l=yn(t.padding);return t.display?n.lineHeight+l.height:0}_getLegendItemAt(t,n){let l,a,r;if(Ra(t,this.left,this.right)&&Ra(n,this.top,this.bottom)){for(r=this.legendHitBoxes,l=0;l<r.length;++l)if(a=r[l],Ra(t,a.left,a.left+a.width)&&Ra(n,a.top,a.top+a.height))return this.legendItems[l]}return null}handleEvent(t){const n=this.options;if(!QO(t.type,n))return;const l=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,r=qO(a,l);a&&!r&&qt(n.onLeave,[t,a,this],this),this._hoveredItem=l,l&&!r&&qt(n.onHover,[t,l,this],this)}else l&&qt(n.onClick,[t,l,this],this)}}function GO(i,t,n,l,a){const r=PO(l,i,t,n),u=XO(a,l,t.lineHeight);return{itemWidth:r,itemHeight:u}}function PO(i,t,n,l){let a=i.text;return a&&typeof a!="string"&&(a=a.reduce((r,u)=>r.length>u.length?r:u)),t+n.size/2+l.measureText(a).width}function XO(i,t,n){let l=i;return typeof t.text!="string"&&(l=C1(t,n)),l}function C1(i,t){const n=i.text?i.text.length:0;return t*n}function QO(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var WO={id:"legend",_element:Kv,start(i,t,n){const l=i.legend=new Kv({ctx:i.ctx,options:n,chart:i});Di.configure(i,l,n),Di.addBox(i,l)},stop(i){Di.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,n){const l=i.legend;Di.configure(i,l,n),l.options=n},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,n){const l=t.datasetIndex,a=n.chart;a.isDatasetVisible(l)?(a.hide(l),t.hidden=!0):(a.show(l),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:n,pointStyle:l,textAlign:a,color:r,useBorderRadius:u,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(n?0:void 0),p=yn(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:l||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:u&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};const za={average(i){if(!i.length)return!1;let t,n,l=new Set,a=0,r=0;for(t=0,n=i.length;t<n;++t){const h=i[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();l.add(d.x),a+=d.y,++r}}return r===0||l.size===0?!1:{x:[...l].reduce((h,d)=>h+d)/l.size,y:a/r}},nearest(i,t){if(!i.length)return!1;let n=t.x,l=t.y,a=Number.POSITIVE_INFINITY,r,u,h;for(r=0,u=i.length;r<u;++r){const d=i[r].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),p=Xf(t,m);p<a&&(a=p,h=d)}}if(h){const d=h.tooltipPosition();n=d.x,l=d.y}return{x:n,y:l}}};function Cn(i,t){return t&&(_e(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Xn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function KO(i,t){const{element:n,datasetIndex:l,index:a}=t,r=i.getDatasetMeta(l).controller,{label:u,value:h}=r.getLabelAndValue(a);return{chart:i,label:u,parsed:r.getParsed(a),raw:i.data.datasets[l].data[a],formattedValue:h,dataset:r.getDataset(),dataIndex:a,datasetIndex:l,element:n}}function Zv(i,t){const n=i.chart.ctx,{body:l,footer:a,title:r}=i,{boxWidth:u,boxHeight:h}=t,d=Ie(t.bodyFont),m=Ie(t.titleFont),p=Ie(t.footerFont),y=r.length,v=a.length,S=l.length,x=yn(t.padding);let C=x.height,M=0,k=l.reduce((P,j)=>P+j.before.length+j.lines.length+j.after.length,0);if(k+=i.beforeBody.length+i.afterBody.length,y&&(C+=y*m.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),k){const P=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;C+=S*P+(k-S)*d.lineHeight+(k-1)*t.bodySpacing}v&&(C+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let V=0;const Y=function(P){M=Math.max(M,n.measureText(P).width+V)};return n.save(),n.font=m.string,Nt(i.title,Y),n.font=d.string,Nt(i.beforeBody.concat(i.afterBody),Y),V=t.displayColors?u+2+t.boxPadding:0,Nt(l,P=>{Nt(P.before,Y),Nt(P.lines,Y),Nt(P.after,Y)}),V=0,n.font=p.string,Nt(i.footer,Y),n.restore(),M+=x.width,{width:M,height:C}}function ZO(i,t){const{y:n,height:l}=t;return n<l/2?"top":n>i.height-l/2?"bottom":"center"}function JO(i,t,n,l){const{x:a,width:r}=l,u=n.caretSize+n.caretPadding;if(i==="left"&&a+r+u>t.width||i==="right"&&a-r-u<0)return!0}function $O(i,t,n,l){const{x:a,width:r}=n,{width:u,chartArea:{left:h,right:d}}=i;let m="center";return l==="center"?m=a<=(h+d)/2?"left":"right":a<=r/2?m="left":a>=u-r/2&&(m="right"),JO(m,i,t,n)&&(m="center"),m}function Jv(i,t,n){const l=n.yAlign||t.yAlign||ZO(i,n);return{xAlign:n.xAlign||t.xAlign||$O(i,t,n,l),yAlign:l}}function tR(i,t){let{x:n,width:l}=i;return t==="right"?n-=l:t==="center"&&(n-=l/2),n}function eR(i,t,n){let{y:l,height:a}=i;return t==="top"?l+=n:t==="bottom"?l-=a+n:l-=a/2,l}function $v(i,t,n,l){const{caretSize:a,caretPadding:r,cornerRadius:u}=i,{xAlign:h,yAlign:d}=n,m=a+r,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:S}=qa(u);let x=tR(t,h);const C=eR(t,d,m);return d==="center"?h==="left"?x+=m:h==="right"&&(x-=m):h==="left"?x-=Math.max(p,v)+a:h==="right"&&(x+=Math.max(y,S)+a),{x:rn(x,0,l.width-t.width),y:rn(C,0,l.height-t.height)}}function Pr(i,t,n){const l=yn(n.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-l.right:i.x+l.left}function tb(i){return Cn([],Xn(i))}function nR(i,t,n){return bs(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}function eb(i,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}const T1={beforeTitle:Gn,title(i){if(i.length>0){const t=i[0],n=t.chart.data.labels,l=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(l>0&&t.dataIndex<l)return n[t.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const n=i.formattedValue;return jt(n)||(t+=n),t},labelColor(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function Ne(i,t,n,l){const a=i[t].call(n,l);return typeof a>"u"?T1[t].call(n,l):a}class nb extends Cl{static positioners=za;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,l=this.options.setContext(this.getContext()),a=l.enabled&&n.options.animation&&l.animations,r=new u1(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=nR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:l}=n,a=Ne(l,"beforeTitle",this,t),r=Ne(l,"title",this,t),u=Ne(l,"afterTitle",this,t);let h=[];return h=Cn(h,Xn(a)),h=Cn(h,Xn(r)),h=Cn(h,Xn(u)),h}getBeforeBody(t,n){return tb(Ne(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:l}=n,a=[];return Nt(t,r=>{const u={before:[],lines:[],after:[]},h=eb(l,r);Cn(u.before,Xn(Ne(h,"beforeLabel",this,r))),Cn(u.lines,Ne(h,"label",this,r)),Cn(u.after,Xn(Ne(h,"afterLabel",this,r))),a.push(u)}),a}getAfterBody(t,n){return tb(Ne(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:l}=n,a=Ne(l,"beforeFooter",this,t),r=Ne(l,"footer",this,t),u=Ne(l,"afterFooter",this,t);let h=[];return h=Cn(h,Xn(a)),h=Cn(h,Xn(r)),h=Cn(h,Xn(u)),h}_createItems(t){const n=this._active,l=this.chart.data,a=[],r=[],u=[];let h=[],d,m;for(d=0,m=n.length;d<m;++d)h.push(KO(this.chart,n[d]));return t.filter&&(h=h.filter((p,y,v)=>t.filter(p,y,v,l))),t.itemSort&&(h=h.sort((p,y)=>t.itemSort(p,y,l))),Nt(h,p=>{const y=eb(t.callbacks,p);a.push(Ne(y,"labelColor",this,p)),r.push(Ne(y,"labelPointStyle",this,p)),u.push(Ne(y,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=r,this.labelTextColors=u,this.dataPoints=h,h}update(t,n){const l=this.options.setContext(this.getContext()),a=this._active;let r,u=[];if(!a.length)this.opacity!==0&&(r={opacity:0});else{const h=za[l.position].call(this,a,this._eventPosition);u=this._createItems(l),this.title=this.getTitle(u,l),this.beforeBody=this.getBeforeBody(u,l),this.body=this.getBody(u,l),this.afterBody=this.getAfterBody(u,l),this.footer=this.getFooter(u,l);const d=this._size=Zv(this,l),m=Object.assign({},h,d),p=Jv(this.chart,l,m),y=$v(l,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&l.external&&l.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,l,a){const r=this.getCaretPosition(t,l,a);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,l){const{xAlign:a,yAlign:r}=this,{caretSize:u,cornerRadius:h}=l,{topLeft:d,topRight:m,bottomLeft:p,bottomRight:y}=qa(h),{x:v,y:S}=t,{width:x,height:C}=n;let M,k,V,Y,P,j;return r==="center"?(P=S+C/2,a==="left"?(M=v,k=M-u,Y=P+u,j=P-u):(M=v+x,k=M+u,Y=P-u,j=P+u),V=M):(a==="left"?k=v+Math.max(d,p)+u:a==="right"?k=v+x-Math.max(m,y)-u:k=this.caretX,r==="top"?(Y=S,P=Y-u,M=k-u,V=k+u):(Y=S+C,P=Y+u,M=k+u,V=k-u),j=Y),{x1:M,x2:k,x3:V,y1:Y,y2:P,y3:j}}drawTitle(t,n,l){const a=this.title,r=a.length;let u,h,d;if(r){const m=dl(l.rtl,this.x,this.width);for(t.x=Pr(this,l.titleAlign,l),n.textAlign=m.textAlign(l.titleAlign),n.textBaseline="middle",u=Ie(l.titleFont),h=l.titleSpacing,n.fillStyle=l.titleColor,n.font=u.string,d=0;d<r;++d)n.fillText(a[d],m.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===r&&(t.y+=l.titleMarginBottom-h)}}_drawColorBox(t,n,l,a,r){const u=this.labelColors[l],h=this.labelPointStyles[l],{boxHeight:d,boxWidth:m}=r,p=Ie(r.bodyFont),y=Pr(this,"left",r),v=a.x(y),S=d<p.lineHeight?(p.lineHeight-d)/2:0,x=n.y+S;if(r.usePointStyle){const C={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=a.leftForLtr(v,m)+m/2,k=x+d/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Wf(t,C,M,k),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Wf(t,C,M,k)}else{t.lineWidth=Dt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const C=a.leftForLtr(v,m),M=a.leftForLtr(a.xPlus(v,1),m-2),k=qa(u.borderRadius);Object.values(k).some(V=>V!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Kf(t,{x:C,y:x,w:m,h:d,radius:k}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Kf(t,{x:M,y:x+1,w:m-2,h:d-2,radius:k}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(C,x,m,d),t.strokeRect(C,x,m,d),t.fillStyle=u.backgroundColor,t.fillRect(M,x+1,m-2,d-2))}t.fillStyle=this.labelTextColors[l]}drawBody(t,n,l){const{body:a}=this,{bodySpacing:r,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:p}=l,y=Ie(l.bodyFont);let v=y.lineHeight,S=0;const x=dl(l.rtl,this.x,this.width),C=function(X){n.fillText(X,x.x(t.x+S),t.y+v/2),t.y+=v+r},M=x.textAlign(u);let k,V,Y,P,j,Q,U;for(n.textAlign=u,n.textBaseline="middle",n.font=y.string,t.x=Pr(this,M,l),n.fillStyle=l.bodyColor,Nt(this.beforeBody,C),S=h&&M!=="right"?u==="center"?m/2+p:m+2+p:0,P=0,Q=a.length;P<Q;++P){for(k=a[P],V=this.labelTextColors[P],n.fillStyle=V,Nt(k.before,C),Y=k.lines,h&&Y.length&&(this._drawColorBox(n,t,P,x,l),v=Math.max(y.lineHeight,d)),j=0,U=Y.length;j<U;++j)C(Y[j]),v=y.lineHeight;Nt(k.after,C)}S=0,v=y.lineHeight,Nt(this.afterBody,C),t.y-=r}drawFooter(t,n,l){const a=this.footer,r=a.length;let u,h;if(r){const d=dl(l.rtl,this.x,this.width);for(t.x=Pr(this,l.footerAlign,l),t.y+=l.footerMarginTop,n.textAlign=d.textAlign(l.footerAlign),n.textBaseline="middle",u=Ie(l.footerFont),n.fillStyle=l.footerColor,n.font=u.string,h=0;h<r;++h)n.fillText(a[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+l.footerSpacing}}drawBackground(t,n,l,a){const{xAlign:r,yAlign:u}=this,{x:h,y:d}=t,{width:m,height:p}=l,{topLeft:y,topRight:v,bottomLeft:S,bottomRight:x}=qa(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(h+y,d),u==="top"&&this.drawCaret(t,n,l,a),n.lineTo(h+m-v,d),n.quadraticCurveTo(h+m,d,h+m,d+v),u==="center"&&r==="right"&&this.drawCaret(t,n,l,a),n.lineTo(h+m,d+p-x),n.quadraticCurveTo(h+m,d+p,h+m-x,d+p),u==="bottom"&&this.drawCaret(t,n,l,a),n.lineTo(h+S,d+p),n.quadraticCurveTo(h,d+p,h,d+p-S),u==="center"&&r==="left"&&this.drawCaret(t,n,l,a),n.lineTo(h,d+y),n.quadraticCurveTo(h,d,h+y,d),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,l=this.$animations,a=l&&l.x,r=l&&l.y;if(a||r){const u=za[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=Zv(this,t),d=Object.assign({},u,this._size),m=Jv(n,t,d),p=$v(t,d,m,n);(a._to!==p.x||r._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let l=this.opacity;if(!l)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},r={x:this.x,y:this.y};l=Math.abs(l)<.001?0:l;const u=yn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=l,this.drawBackground(r,t,a,n),o1(t,n.textDirection),r.y+=u.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),r1(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const l=this._active,a=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),r=!mc(l,a),u=this._positionChanged(a,n);(r||u)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,l=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,r=this._active||[],u=this._getActiveElements(t,r,n,l),h=this._positionChanged(u,t),d=n||!mc(u,r)||h;return d&&(this._active=u,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),d}_getActiveElements(t,n,l,a){const r=this.options;if(t.type==="mouseout")return[];if(!a)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,r.mode,r,l);return r.reverse&&u.reverse(),u}_positionChanged(t,n){const{caretX:l,caretY:a,options:r}=this,u=za[r.position].call(this,t,n);return u!==!1&&(l!==u.x||a!==u.y)}}var iR={id:"tooltip",_element:nb,positioners:za,afterInit(i,t,n){n&&(i.tooltip=new nb({chart:i,options:n}))},beforeUpdate(i,t,n){i.tooltip&&i.tooltip.initialize(n)},reset(i,t,n){i.tooltip&&i.tooltip.initialize(n)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",n)}},afterEvent(i,t){if(i.tooltip){const n=t.replay;i.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:T1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sR=(i,t,n,l)=>(typeof t=="string"?(n=i.push(t)-1,l.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function lR(i,t,n,l){const a=i.indexOf(t);if(a===-1)return sR(i,t,n,l);const r=i.lastIndexOf(t);return a!==r?n:a}const aR=(i,t)=>i===null?null:rn(Math.round(i),0,t);function ib(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class oR extends Tl{static id="category";static defaults={ticks:{callback:ib}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const l=this.getLabels();for(const{index:a,label:r}of n)l[a]===r&&l.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(jt(t))return null;const l=this.getLabels();return n=isFinite(n)&&l[n]===t?n:lR(l,t,St(n,t),this._addedLabels),aR(n,l.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:l,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(l=0),n||(a=this.getLabels().length-1)),this.min=l,this.max=a}buildTicks(){const t=this.min,n=this.max,l=this.options.offset,a=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(l?0:1),1),this._startValue=this.min-(l?.5:0);for(let u=t;u<=n;u++)a.push({value:u});return a}getLabelForValue(t){return ib.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function rR(i,t){const n=[],{bounds:a,step:r,min:u,max:h,precision:d,count:m,maxTicks:p,maxDigits:y,includeBounds:v}=i,S=r||1,x=p-1,{min:C,max:M}=t,k=!jt(u),V=!jt(h),Y=!jt(m),P=(M-C)/(y+1);let j=ov((M-C)/x/S)*S,Q,U,X,et;if(j<1e-14&&!k&&!V)return[{value:C},{value:M}];et=Math.ceil(M/j)-Math.floor(C/j),et>x&&(j=ov(et*j/x/S)*S),jt(d)||(Q=Math.pow(10,d),j=Math.ceil(j*Q)/Q),a==="ticks"?(U=Math.floor(C/j)*j,X=Math.ceil(M/j)*j):(U=C,X=M),k&&V&&r&&GM((h-u)/r,j/1e3)?(et=Math.round(Math.min((h-u)/j,p)),j=(h-u)/et,U=u,X=h):Y?(U=k?u:U,X=V?h:X,et=m-1,j=(X-U)/et):(et=(X-U)/j,Va(et,Math.round(et),j/1e3)?et=Math.round(et):et=Math.ceil(et));const ft=Math.max(rv(j),rv(U));Q=Math.pow(10,jt(d)?ft:d),U=Math.round(U*Q)/Q,X=Math.round(X*Q)/Q;let lt=0;for(k&&(v&&U!==u?(n.push({value:u}),U<u&&lt++,Va(Math.round((U+lt*j)*Q)/Q,u,sb(u,P,i))&&lt++):U<u&&lt++);lt<et;++lt){const at=Math.round((U+lt*j)*Q)/Q;if(V&&at>h)break;n.push({value:at})}return V&&v&&X!==h?n.length&&Va(n[n.length-1].value,h,sb(h,P,i))?n[n.length-1].value=h:n.push({value:h}):(!V||X===h)&&n.push({value:X}),n}function sb(i,t,{horizontal:n,minRotation:l}){const a=us(l),r=(n?Math.sin(a):Math.cos(a))||.001,u=.75*t*(""+i).length;return Math.min(t/r,u)}class cR extends Tl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:l}=this.getUserBounds();let{min:a,max:r}=this;const u=d=>a=n?a:d,h=d=>r=l?r:d;if(t){const d=yl(a),m=yl(r);d<0&&m<0?h(0):d>0&&m>0&&u(0)}if(a===r){let d=r===0?1:Math.abs(r*.05);h(r+d),t||u(a-d)}this.min=a,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:l}=t,a;return l?(a=Math.ceil(this.max/l)-Math.floor(this.min/l)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${l} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let l=this.getTickLimit();l=Math.max(2,l);const a={maxTicks:l,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,u=rR(a,r);return t.bounds==="ticks"&&PM(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let n=this.min,l=this.max;if(super.configure(),this.options.offset&&t.length){const a=(l-n)/Math.max(t.length-1,1)/2;n-=a,l+=a}this._startValue=n,this._endValue=l,this._valueRange=l-n}getLabelForValue(t){return J0(t,this.chart.options.locale,this.options.ticks.format)}}class uR extends cR{static id="linear";static defaults={ticks:{callback:$0.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=cn(t)?t:0,this.max=cn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,l=us(this.options.ticks.minRotation),a=(t?Math.sin(l):Math.cos(l))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Lc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ze=Object.keys(Lc);function lb(i,t){return i-t}function ab(i,t){if(jt(t))return null;const n=i._adapter,{parser:l,round:a,isoWeekday:r}=i._parseOpts;let u=t;return typeof l=="function"&&(u=l(u)),cn(u)||(u=typeof l=="string"?n.parse(u,l):n.parse(u)),u===null?null:(a&&(u=a==="week"&&(no(r)||r===!0)?n.startOf(u,"isoWeek",r):n.startOf(u,a)),+u)}function ob(i,t,n,l){const a=ze.length;for(let r=ze.indexOf(i);r<a-1;++r){const u=Lc[ze[r]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-t)/(h*u.size))<=l)return ze[r]}return ze[a-1]}function hR(i,t,n,l,a){for(let r=ze.length-1;r>=ze.indexOf(n);r--){const u=ze[r];if(Lc[u].common&&i._adapter.diff(a,l,u)>=t-1)return u}return ze[n?ze.indexOf(n):0]}function fR(i){for(let t=ze.indexOf(i)+1,n=ze.length;t<n;++t)if(Lc[ze[t]].common)return ze[t]}function rb(i,t,n){if(!n)i[t]=!0;else if(n.length){const{lo:l,hi:a}=Hd(n,t),r=n[l]>=t?n[l]:n[a];i[r]=!0}}function dR(i,t,n,l){const a=i._adapter,r=+a.startOf(t[0].value,l),u=t[t.length-1].value;let h,d;for(h=r;h<=u;h=+a.add(h,1,l))d=n[h],d>=0&&(t[d].major=!0);return t}function cb(i,t,n){const l=[],a={},r=t.length;let u,h;for(u=0;u<r;++u)h=t[u],a[h]=u,l.push({value:h,major:!1});return r===0||!n?l:dR(i,l,a,n)}class ub extends Tl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const l=t.time||(t.time={}),a=this._adapter=new Cw._date(t.adapters.date);a.init(n),ja(l.displayFormats,a.formats()),this._parseOpts={parser:l.parser,round:l.round,isoWeekday:l.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:ab(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,l=t.time.unit||"day";let{min:a,max:r,minDefined:u,maxDefined:h}=this.getUserBounds();function d(m){!u&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(r=Math.max(r,m.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=cn(a)&&!isNaN(a)?a:+n.startOf(Date.now(),l),r=cn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),l)+1,this.min=Math.min(a,r-1),this.max=Math.max(a+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],l=t[t.length-1]),{min:n,max:l}}buildTicks(){const t=this.options,n=t.time,l=t.ticks,a=l.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const r=this.min,u=this.max,h=JM(a,r,u);return this._unit=n.unit||(l.autoSkip?ob(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):hR(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!l.major.enabled||this._unit==="year"?void 0:fR(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),cb(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,l=0,a,r;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?n=1-a:n=(this.getDecimalForValue(t[1])-a)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?l=r:l=(r-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;n=rn(n,0,u),l=rn(l,0,u),this._offsets={start:n,end:l,factor:1/(n+1+l)}}_generate(){const t=this._adapter,n=this.min,l=this.max,a=this.options,r=a.time,u=r.unit||ob(r.minUnit,n,l,this._getLabelCapacity(n)),h=St(a.ticks.stepSize,1),d=u==="week"?r.isoWeekday:!1,m=no(d)||d===!0,p={};let y=n,v,S;if(m&&(y=+t.startOf(y,"isoWeek",d)),y=+t.startOf(y,m?"day":u),t.diff(l,n,u)>1e5*h)throw new Error(n+" and "+l+" are too far apart with stepSize of "+h+" "+u);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(v=y,S=0;v<l;v=+t.add(v,h,u),S++)rb(p,v,x);return(v===l||a.bounds==="ticks"||S===1)&&rb(p,v,x),Object.keys(p).sort(lb).map(C=>+C)}getLabelForValue(t){const n=this._adapter,l=this.options.time;return l.tooltipFormat?n.format(t,l.tooltipFormat):n.format(t,l.displayFormats.datetime)}format(t,n){const a=this.options.time.displayFormats,r=this._unit,u=n||a[r];return this._adapter.format(t,u)}_tickFormatFunction(t,n,l,a){const r=this.options,u=r.ticks.callback;if(u)return qt(u,[t,n,l],this);const h=r.time.displayFormats,d=this._unit,m=this._majorUnit,p=d&&h[d],y=m&&h[m],v=l[n],S=m&&y&&v&&v.major;return this._adapter.format(t,a||(S?y:p))}generateTickLabels(t){let n,l,a;for(n=0,l=t.length;n<l;++n)a=t[n],a.label=this._tickFormatFunction(a.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,l=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+l)*n.factor)}getValueForPixel(t){const n=this._offsets,l=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+l*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,l=this.ctx.measureText(t).width,a=us(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(a),u=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:l*r+h*u,h:l*u+h*r}}_getLabelCapacity(t){const n=this.options.time,l=n.displayFormats,a=l[n.unit]||l.millisecond,r=this._tickFormatFunction(t,0,cb(this,[t],this._majorUnit),a),u=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,l;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,l=a.length;n<l;++n)t=t.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,l;if(t.length)return t;const a=this.getLabels();for(n=0,l=a.length;n<l;++n)t.push(ab(this,a[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return tD(t.sort(lb))}}function Xr(i,t,n){let l=0,a=i.length-1,r,u,h,d;n?(t>=i[l].pos&&t<=i[a].pos&&({lo:l,hi:a}=hs(i,"pos",t)),{pos:r,time:h}=i[l],{pos:u,time:d}=i[a]):(t>=i[l].time&&t<=i[a].time&&({lo:l,hi:a}=hs(i,"time",t)),{time:r,pos:h}=i[l],{time:u,pos:d}=i[a]);const m=u-r;return m?h+(d-h)*(t-r)/m:h}class wR extends ub{static id="timeseries";static defaults=ub.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Xr(n,this.min),this._tableRange=Xr(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:l}=this,a=[],r=[];let u,h,d,m,p;for(u=0,h=t.length;u<h;++u)m=t[u],m>=n&&m<=l&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:l,pos:1}];for(u=0,h=a.length;u<h;++u)p=a[u+1],d=a[u-1],m=a[u],Math.round((p+d)/2)!==m&&r.push({time:m,pos:u/(h-1)});return r}_generate(){const t=this.min,n=this.max;let l=super.getDataTimestamps();return(!l.includes(t)||!l.length)&&l.splice(0,0,t),(!l.includes(n)||l.length===1)&&l.push(n),l.sort((a,r)=>a-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),l=this.getLabelTimestamps();return n.length&&l.length?t=this.normalize(n.concat(l)):t=n.length?n:l,t=this._cache.all=t,t}getDecimalForValue(t){return(Xr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,l=this.getDecimalForPixel(t)/n.factor-n.end;return Xr(this._table,l*this._tableRange+this._minPos,!0)}}const A1="label";function hb(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function gR(i,t){const n=i.options;n&&t&&Object.assign(n,t)}function M1(i,t){i.labels=t}function D1(i,t,n=A1){const l=[];i.datasets=t.map(a=>{const r=i.datasets.find(u=>u[n]===a[n]);return!r||!a.data||l.includes(r)?{...a}:(l.push(r),Object.assign(r,a),r)})}function mR(i,t=A1){const n={labels:[],datasets:[]};return M1(n,i.labels),D1(n,i.datasets,t),n}function pR(i,t){const{height:n=150,width:l=300,redraw:a=!1,datasetIdKey:r,type:u,data:h,options:d,plugins:m=[],fallbackContent:p,updateMode:y,...v}=i,S=Ce.useRef(null),x=Ce.useRef(null),C=()=>{S.current&&(x.current=new kc(S.current,{type:u,data:mR(h,r),options:d&&{...d},plugins:m}),hb(t,x.current))},M=()=>{hb(t,null),x.current&&(x.current.destroy(),x.current=null)};return Ce.useEffect(()=>{!a&&x.current&&d&&gR(x.current,d)},[a,d]),Ce.useEffect(()=>{!a&&x.current&&M1(x.current.config.data,h.labels)},[a,h.labels]),Ce.useEffect(()=>{!a&&x.current&&h.datasets&&D1(x.current.config.data,h.datasets,r)},[a,h.datasets]),Ce.useEffect(()=>{x.current&&(a?(M(),setTimeout(C)):x.current.update(y))},[a,d,h.labels,h.datasets,y]),Ce.useEffect(()=>{x.current&&(M(),setTimeout(C))},[u]),Ce.useEffect(()=>(C(),()=>M()),[]),tt.jsx("canvas",{ref:S,role:"img",height:n,width:l,...v,children:p})}const _R=Ce.forwardRef(pR);function yR(i,t){return kc.register(t),Ce.forwardRef((n,l)=>tt.jsx(_R,{...n,ref:l,type:i}))}const vR=yR("line",Ew);kc.register(oR,uR,YO,FO,WO,iR);function bR({readings:i=[]}){const t=i.slice(0,120).reverse(),n=t.map(h=>new Date(h.timestamp).toLocaleTimeString()),l=t.map(h=>h.uv_index||h.sensors&&h.sensors.uv_index||0),a=t.map(h=>h.magnetic_field_uT||h.sensors&&h.sensors.magnetic_field_uT||0),r=Ce.useMemo(()=>({labels:n,datasets:[{label:"UV Index",data:l,tension:.3,borderWidth:2,fill:!1,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",yAxisID:"yUV"},{label:"Magnetic Field Strength (T)",data:a,tension:.3,borderWidth:2,fill:!1,borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.5)",yAxisID:"yMagnetic"}]}),[n,l,a]),u={responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Realtime Environmental Readings"}},scales:{x:{title:{display:!0,text:"Time"}},yUV:{type:"linear",display:!0,position:"left",title:{display:!0,text:"UV Index"},grid:{drawOnChartArea:!0},min:0,max:12},yMagnetic:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Magnetic Field Strength (T)"},grid:{drawOnChartArea:!1},min:40,max:50}}};return tt.jsxs("div",{children:[tt.jsx("h3",{children:"Realtime Environmental Data"}),tt.jsx(vR,{data:r,options:u})]})}function SR({readings:i=[]}){return tt.jsxs("div",{children:[tt.jsx("h3",{children:"Latest readings"}),tt.jsxs("table",{children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{children:"Time"}),tt.jsx("th",{children:"Gamma"}),tt.jsx("th",{children:"UV"}),tt.jsx("th",{children:"EMF (mT)"}),tt.jsx("th",{children:"Class"})]})}),tt.jsx("tbody",{children:i.map(t=>{const n=t.gamma_cpm??(t.sensors&&t.sensors.gamma_cpm)??"-",l=t.uv_index??(t.sensors&&t.sensors.uv_index)??"-",a=t.emf_mT??(t.sensors&&t.sensors.emf_mT)??"-",r=t.classification??"unknown";return tt.jsxs("tr",{children:[tt.jsx("td",{children:new Date(t.timestamp).toLocaleString()}),tt.jsx("td",{children:n}),tt.jsx("td",{children:l}),tt.jsx("td",{children:a}),tt.jsx("td",{children:tt.jsx("span",{className:`badge ${r==="unsafe"?"unsafe":"safe"}`,children:r})})]},t._id??t.timestamp)})})]})]})}function xR({database:i}){const[t,n]=Ce.useState([]),[l,a]=Ce.useState("Awaiting Classification...");return Ce.useEffect(()=>{if(!i){console.error(" Firebase database connection is missing.");return}const r=tM(Jy(i,"classified-alerts"),$A(1)),u=$y(r,m=>{const p=m.val();if(p){const y=Object.values(p)[0];y&&y.status?a(y.status.toUpperCase()):a("Data format error - missing status")}else a("No data received yet.")},m=>{console.error(" Error reading from classified-alerts:",m),a("Connection error - check console")}),h=Jy(i,"classified-alerts"),d=$y(h,m=>{const p=m.val();if(p){const v=Object.values(p).map(S=>({timestamp:S.timestamp,Gamma:S.gamma||S.Gamma||"-",UV:S.uv||S.UV||"-","EMF (mT)":S.EMF_mT||S.emf_mT||S.EMF||"-",Class:S.status?S.status.toUpperCase():"UNKNOWN"}));n(v.slice().reverse())}else n([])},m=>{console.error(" Error reading readings data:",m)});return()=>{u(),d()}},[i]),tt.jsxs("div",{className:"app",children:[tt.jsx(hM,{}),tt.jsxs("div",{className:"layout",children:[tt.jsxs("div",{children:[tt.jsx("div",{className:"card charts",children:tt.jsx(bR,{readings:t})}),tt.jsx("div",{className:"card table",style:{marginTop:16},children:tt.jsx(SR,{readings:t.slice(0,30)})})]}),tt.jsxs("div",{children:[tt.jsxs("div",{className:"card",style:{marginBottom:12},children:[tt.jsx("h3",{children:"Device Info"}),tt.jsxs("p",{children:[tt.jsx("strong",{children:"ID:"})," device-001"]}),tt.jsxs("p",{children:[tt.jsx("strong",{children:"Location:"})," Bangalore (Realtime)"]}),tt.jsxs("p",{children:[tt.jsx("strong",{children:"Last update:"}),t[0]?new Date(t[0].timestamp*1e3).toLocaleString():""]})]}),tt.jsxs("div",{className:"card",children:[tt.jsx("h3",{children:"Alerts"}),tt.jsx("p",{style:{fontWeight:"bold",color:l==="UNSAFE"?"red":"green"},children:l}),tt.jsx("small",{children:"Status provided by Edge AI classification."})]})]})]})]})}var ER="firebase",CR="12.5.0";cl(ER,CR,"app");const TR={apiKey:"AIzaSyCOGp_Z6UMgsuL5vyNDNe0ZOqxDnCaI2Z4",authDomain:"mini-project-754ff.firebaseapp.com",databaseURL:"https://mini-project-754ff-default-rtdb.firebaseio.com",projectId:"mini-project-754ff",storageBucket:"mini-project-754ff.firebasestorage.app",messagingSenderId:"311695524219",appId:"1:311695524219:web:42bce530aa84b007957dde",measurementId:"G-H4XBXW6MF4"},AR=Tb(TR),MR=rM(AR);cE.createRoot(document.getElementById("root")).render(tt.jsx(nE.StrictMode,{children:tt.jsx(xR,{database:MR})}));
